import { useState, useEffect } from 'react';
import { CheckCircle } from 'lucide-react';
import type { User } from '../types';
import { generateQRCode } from './LazyQRCode';

interface ContractPreviewProps {
  user: User;
  qrCodeUrl?: string;
  language: 'ru' | 'uz';
}

// UK company details for QR code
const UK_QR_DATA = `–û–û–û "KAMIZO"
–ò–ù–ù: 307928888
–ú–§–û: 01071
–†/–°: 20208000805307918001
–ë–∞–Ω–∫: –û—Ä–∏–µ–Ω—Ç –§–∏–Ω–∞–Ω—Å –ß–ê–ö–ë
–ê–¥—Ä–µ—Å: –≥. –¢–∞—à–∫–µ–Ω—Ç, –Ø—à–Ω–æ–±–∞–¥—Å–∫–∏–π —Ä-–Ω, —É–ª. –ú–∞—Ö—Ç—É–º–∫—É–ª–∏, 93/3`;

export function ContractPreview({ user, qrCodeUrl, language }: ContractPreviewProps) {
  const [ukQrCodeUrl, setUkQrCodeUrl] = useState<string>('');

  // Generate UK company QR code
  useEffect(() => {
    const generateUkQR = async () => {
      const url = await generateQRCode(UK_QR_DATA, {
        width: 200,
        margin: 1,
        errorCorrectionLevel: 'M',
        color: { dark: '#1f2937', light: '#ffffff' },
      });
      setUkQrCodeUrl(url);
    };
    generateUkQR();
  }, []);

  const formatDate = (dateStr?: string) => {
    if (!dateStr) return '-';
    return new Date(dateStr).toLocaleDateString(language === 'ru' ? 'ru-RU' : 'uz-UZ', {
      day: '2-digit',
      month: 'long',
      year: 'numeric',
    });
  };

  return (
    <div className="bg-white rounded-xl border border-gray-200 overflow-hidden">
      <div className="max-h-[80vh] overflow-y-auto p-4 md:p-6 text-[11px] leading-relaxed text-gray-800">
        {/* Contract Title */}
        <div className="text-center mb-4">
          <h3 className="text-sm font-bold text-gray-900">–î–û–ì–û–í–û–† –£–ü–†–ê–í–õ–ï–ù–ò–Ø</h3>
          <p className="text-sm font-bold text-gray-900">–ú–ù–û–ì–û–ö–í–ê–†–¢–ò–†–ù–´–ú –î–û–ú–û–ú</p>
          <p className="text-xs text-gray-600 mt-2">
            ¬´{formatDate(user.contractSignedAt || user.createdAt)}¬ª –≥. –¢–∞—à–∫–µ–Ω—Ç
          </p>
        </div>

        {/* Preamble */}
        <p className="mb-3 text-justify">
          –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –∂–∏–ª–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è <strong>{user.name}</strong> (–æ–±—â–∞—è –ø–ª–æ—â–∞–¥—å <em>{user.totalArea || '___'} –∫–≤.–º.</em>),
          –ø—Ä–æ–∂–∏–≤–∞—é—â–∏–π(–∞—è) –ø–æ –∞–¥—Ä–µ—Å—É: <em>{user.address}{user.apartment ? `, –∫–≤. ${user.apartment}` : ''}</em> (–¥–∞–ª–µ–µ - –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫)
          –∏ <strong>–£–ö "KAMIZO"</strong> –≤ –ª–∏—Ü–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ DJULIYEV JAXONGIR XABIBULLAYEVICH, –¥–µ–π—Å—Ç–≤—É—é—â–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –£—Å—Ç–∞–≤–∞,
          –∏–º–µ–Ω—É–µ–º—ã–π –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è, –∑–∞–∫–ª—é—á–∏–ª–∏ –Ω–∞—Å—Ç–æ—è—â–∏–π –¥–æ–≥–æ–≤–æ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–µ–∂–∏–ª—ã—Ö) –∂–∏–ª—ã—Ö –ø–æ–º–µ—â–µ–Ω–∏–π
          –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–º –¥–æ–º–µ –æ –Ω–∏–∂–µ—Å–ª–µ–¥—É—é—â–µ–º:
        </p>

        {/* Section 1 */}
        <h4 className="font-bold text-center my-3">1. –û–ë–©–ò–ï –ü–û–õ–û–ñ–ï–ù–ò–Ø</h4>
        <p className="mb-2 text-justify">
          1.1. –ù–∞—Å—Ç–æ—è—â–∏–π –¥–æ–≥–æ–≤–æ—Ä –∑–∞–∫–ª—é—á–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ü–†–û–¢–û–ö–û–õ–ê –°–æ–±—Ä–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –∂–∏–ª—ã—Ö –ø–æ–º–µ—â–µ–Ω–∏–π –≤ –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–º
          –¥–æ–º–µ ‚Ññ{user.apartment || '___'} –æ—Ç ¬´{formatDate(user.contractSignedAt || user.createdAt)}¬ª.
        </p>
        <p className="mb-2 text-justify">
          1.2. –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞, –°—Ç–æ—Ä–æ–Ω—ã —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É—é—Ç—Å—è –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–µ–π –†–£–∑, –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–º –∏ –ñ–∏–ª–∏—â–Ω—ã–º
          –∫–æ–¥–µ–∫—Å–æ–º –†–£–∑, –ó–∞–∫–æ–Ω–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∏ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω "–û–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–º–∏ –¥–æ–º–∞–º–∏", –ü–æ–ª–æ–∂–µ–Ω–∏–µ–º –æ –ø–æ—Ä—è–¥–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
          –Ω–µ–∂–∏–ª—ã—Ö –ø–æ–º–µ—â–µ–Ω–∏–π –≤ –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã—Ö –¥–æ–º–∞—Ö (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Ññ2 –∫ –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –ö–ú –†–£–∑ –æ—Ç 24.01.2000–≥ ‚Ññ22), –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
          –ö–∞–±–∏–Ω–µ—Ç–∞ –ú–∏–Ω–∏—Å—Ç—Ä–æ–≤ –†–£–∑. ‚Ññ5 –æ—Ç 04.01.2019–≥. ¬´–û –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ä–∞—Ö –ø–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–ª–∏—â–Ω–æ-–∫–æ–º–º—É–Ω–∞–ª—å–Ω–æ–π
          –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –≥. –¢–∞—à–∫–µ–Ω—Ç–∞¬ª, –∏–Ω—ã–º–∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è–º–∏ –¥–µ–π—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ —É—Å–ª–æ–≤–∏—è–º–∏ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞.
        </p>

        {/* Section 2 */}
        <h4 className="font-bold text-center my-3">2. –ü–†–ï–î–ú–ï–¢ –î–û–ì–û–í–û–†–ê</h4>
        <p className="mb-2 text-justify">
          2.1. –¶–µ–ª—å –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞ - –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏
          —É–ª—É—á—à–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—â–µ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞.
        </p>
        <p className="mb-2 text-justify">
          2.2. –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è –æ–±—è–∑—É–µ—Ç—Å—è –æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Å–ª—É–≥–∏ –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–±–æ—Ç—ã –ø–æ –Ω–∞–¥–ª–µ–∂–∞—â–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é, —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é –∏
          —Ä–µ–º–æ–Ω—Ç—É –æ–±—â–µ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞ –≤ –ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–º –¥–æ–º–µ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –∏–Ω—É—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
          –ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–º –¥–æ–º–æ–º –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –í–æ–ø—Ä–æ—Å—ã –æ–∫–∞–∑–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª—É–≥ —Ä–µ–≥—É–ª–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –¥–æ–≥–æ–≤–æ—Ä–æ–º.
        </p>
        <p className="mb-2 text-justify">
          2.3. –ì—Ä–∞–Ω–∏—Ü–µ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –æ–±—â–µ–¥–æ–º–æ–≤—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –∏ –∫–≤–∞—Ä—Ç–∏—Ä–æ–π —è–≤–ª—è–µ—Ç—Å—è: –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ö
          –≥–æ—Ä—è—á–µ–≥–æ –∏ —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è - –æ—Ç—Å–µ–∫–∞—é—â–∞—è –∞—Ä–º–∞—Ç—É—Ä–∞ (–ø–µ—Ä–≤—ã–π –≤–µ–Ω—Ç–∏–ª—å); –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ö –∫–∞–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ - –ø–ª–æ—Å–∫–æ—Å—Ç—å
          —Ä–∞—Å—Ç—Ä—É–±–∞ —Ç—Ä–æ–π–Ω–∏–∫–∞; –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é - –æ—Ç—Ö–æ–¥—è—â–∏–π –æ—Ç –∞–ø–ø–∞—Ä–∞—Ç–∞ –∑–∞—â–∏—Ç—ã –ø—Ä–æ–≤–æ–¥ –∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–π —ç–ª–µ–∫—Ç—Ä–æ—Å–µ—Ç–∏; –ø–æ
          —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º ‚Äì –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å —Å—Ç–µ–Ω –∫–≤–∞—Ä—Ç–∏—Ä—ã, –æ–∫–æ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –≤—Ö–æ–¥–Ω–∞—è –¥–≤–µ—Ä—å –≤ –∫–≤–∞—Ä—Ç–∏—Ä—É.
        </p>

        {/* Section 3 */}
        <h4 className="font-bold text-center my-3">3. –ü–†–ê–í–ê –ò –û–ë–Ø–ó–ê–ù–ù–û–°–¢–ò –°–¢–û–†–û–ù</h4>
        <p className="font-semibold mb-1">3.1. –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è –æ–±—è–∑–∞–Ω–∞:</p>
        <ul className="list-disc list-inside pl-2 mb-2 space-y-1">
          <li>–û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–∏–º –∏–º—É—â–µ—Å—Ç–≤–æ–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞ –∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º</li>
          <li>–û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º –ø–ª–∞—Ç—É –∑–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ —Ä–µ–º–æ–Ω—Ç –æ–±—â–µ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞</li>
          <li>–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∞–≤–∞—Ä–∏–π–Ω–æ-–¥–∏—Å–ø–µ—Ç—á–µ—Ä—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω–æ–≥–æ –¥–æ–º–∞, —É—Å—Ç—Ä–∞–Ω—è—Ç—å –∞–≤–∞—Ä–∏–∏</li>
          <li>–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–ª–∞—Ç—ã –∑–∞ –ø–æ–º–µ—â–µ–Ω–∏–µ</li>
          <li>–ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Å–≤–µ—Ä–∫—É –ø–ª–∞—Ç—ã –∑–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ —Ä–µ–º–æ–Ω—Ç</li>
          <li>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º –µ–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –î–æ–≥–æ–≤–æ—Ä–∞</li>
        </ul>

        <p className="font-semibold mb-1">3.2. –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è –≤–ø—Ä–∞–≤–µ:</p>
        <ul className="list-disc list-inside pl-2 mb-2 space-y-1">
          <li>–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∏ —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–≤–æ–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤</li>
          <li>–ü—Ä–∏–≤–ª–µ–∫–∞—Ç—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</li>
          <li>–í–∑—ã—Å–∫–∏–≤–∞—Ç—å —Å –≤–∏–Ω–æ–≤–Ω—ã—Ö —Å—É–º–º—É –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —É—â–µ—Ä–±–∞</li>
          <li>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –æ—Å–º–æ—Ç—Ä—ã –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</li>
        </ul>

        <p className="font-semibold mb-1">3.3. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –æ–±—è–∑–∞–Ω:</p>
        <ul className="list-disc list-inside pl-2 mb-2 space-y-1">
          <li>–°–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–Ω–æ—Å–∏—Ç—å –ø–ª–∞—Ç—É –∑–∞ —É—Å–ª—É–≥–∏ –£–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏</li>
          <li>–°–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏—è –æ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–µ –ø–æ–º–µ—â–µ–Ω–∏–π</li>
          <li>–ù–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –ø–µ—Ä–µ–Ω–æ—Å –∏ –∑–∞–º–µ–Ω—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö —Å–µ—Ç–µ–π –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è</li>
          <li>–ù–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç, –ø—Ä–∏–≤–æ–¥—è—â–∏—Ö –∫ –ø–æ—Ä—á–µ –æ–±—â–µ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞</li>
          <li>–ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–π —à—É–º —Å 22:00 –¥–æ 8:00</li>
          <li>–û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –£–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –æ—Å–º–æ—Ç—Ä–∞</li>
        </ul>

        <p className="font-semibold mb-1">3.4. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ:</p>
        <ul className="list-disc list-inside pl-2 mb-2 space-y-1">
          <li>–û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –£–ø—Ä–∞–≤–ª—è—é—â–µ–π –∫–æ–º–ø–∞–Ω–∏–∏</li>
          <li>–¢—Ä–µ–±–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª—É–≥</li>
        </ul>

        {/* Section 4 */}
        <h4 className="font-bold text-center my-3">4. –†–ê–ó–ú–ï–† –ü–õ–ê–¢–´ –ò –ü–û–†–Ø–î–û–ö –í–ù–ï–°–ï–ù–ò–Ø</h4>
        <p className="mb-2 text-justify">
          4.1. –†–∞–∑–º–µ—Ä –ø–ª–∞—Ç—ã –∑–∞ —É—Å–ª—É–≥–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–Ω–∏–º–∞–µ–º–æ–º—É –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–º –ø–æ–º–µ—â–µ–Ω–∏—é, —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç.132-134 –ñ–ö –†–£–∑.
        </p>
        <p className="mb-2 text-justify">
          4.2. –†–∞–∑–º–µ—Ä –ø–ª–∞—Ç—ã –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑: —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é; —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é –æ–±—â–µ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞;
          —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç –ø–æ —Ç–µ–∫—É—â–µ–º—É —Ä–µ–º–æ–Ω—Ç—É.
        </p>
        <p className="mb-2 text-justify">
          4.3. –ü–ª–∞—Ç–∞ –≤–Ω–æ—Å–∏—Ç—Å—è –µ–∂–µ–º–µ—Å—è—á–Ω–æ –¥–æ 10 (–¥–µ—Å—è—Ç–æ–≥–æ) —á–∏—Å–ª–∞ –º–µ—Å—è—Ü–∞, —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞ —Ä–∞—Å—á–µ—Ç–Ω—ã–º.
        </p>
        <p className="mb-2 text-justify">
          4.4. –ü—Ä–∏ –ø—Ä–æ—Å—Ä–æ—á–∫–µ –±–æ–ª–µ–µ 3-—Ö –º–µ—Å—è—Ü–µ–≤ –≤–æ–ø—Ä–æ—Å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –¢—Ä–µ—Ç–µ–π—Å–∫–∏–π –∏–ª–∏ –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –°—É–¥. –ü–µ–Ω–∏ —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç 0,1% –∑–∞
          –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–æ—Å—Ä–æ—á–∫–∏, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 50% –æ—Ç –æ–±—â–µ–π —Å—É–º–º—ã –¥–æ–ª–≥–∞.
        </p>

        {/* Section 5 */}
        <h4 className="font-bold text-center my-3">5. –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨ –°–¢–û–†–û–ù</h4>
        <p className="mb-2 text-justify">
          5.1. –ó–∞ –Ω–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–ª–∏ –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –î–æ–≥–æ–≤–æ—Ä–∞ –°—Ç–æ—Ä–æ–Ω—ã –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏
          —Å –¥–µ–π—Å—Ç–≤—É—é—â–∏–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –†–µ—Å–ø—É–±–ª–∏–∫–∏ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω.
        </p>
        <p className="mb-2 text-justify">
          5.2. –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —É—â–µ—Ä–±, –ø—Ä–∏—á–∏–Ω—ë–Ω–Ω—ã–π –∏–º—É—â–µ—Å—Ç–≤—É –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –µ–µ
          –¥–µ–π—Å—Ç–≤–∏–π –∏–ª–∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–π.
        </p>

        {/* Section 6 */}
        <h4 className="font-bold text-center my-3">6. –ü–û–†–Ø–î–û–ö –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ò –†–ê–°–¢–û–†–ñ–ï–ù–ò–Ø –î–û–ì–û–í–û–†–ê</h4>
        <p className="mb-2 text-justify">
          6.1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–º –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º.
        </p>
        <p className="mb-2 text-justify">
          6.2. –ù–∞—Å—Ç–æ—è—â–∏–π –î–æ–≥–æ–≤–æ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç: –ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é —Å—Ç–æ—Ä–æ–Ω; –≤ —Å—É–¥–µ–±–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ; –≤ —Å–≤—è–∑–∏ —Å –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º —Å—Ä–æ–∫–∞
          –¥–µ–π—Å—Ç–≤–∏—è –∏ –ø–∏—Å—å–º–µ–Ω–Ω—ã–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∑–∞ 30 –¥–Ω–µ–π; –≤—Å–ª–µ–¥—Å—Ç–≤–∏–µ —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–∞.
        </p>

        {/* Section 7 */}
        <h4 className="font-bold text-center my-3">7. –û–°–û–ë–´–ï –£–°–õ–û–í–ò–Ø</h4>
        <p className="mb-2 text-justify">
          –í—Å–µ —Å–ø–æ—Ä—ã, –≤–æ–∑–Ω–∏–∫—à–∏–µ –∏–∑ –î–æ–≥–æ–≤–æ—Ä–∞, —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø—É—Ç–µ–º –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Å–æ–≥–ª–∞—Å–∏—è - –≤ —Å—É–¥–µ–±–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
        </p>

        {/* Section 8 */}
        <h4 className="font-bold text-center my-3">8. –§–û–†–°-–ú–ê–ñ–û–†</h4>
        <p className="mb-2 text-justify">
          –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –µ—Å–ª–∏ –Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–∫–∞–∑–∞–ª–æ—Å—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –≤—Å–ª–µ–¥—Å—Ç–≤–∏–µ
          –Ω–µ–ø—Ä–µ–æ–¥–æ–ª–∏–º–æ–π —Å–∏–ª—ã (—á—Ä–µ–∑–≤—ã—á–∞–π–Ω—ã—Ö –∏ –Ω–µ–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–º—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤).
        </p>

        {/* Section 9 */}
        <h4 className="font-bold text-center my-3">9. –°–†–û–ö –î–ï–ô–°–¢–í–ò–Ø –î–û–ì–û–í–û–†–ê</h4>
        <p className="mb-2 text-justify">
          9.1. –ù–∞—Å—Ç–æ—è—â–∏–π –î–æ–≥–æ–≤–æ—Ä –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É c –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å–æ–±—Ä–∞–Ω–∏—è.
        </p>
        <p className="mb-2 text-justify">
          9.2. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–∏ –∑–∞ 30 –¥–Ω–µ–π –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ä–æ–∫–∞, –¥–æ–≥–æ–≤–æ—Ä –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π
          –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≥–æ–¥.
        </p>
        <p className="mb-2 text-justify">
          9.3. –ù–∞—Å—Ç–æ—è—â–∏–π –î–æ–≥–æ–≤–æ—Ä —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –¥–≤—É—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ –°—Ç–æ—Ä–æ–Ω. –û–±–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏–º–µ—é—Ç
          –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —Å–∏–ª—É.
        </p>

        {/* Signatures */}
        <div className="mt-6 pt-4 border-t-2 border-gray-300">
          <h4 className="font-bold text-center mb-4">–†–ï–ö–í–ò–ó–ò–¢–´ –ò –ü–û–î–ü–ò–°–ò –°–¢–û–†–û–ù</h4>
          <div className="grid grid-cols-2 gap-4">
            <div className="p-3 bg-gray-50 rounded-lg">
              <p className="font-bold text-xs mb-2">–£–ö: –û–û–û "KAMIZO"</p>
              <p className="text-[10px] text-gray-600">–≥. –¢–∞—à–∫–µ–Ω—Ç, –Ø—à–Ω–æ–±–∞–¥—Å–∫–∏–π —Ä–∞–π–æ–Ω,</p>
              <p className="text-[10px] text-gray-600">—É–ª. –ú–∞—Ö—Ç—É–º–∫—É–ª–∏, –¥–æ–º 93/3</p>
              <p className="text-[10px] text-gray-600">–ë–∞–Ω–∫: ¬´–û—Ä–∏–µ–Ω—Ç –§–∏–Ω–∞–Ω—Å¬ª –ß–ê–ö–ë</p>
              <p className="text-[10px] text-gray-600">–†/–°: 20208000805307918001</p>
              <p className="text-[10px] text-gray-600">–ò–ù–ù: 307928888 –ú–§–û: 01071</p>
              {ukQrCodeUrl ? (
                <img src={ukQrCodeUrl} alt="UK QR" className="w-20 h-20 mx-auto mt-2" />
              ) : (
                <div className="w-20 h-20 mx-auto mt-2 bg-gray-200 rounded animate-pulse" />
              )}
            </div>
            <div className="p-3 bg-gray-50 rounded-lg">
              <p className="font-bold text-xs mb-2">–°–û–ë–°–¢–í–ï–ù–ù–ò–ö:</p>
              <p className="text-[10px] text-gray-800 font-medium">{user.name}</p>
              <p className="text-[10px] text-gray-600 break-words">–ê–¥—Ä–µ—Å: {user.address}{user.apartment ? `, –∫–≤. ${user.apartment}` : ''}</p>
              <p className="text-[10px] text-gray-600">–¢–µ–ª: {user.phone || '___'}</p>
              <p className="text-[10px] text-gray-600">–õ/–°: {user.login}</p>
              {qrCodeUrl ? (
                <img src={qrCodeUrl} alt="Resident QR" className="w-20 h-20 mx-auto mt-2" />
              ) : (
                <div className="w-20 h-20 mx-auto mt-2 bg-gray-200 rounded animate-pulse" />
              )}
              {user.contractSignedAt && (
                <p className="text-xs text-green-600 mt-2 flex items-center justify-center gap-1 font-medium">
                  <CheckCircle className="w-3 h-3" />
                  {language === 'ru' ? '–ü–æ–¥–ø–∏—Å–∞–Ω–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ' : 'Elektron imzolangan'}
                </p>
              )}
            </div>
          </div>
        </div>
      </div>

      {/* Download hint at bottom */}
      <div className="px-4 py-3 bg-yellow-50 border-t border-yellow-200 text-center">
        <p className="text-xs text-yellow-800">
          {language === 'ru'
            ? 'üìÑ –≠—Ç–æ –ø—Ä–µ–≤—å—é –¥–æ–≥–æ–≤–æ—Ä–∞. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ DOCX –Ω–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä"'
            : 'üìÑ Bu shartnoma ko\'rinishi. Rasmiy hujjatni DOCX formatida olish uchun "Shartnomani yuklash" tugmasini bosing'
          }
        </p>
      </div>
    </div>
  );
}
