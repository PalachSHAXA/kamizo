{"version":3,"file":"ColleaguesSection-1768650097760-XApE-7kB.js","sources":["../../src/pages/ColleaguesSection.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Star, X, Users, Award, TrendingUp, Heart, MessageCircle, Loader2 } from 'lucide-react';\r\nimport { useDataStore } from '../stores/dataStore';\r\nimport { useAuthStore } from '../stores/authStore';\r\nimport { useLanguageStore } from '../stores/languageStore';\r\nimport { SPECIALIZATION_LABELS, type ExecutorSpecialization } from '../types';\r\n\r\n// –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö\r\ninterface Employee {\r\n  id: string;\r\n  name: string;\r\n  position: string;\r\n  department: string;\r\n  photo: string;\r\n  ratings: {\r\n    professionalKnowledge: number;\r\n    legislationKnowledge: number;\r\n    analyticalSkills: number;\r\n    qualityOfWork: number;\r\n    execution: number;\r\n    reliability: number;\r\n    teamwork: number;\r\n    communication: number;\r\n    initiative: number;\r\n    humanity: number;\r\n  };\r\n  totalRatings: number;\r\n  monthlyRatings: number;\r\n  badges: string[];\r\n}\r\n\r\ninterface Rating {\r\n  id: string;\r\n  raterId: string;\r\n  targetId: string;\r\n  month: number;\r\n  year: number;\r\n  ratings: {\r\n    professionalKnowledge: number;\r\n    legislationKnowledge: number;\r\n    analyticalSkills: number;\r\n    qualityOfWork: number;\r\n    execution: number;\r\n    reliability: number;\r\n    teamwork: number;\r\n    communication: number;\r\n    initiative: number;\r\n    humanity: number;\r\n  };\r\n  comment: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface Thank {\r\n  id: string;\r\n  fromId: string;\r\n  fromName?: string;\r\n  toId: string;\r\n  reason: string;\r\n  isAnonymous: boolean;\r\n  createdAt: string;\r\n}\r\n\r\ninterface NewsItem {\r\n  id: string;\r\n  type: 'top' | 'thank' | 'department';\r\n  text: string;\r\n  createdAt: string;\r\n}\r\n\r\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ç–¥–µ–ª–∞ –ø–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏\r\nconst getDepartmentName = (specialization: ExecutorSpecialization): string => {\r\n  const departments: Record<ExecutorSpecialization, string> = {\r\n    plumber: '–°–∞–Ω—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç–¥–µ–ª',\r\n    electrician: '–≠–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç–¥–µ–ª',\r\n    elevator: '–õ–∏—Ñ—Ç–æ–≤–∞—è —Å–ª—É–∂–±–∞',\r\n    intercom: '–î–æ–º–æ—Ñ–æ–Ω–Ω–∞—è —Å–ª—É–∂–±–∞',\r\n    cleaning: '–ö–ª–∏–Ω–∏–Ω–≥',\r\n    security: '–°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏',\r\n    carpenter: '–°—Ç–æ–ª—è—Ä–Ω—ã–π –æ—Ç–¥–µ–ª',\r\n    boiler: '–ö–æ—Ç–µ–ª—å–Ω–∞—è —Å–ª—É–∂–±–∞',\r\n    ac: '–ö–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å',\r\n    courier: '–°–ª—É–∂–±–∞ –¥–æ—Å—Ç–∞–≤–∫–∏',\r\n    other: '–û–±—â–∏–π –æ—Ç–¥–µ–ª',\r\n  };\r\n  return departments[specialization] || '–û–±—â–∏–π –æ—Ç–¥–µ–ª';\r\n};\r\n\r\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏\r\nconst getAvatarUrl = (name: string, id: string): string => {\r\n  // –ò—Å–ø–æ–ª—å–∑—É–µ–º DiceBear API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏\r\n  const seed = encodeURIComponent(name + id);\r\n  return `https://api.dicebear.com/7.x/initials/svg?seed=${seed}&backgroundColor=f59e0b,eab308,84cc16,22c55e,14b8a6,06b6d4,0ea5e9,3b82f6,6366f1,8b5cf6,a855f7,d946ef,ec4899,f43f5e&backgroundType=gradientLinear`;\r\n};\r\n\r\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–µ–π–¥–∂–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–π—Ç–∏–Ω–≥–∞\r\nconst generateBadges = (rating: number, completedCount: number): string[] => {\r\n  const badges: string[] = [];\r\n  if (rating >= 4.8) badges.push('–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª');\r\n  if (rating >= 4.5) badges.push('–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å');\r\n  if (completedCount >= 100) badges.push('–û–ø—ã—Ç–Ω—ã–π –º–∞—Å—Ç–µ—Ä');\r\n  if (completedCount >= 50) badges.push('–ú–∞—Å—Ç–µ—Ä');\r\n  return badges.slice(0, 2); // –ú–∞–∫—Å–∏–º—É–º 2 –±–µ–π–¥–∂–∞\r\n};\r\n\r\nconst criteriaLabels = {\r\n  professionalKnowledge: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞–Ω–∏—è',\r\n  legislationKnowledge: '–ó–Ω–∞–Ω–∏–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞',\r\n  analyticalSkills: '–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏',\r\n  qualityOfWork: '–ö–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã',\r\n  execution: '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',\r\n  reliability: '–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å',\r\n  teamwork: '–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å',\r\n  communication: '–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è',\r\n  initiative: '–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å',\r\n  humanity: '–ß–µ–ª–æ–≤–µ—á–Ω–æ—Å—Ç—å',\r\n};\r\n\r\nconst thankReasons = [\r\n  '–ü–æ–º–æ–≥ —Å –∑–∞–¥–∞—á–µ–π',\r\n  '–ü–æ–¥–¥–µ—Ä–∂–∞–ª –≤ —Å–ª–æ–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç',\r\n  '–ù–∞—É—á–∏–ª —á–µ–º—É-—Ç–æ –Ω–æ–≤–æ–º—É',\r\n  '–í—ã—Ä—É—á–∏–ª –≤ –¥–µ–¥–ª–∞–π–Ω',\r\n  '–ü—Ä–æ—Å—Ç–æ —Å–ø–∞—Å–∏–±–æ',\r\n];\r\n\r\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–≤—ë–∑–¥\r\nfunction StarRating({ rating, maxStars = 5, size = 'md', onChange }: {\r\n  rating: number;\r\n  maxStars?: number;\r\n  size?: 'sm' | 'md' | 'lg';\r\n  onChange?: (rating: number) => void;\r\n}) {\r\n  const sizeClass = size === 'sm' ? 'w-4 h-4' : size === 'lg' ? 'w-6 h-6' : 'w-5 h-5';\r\n\r\n  return (\r\n    <div className=\"flex gap-1\">\r\n      {[...Array(maxStars)].map((_, i) => (\r\n        <Star\r\n          key={i}\r\n          className={`${sizeClass} ${\r\n            i < Math.floor(rating) ? 'fill-yellow-400 text-yellow-400' : 'text-gray-300'\r\n          } ${onChange ? 'cursor-pointer hover:scale-110 transition-transform' : ''}`}\r\n          onClick={() => onChange?.(i + 1)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n// –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ü–µ–Ω–∫–∏\r\nfunction RatingModal({ employee, onClose, onSubmit }: {\r\n  employee: Employee;\r\n  onClose: () => void;\r\n  onSubmit: (ratings: Rating['ratings']) => void;\r\n}) {\r\n  const [ratings, setRatings] = useState<Rating['ratings']>({\r\n    professionalKnowledge: 0,\r\n    legislationKnowledge: 0,\r\n    analyticalSkills: 0,\r\n    qualityOfWork: 0,\r\n    execution: 0,\r\n    reliability: 0,\r\n    teamwork: 0,\r\n    communication: 0,\r\n    initiative: 0,\r\n    humanity: 0,\r\n  });\r\n  const [comment, setComment] = useState('');\r\n\r\n  const handleSubmit = () => {\r\n    const allRated = Object.values(ratings).every(r => r > 0);\r\n    if (!allRated) {\r\n      alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ü–µ–Ω–∏—Ç–µ –≤—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏');\r\n      return;\r\n    }\r\n    onSubmit(ratings);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-10\">\r\n          <h2 className=\"text-xl font-bold truncate pr-4\">–û—Ü–µ–Ω–∏—Ç—å: {employee.name}</h2>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600 flex-shrink-0\">\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"px-6 py-4\">\r\n          <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n            <p className=\"text-sm text-yellow-800\">–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ –∞–Ω–æ–Ω–∏–º–Ω–∞</p>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            {Object.entries(criteriaLabels).map(([key, label]) => (\r\n              <div key={key} className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2\">\r\n                <span className=\"text-sm font-medium\">{label}</span>\r\n                <StarRating\r\n                  rating={ratings[key as keyof typeof ratings]}\r\n                  onChange={(r) => setRatings({ ...ratings, [key]: r })}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"mt-6\">\r\n            <label className=\"block text-sm font-medium mb-2\">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>\r\n            <textarea\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n              className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm resize-none\"\r\n              rows={4}\r\n              placeholder=\"–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏...\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"w-full mt-6 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 rounded-lg transition-colors\"\r\n          >\r\n            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏\r\nfunction ThankModal({ employee, onClose, onSubmit }: {\r\n  employee: Employee;\r\n  onClose: () => void;\r\n  onSubmit: (reason: string, isAnonymous: boolean) => void;\r\n}) {\r\n  const [reason, setReason] = useState(thankReasons[0]);\r\n  const [isAnonymous, setIsAnonymous] = useState(false);\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit(reason, isAnonymous);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\r\n          <h2 className=\"text-xl font-bold truncate pr-4\">–ü–æ–±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å: {employee.name}</h2>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600 flex-shrink-0\">\r\n            <X className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"px-6 py-4\">\r\n          <label className=\"block text-sm font-medium mb-2\">–ó–∞ —á—Ç–æ —Å–ø–∞—Å–∏–±–æ?</label>\r\n          <select\r\n            value={reason}\r\n            onChange={(e) => setReason(e.target.value)}\r\n            className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm mb-4\"\r\n          >\r\n            {thankReasons.map((r) => (\r\n              <option key={r} value={r}>{r}</option>\r\n            ))}\r\n          </select>\r\n\r\n          <label className=\"flex items-center gap-2 cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={isAnonymous}\r\n              onChange={(e) => setIsAnonymous(e.target.checked)}\r\n              className=\"w-4 h-4\"\r\n            />\r\n            <span className=\"text-sm\">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω–æ</span>\r\n          </label>\r\n\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"w-full mt-6 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 rounded-lg transition-colors\"\r\n          >\r\n            –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ø–∞—Å–∏–±–æ\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// –ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞\r\nfunction EmployeeProfile({ employee, onBack, thanks }: {\r\n  employee: Employee;\r\n  onBack: () => void;\r\n  thanks: Thank[];\r\n}) {\r\n  const avgRating = (Object.values(employee.ratings).reduce((a, b) => a + b, 0) / 10).toFixed(1);\r\n  const employeeThanks = thanks.filter(t => t.toId === employee.id);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <button\r\n        onClick={onBack}\r\n        className=\"mb-4 flex items-center gap-2 text-gray-600 hover:text-gray-800 font-medium\"\r\n      >\r\n        ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É\r\n      </button>\r\n\r\n      <div className=\"glass-card p-4 sm:p-6\">\r\n        <div className=\"flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6\">\r\n          <img\r\n            src={employee.photo}\r\n            alt={employee.name}\r\n            className=\"w-20 h-20 sm:w-24 sm:h-24 rounded-xl object-cover flex-shrink-0\"\r\n          />\r\n          <div className=\"flex-1 text-center sm:text-left min-w-0\">\r\n            <h1 className=\"text-xl sm:text-2xl font-bold truncate\">{employee.name}</h1>\r\n            <p className=\"text-gray-600 mb-1\">{employee.position}</p>\r\n            <p className=\"text-sm text-gray-500\">{employee.department}</p>\r\n\r\n            <div className=\"flex flex-wrap items-center justify-center sm:justify-start gap-2 sm:gap-4 mt-4\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <StarRating rating={parseFloat(avgRating)} size=\"sm\" />\r\n                <span className=\"font-bold text-lg\">{avgRating}</span>\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">\r\n                {employee.totalRatings} –æ—Ü–µ–Ω–æ–∫\r\n              </div>\r\n              <div className=\"text-sm text-gray-600\">\r\n                {employee.monthlyRatings} –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ\r\n              </div>\r\n            </div>\r\n\r\n            {employee.badges.length > 0 && (\r\n              <div className=\"flex flex-wrap justify-center sm:justify-start gap-2 mt-4\">\r\n                {employee.badges.map((badge, i) => (\r\n                  <span\r\n                    key={i}\r\n                    className=\"px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full flex items-center gap-1\"\r\n                  >\r\n                    <Award className=\"w-3 h-3\" />\r\n                    {badge}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"glass-card p-4 sm:p-6\">\r\n        <h2 className=\"text-lg font-bold mb-4\">–û—Ü–µ–Ω–∫–∏ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º</h2>\r\n        <div className=\"space-y-3\">\r\n          {Object.entries(criteriaLabels).map(([key, label]) => (\r\n            <div key={key} className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-1 sm:gap-2\">\r\n              <span className=\"text-sm truncate\">{label}</span>\r\n              <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                <StarRating rating={employee.ratings[key as keyof typeof employee.ratings]} size=\"sm\" />\r\n                <span className=\"text-sm font-medium w-8 text-right\">\r\n                  {employee.ratings[key as keyof typeof employee.ratings].toFixed(1)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"glass-card p-4 sm:p-6\">\r\n        <h2 className=\"text-lg font-bold mb-4\">–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ ({employeeThanks.length})</h2>\r\n        {employeeThanks.length === 0 ? (\r\n          <p className=\"text-gray-500 text-sm\">–ü–æ–∫–∞ –Ω–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–µ–π</p>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            {employeeThanks.map((thank) => (\r\n              <div key={thank.id} className=\"p-3 bg-gray-50 rounded-lg\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <Heart className=\"w-4 h-4 text-red-500 flex-shrink-0\" />\r\n                  <span className=\"text-sm font-medium truncate\">\r\n                    {thank.isAnonymous ? '–ê–Ω–æ–Ω–∏–º–Ω–æ' : thank.fromName}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-700\">{thank.reason}</p>\r\n                <p className=\"text-xs text-gray-400 mt-1\">\r\n                  {new Date(thank.createdAt).toLocaleDateString()}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// –õ–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π\r\nfunction NewsFeed({ news }: { news: NewsItem[] }) {\r\n  return (\r\n    <div className=\"glass-card p-4 sm:p-6\">\r\n      <h2 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\r\n        <TrendingUp className=\"w-5 h-5 text-primary-500 flex-shrink-0\" />\r\n        <span className=\"truncate\">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è</span>\r\n      </h2>\r\n      <div className=\"space-y-3\">\r\n        {news.slice(0, 5).map((item) => (\r\n          <div key={item.id} className=\"flex items-start gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors\">\r\n            <MessageCircle className=\"w-4 h-4 text-gray-400 mt-1 flex-shrink-0\" />\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"text-sm break-words\">{item.text}</p>\r\n              <p className=\"text-xs text-gray-400 mt-1\">\r\n                {new Date(item.createdAt).toLocaleDateString()}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// –¢–æ–ø –∫–æ–ª–ª–µ–≥\r\nfunction TopColleagues({ employees }: { employees: Employee[] }) {\r\n  const sortedByRating = [...employees].sort((a, b) => {\r\n    const avgA = Object.values(a.ratings).reduce((sum, r) => sum + r, 0) / 10;\r\n    const avgB = Object.values(b.ratings).reduce((sum, r) => sum + r, 0) / 10;\r\n    return avgB - avgA;\r\n  });\r\n\r\n  const topThree = sortedByRating.slice(0, 3);\r\n\r\n  const getBestByCategory = (category: keyof Employee['ratings']) => {\r\n    return [...employees].sort((a, b) => b.ratings[category] - a.ratings[category])[0];\r\n  };\r\n\r\n  if (employees.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"glass-card p-4 sm:p-6 mb-6 overflow-hidden\">\r\n      <h2 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\r\n        <Award className=\"w-5 h-5 text-primary-500 flex-shrink-0\" />\r\n        <span className=\"truncate\">–õ—É—á—à–∏–µ –∫–æ–ª–ª–µ–≥–∏ –º–µ—Å—è—Ü–∞</span>\r\n      </h2>\r\n\r\n      <div className=\"space-y-3 mb-6\">\r\n        {topThree.map((emp, i) => {\r\n          const avgRating = (Object.values(emp.ratings).reduce((a, b) => a + b, 0) / 10).toFixed(1);\r\n          return (\r\n            <div\r\n              key={emp.id}\r\n              className={`p-3 rounded-xl border-2 flex items-center gap-3 ${\r\n                i === 0 ? 'border-orange-400 bg-orange-50' :\r\n                i === 1 ? 'border-gray-300 bg-gray-50' :\r\n                'border-orange-300 bg-orange-50'\r\n              }`}\r\n            >\r\n              <span className=\"text-xl flex-shrink-0\">\r\n                {i === 0 ? 'ü•á' : i === 1 ? 'ü•à' : 'ü•â'}\r\n              </span>\r\n              <img\r\n                src={emp.photo}\r\n                alt={emp.name}\r\n                className=\"w-10 h-10 rounded-lg object-cover flex-shrink-0\"\r\n              />\r\n              <div className=\"flex-1 min-w-0\">\r\n                <h3 className=\"font-bold text-sm truncate\">{emp.name}</h3>\r\n                <p className=\"text-xs text-gray-600 truncate\">{emp.position}</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-1 flex-shrink-0\">\r\n                <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\r\n                <span className=\"text-sm font-bold\">{avgRating}</span>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {employees.length > 0 && (\r\n        <>\r\n          <h3 className=\"font-bold mb-3 text-sm\">–õ–∏–¥–µ—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>\r\n          <div className=\"space-y-2\">\r\n            {[\r\n              { key: 'teamwork' as const, label: '–ö–æ–º–∞–Ω–¥–Ω–æ—Å—Ç—å', icon: 'ü§ù' },\r\n              { key: 'professionalKnowledge' as const, label: '–ó–Ω–∞–Ω–∏—è', icon: 'üéì' },\r\n              { key: 'communication' as const, label: '–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è', icon: 'üí¨' },\r\n              { key: 'initiative' as const, label: '–ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å', icon: 'üöÄ' },\r\n            ].map(({ key, label, icon }) => {\r\n              const best = getBestByCategory(key);\r\n              if (!best) return null;\r\n              return (\r\n                <div key={key} className=\"flex items-center gap-2 p-2 bg-gray-50 rounded-lg\">\r\n                  <span className=\"flex-shrink-0\">{icon}</span>\r\n                  <span className=\"text-xs text-gray-500 flex-shrink-0 w-24\">{label}</span>\r\n                  <span className=\"text-xs font-medium flex-1 min-w-0 truncate\">{best.name}</span>\r\n                  <span className=\"text-xs font-bold flex-shrink-0 bg-primary-100 text-primary-700 px-1.5 py-0.5 rounded\">{best.ratings[key].toFixed(1)}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ==================== MAIN COMPONENT ====================\r\n\r\n// –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\nexport function ColleaguesSection() {\r\n  const { language } = useLanguageStore();\r\n  const { executors, fetchExecutors, isLoadingExecutors } = useDataStore();\r\n  const { user } = useAuthStore();\r\n  const [employees, setEmployees] = useState<Employee[]>([]);\r\n  const [ratedThisMonth, setRatedThisMonth] = useState<Set<string>>(new Set());\r\n  const [selectedEmployee, setSelectedEmployee] = useState<Employee | null>(null);\r\n  const [showRatingModal, setShowRatingModal] = useState<Employee | null>(null);\r\n  const [showThankModal, setShowThankModal] = useState<Employee | null>(null);\r\n  const [thanks, setThanks] = useState<Thank[]>([]);\r\n  const [news, setNews] = useState<NewsItem[]>([]);\r\n\r\n  // –ó–∞–≥—Ä—É–∂–∞–µ–º –í–°–ï–• –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (–¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–ª–ª–µ–≥)\r\n  useEffect(() => {\r\n    // Pass true to get all executors regardless of department\r\n    fetchExecutors(true);\r\n  }, [fetchExecutors]);\r\n\r\n  // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –≤ Employee —Ñ–æ—Ä–º–∞—Ç\r\n  useEffect(() => {\r\n    if (executors.length > 0) {\r\n      const mappedEmployees: Employee[] = executors.map((executor) => {\r\n        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–µ–π—Ç–∏–Ω–≥–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—â–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è\r\n        const baseRating = executor.rating || 4.5;\r\n        const variance = 0.3; // –ù–µ–±–æ–ª—å—à–æ–π —Ä–∞–∑–±—Ä–æ—Å\r\n\r\n        const generateRating = () => {\r\n          const val = baseRating + (Math.random() - 0.5) * variance * 2;\r\n          return Math.min(5, Math.max(3.5, parseFloat(val.toFixed(1))));\r\n        };\r\n\r\n        return {\r\n          id: executor.id,\r\n          name: executor.name,\r\n          position: SPECIALIZATION_LABELS[executor.specialization] || '–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç',\r\n          department: getDepartmentName(executor.specialization),\r\n          photo: getAvatarUrl(executor.name, executor.id),\r\n          ratings: {\r\n            professionalKnowledge: generateRating(),\r\n            legislationKnowledge: generateRating(),\r\n            analyticalSkills: generateRating(),\r\n            qualityOfWork: generateRating(),\r\n            execution: generateRating(),\r\n            reliability: generateRating(),\r\n            teamwork: generateRating(),\r\n            communication: generateRating(),\r\n            initiative: generateRating(),\r\n            humanity: generateRating(),\r\n          },\r\n          totalRatings: executor.completedCount || Math.floor(Math.random() * 50) + 10,\r\n          monthlyRatings: Math.floor(Math.random() * 10) + 1,\r\n          badges: generateBadges(executor.rating || 4.5, executor.completedCount || 0),\r\n        };\r\n      });\r\n\r\n      setEmployees(mappedEmployees);\r\n\r\n      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏\r\n      if (mappedEmployees.length > 0) {\r\n        const initialNews: NewsItem[] = [\r\n          {\r\n            id: '1',\r\n            type: 'top',\r\n            text: `${mappedEmployees[0]?.name || '–°–æ—Ç—Ä—É–¥–Ω–∏–∫'} –≤–æ—à—ë–ª –≤ —Ç–æ–ø –ª—É—á—à–∏—Ö –∫–æ–ª–ª–µ–≥ –º–µ—Å—è—Ü–∞!`,\r\n            createdAt: new Date().toISOString(),\r\n          },\r\n          {\r\n            id: '2',\r\n            type: 'department',\r\n            text: '–ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ',\r\n            createdAt: new Date().toISOString(),\r\n          },\r\n        ];\r\n        setNews(initialNews);\r\n      }\r\n    }\r\n  }, [executors]);\r\n\r\n  // –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)\r\n  const currentUserId = 'current-user';\r\n\r\n  const handleSubmitRating = (targetId: string, ratings: Rating['ratings']) => {\r\n    setEmployees(prev => prev.map(emp => {\r\n      if (emp.id === targetId) {\r\n        const newRatings = { ...emp.ratings };\r\n        Object.keys(ratings).forEach(key => {\r\n          const k = key as keyof typeof ratings;\r\n          const current = emp.ratings[k];\r\n          const totalCount = emp.totalRatings;\r\n          newRatings[k] = parseFloat((((current * totalCount) + ratings[k]) / (totalCount + 1)).toFixed(1));\r\n        });\r\n\r\n        return {\r\n          ...emp,\r\n          ratings: newRatings,\r\n          totalRatings: emp.totalRatings + 1,\r\n          monthlyRatings: emp.monthlyRatings + 1,\r\n        };\r\n      }\r\n      return emp;\r\n    }));\r\n\r\n    setRatedThisMonth(prev => new Set([...prev, targetId]));\r\n\r\n    const employee = employees.find(e => e.id === targetId);\r\n    if (employee) {\r\n      setNews(prev => [{\r\n        id: Date.now().toString(),\r\n        type: 'top',\r\n        text: `${employee.name} –ø–æ–ª—É—á–∏–ª –Ω–æ–≤—É—é –æ—Ü–µ–Ω–∫—É!`,\r\n        createdAt: new Date().toISOString(),\r\n      }, ...prev]);\r\n    }\r\n  };\r\n\r\n  const handleSubmitThank = (targetId: string, reason: string, isAnonymous: boolean) => {\r\n    const newThank: Thank = {\r\n      id: Date.now().toString(),\r\n      fromId: currentUserId,\r\n      fromName: isAnonymous ? undefined : '–í—ã',\r\n      toId: targetId,\r\n      reason,\r\n      isAnonymous,\r\n      createdAt: new Date().toISOString(),\r\n    };\r\n\r\n    setThanks(prev => [newThank, ...prev]);\r\n\r\n    const employee = employees.find(e => e.id === targetId);\r\n    if (employee && !isAnonymous) {\r\n      setNews(prev => [{\r\n        id: Date.now().toString(),\r\n        type: 'thank',\r\n        text: `${employee.name} –ø–æ–ª—É—á–∏–ª –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å: \"${reason}\"`,\r\n        createdAt: new Date().toISOString(),\r\n      }, ...prev]);\r\n    }\r\n  };\r\n\r\n  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É\r\n  if (isLoadingExecutors && employees.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"text-center\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary-500 mx-auto mb-4\" />\r\n          <p className=\"text-gray-600\">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–ª–ª–µ–≥...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (selectedEmployee) {\r\n    return (\r\n      <EmployeeProfile\r\n        employee={selectedEmployee}\r\n        onBack={() => setSelectedEmployee(null)}\r\n        thanks={thanks}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Check user role for department organization\r\n  const isDepartmentHead = user?.role === 'department_head';\r\n  const isExecutor = user?.role === 'executor';\r\n  const userSpecialization = user?.specialization;\r\n\r\n  // For executors and department heads, find their executor record to get specialization\r\n  // Try to find by login first, then by user id\r\n  const currentExecutor = (isExecutor || isDepartmentHead)\r\n    ? executors.find(e => e.login === user?.login || e.id === user?.id)\r\n    : null;\r\n  // Use user's specialization directly if available (for department_head), otherwise from executor record\r\n  const mySpecialization = userSpecialization || currentExecutor?.specialization;\r\n\r\n  // Debug log\r\n  console.log('[Colleagues] User:', user?.name, 'Role:', user?.role, 'Specialization:', userSpecialization);\r\n  console.log('[Colleagues] Found executor:', currentExecutor?.name, 'Spec:', currentExecutor?.specialization);\r\n  console.log('[Colleagues] mySpecialization:', mySpecialization);\r\n\r\n  // Separate employees into department (my team) and others\r\n  const myTeamEmployees = mySpecialization\r\n    ? employees.filter(emp => {\r\n        // Find the original executor to get specialization\r\n        const executor = executors.find(e => e.id === emp.id);\r\n        // Also exclude current user from the list (by id or login)\r\n        const isCurrentUser = executor?.id === user?.id || executor?.login === user?.login;\r\n        return executor?.specialization === mySpecialization && !isCurrentUser;\r\n      })\r\n    : [];\r\n\r\n  const otherEmployees = mySpecialization\r\n    ? employees.filter(emp => {\r\n        const executor = executors.find(e => e.id === emp.id);\r\n        const isCurrentUser = executor?.id === user?.id || executor?.login === user?.login;\r\n        return executor?.specialization !== mySpecialization && !isCurrentUser;\r\n      })\r\n    : employees.filter(emp => {\r\n        const executor = executors.find(e => e.id === emp.id);\r\n        const isCurrentUser = executor?.id === user?.id || executor?.login === user?.login;\r\n        return !isCurrentUser;\r\n      });\r\n\r\n  console.log('[Colleagues] myTeamEmployees:', myTeamEmployees.length, 'otherEmployees:', otherEmployees.length);\r\n\r\n  // Group other employees by department for better organization\r\n  const departmentGroups = otherEmployees.reduce((groups, emp) => {\r\n    const executor = executors.find(e => e.id === emp.id);\r\n    const dept = executor?.specialization ? getDepartmentName(executor.specialization) : '–î—Ä—É–≥–∏–µ';\r\n    if (!groups[dept]) groups[dept] = [];\r\n    groups[dept].push(emp);\r\n    return groups;\r\n  }, {} as Record<string, Employee[]>);\r\n\r\n  // Sort department groups - own department first\r\n  const sortedDepartments = Object.keys(departmentGroups).sort((a, b) => {\r\n    const myDeptName = mySpecialization ? getDepartmentName(mySpecialization) : '';\r\n    if (a === myDeptName) return -1;\r\n    if (b === myDeptName) return 1;\r\n    return a.localeCompare(b);\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n        <h1 className=\"text-2xl md:text-3xl font-bold flex items-center gap-3\">\r\n          <Users className=\"w-8 h-8 text-primary-500 flex-shrink-0\" />\r\n          <span>{language === 'ru' ? '–ú–æ–∏ –∫–æ–ª–ª–µ–≥–∏' : 'Mening hamkasblarim'}</span>\r\n        </h1>\r\n      </div>\r\n\r\n      {employees.length === 0 ? (\r\n        <div className=\"glass-card p-8 text-center\">\r\n          <Users className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">\r\n            {language === 'ru' ? '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–ª–µ–≥–∞—Ö' : \"Hamkasblar haqida ma'lumot yo'q\"}\r\n          </h3>\r\n          <p className=\"text-gray-500\">\r\n            {language === 'ru' ? '–°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –ø–æ–∫–∞ –ø—É—Å—Ç' : \"Xodimlar ro'yxati hali bo'sh\"}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            {/* My Team Section - For Department Heads and Executors */}\r\n            {(isDepartmentHead || isExecutor) && myTeamEmployees.length > 0 && (\r\n              <div className=\"glass-card p-4 sm:p-6\">\r\n                <h2 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\r\n                  <span className=\"w-2 h-2 bg-blue-500 rounded-full\"></span>\r\n                  {language === 'ru'\r\n                    ? (isDepartmentHead ? `–ú–æ–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (${myTeamEmployees.length})` : `–ú–æ–π –æ—Ç–¥–µ–ª: ${getDepartmentName(mySpecialization as ExecutorSpecialization)} (${myTeamEmployees.length})`)\r\n                    : (isDepartmentHead ? `Mening xodimlarim (${myTeamEmployees.length})` : `Mening bo'limim (${myTeamEmployees.length})`)}\r\n                </h2>\r\n                <div className=\"space-y-3\">\r\n                  {myTeamEmployees.map((emp) => {\r\n                    const isRated = ratedThisMonth.has(emp.id);\r\n                    const avgRating = (Object.values(emp.ratings).reduce((a, b) => a + b, 0) / 10).toFixed(1);\r\n\r\n                    return (\r\n                      <div\r\n                        key={emp.id}\r\n                        className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 p-4 bg-blue-50/50 border border-blue-200 rounded-xl hover:bg-blue-50 hover:shadow-md transition-all\"\r\n                      >\r\n                        <img\r\n                          src={emp.photo}\r\n                          alt={emp.name}\r\n                          className=\"w-14 h-14 sm:w-16 sm:h-16 rounded-xl object-cover cursor-pointer flex-shrink-0\"\r\n                          onClick={() => setSelectedEmployee(emp)}\r\n                        />\r\n                        <div className=\"flex-1 min-w-0 cursor-pointer\" onClick={() => setSelectedEmployee(emp)}>\r\n                          <h3 className=\"font-bold truncate\">{emp.name}</h3>\r\n                          <p className=\"text-sm text-gray-600 truncate\">{emp.position}</p>\r\n                          <div className=\"flex items-center gap-2 mt-1\">\r\n                            <StarRating rating={parseFloat(avgRating)} size=\"sm\" />\r\n                            <span className=\"text-sm font-medium\">{avgRating}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex flex-row sm:flex-col gap-2 w-full sm:w-auto\">\r\n                          <button\r\n                            onClick={() => !isRated && setShowRatingModal(emp)}\r\n                            disabled={isRated}\r\n                            className={`flex-1 sm:flex-none px-3 py-2 rounded-lg font-medium text-sm transition-colors whitespace-nowrap ${\r\n                              isRated\r\n                                ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                                : 'bg-primary-500 hover:bg-primary-600 text-gray-900'\r\n                            }`}\r\n                          >\r\n                            {isRated ? '‚úì –û—Ü–µ–Ω–µ–Ω–æ' : '–û—Ü–µ–Ω–∏—Ç—å'}\r\n                          </button>\r\n                          <button\r\n                            onClick={() => setShowThankModal(emp)}\r\n                            className=\"flex-1 sm:flex-none px-3 py-2 rounded-lg font-medium text-sm bg-purple-50 hover:bg-purple-100 text-purple-700 transition-colors whitespace-nowrap\"\r\n                          >\r\n                            ‚ù§Ô∏è –°–ø–∞—Å–∏–±–æ\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Other Colleagues Section - Organized by Department */}\r\n            {(isDepartmentHead || isExecutor) && sortedDepartments.length > 0 ? (\r\n              // Show grouped by department\r\n              sortedDepartments.map((deptName) => (\r\n                <div key={deptName} className=\"glass-card p-4 sm:p-6\">\r\n                  <h2 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\r\n                    <span className=\"w-2 h-2 bg-gray-400 rounded-full\"></span>\r\n                    {deptName} ({departmentGroups[deptName].length})\r\n                  </h2>\r\n                  <div className=\"space-y-3\">\r\n                    {departmentGroups[deptName].map((emp) => {\r\n                      const isRated = ratedThisMonth.has(emp.id);\r\n                      const avgRating = (Object.values(emp.ratings).reduce((a, b) => a + b, 0) / 10).toFixed(1);\r\n\r\n                      return (\r\n                        <div\r\n                          key={emp.id}\r\n                          className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 p-4 bg-white/60 border border-gray-200 rounded-xl hover:bg-white/80 hover:shadow-md transition-all\"\r\n                        >\r\n                          <img\r\n                            src={emp.photo}\r\n                            alt={emp.name}\r\n                            className=\"w-14 h-14 sm:w-16 sm:h-16 rounded-xl object-cover cursor-pointer flex-shrink-0\"\r\n                            onClick={() => setSelectedEmployee(emp)}\r\n                          />\r\n                          <div className=\"flex-1 min-w-0 cursor-pointer\" onClick={() => setSelectedEmployee(emp)}>\r\n                            <h3 className=\"font-bold truncate\">{emp.name}</h3>\r\n                            <p className=\"text-sm text-gray-600 truncate\">{emp.position}</p>\r\n                            <div className=\"flex items-center gap-2 mt-1\">\r\n                              <StarRating rating={parseFloat(avgRating)} size=\"sm\" />\r\n                              <span className=\"text-sm font-medium\">{avgRating}</span>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex flex-row sm:flex-col gap-2 w-full sm:w-auto\">\r\n                            <button\r\n                              onClick={() => !isRated && setShowRatingModal(emp)}\r\n                              disabled={isRated}\r\n                              className={`flex-1 sm:flex-none px-3 py-2 rounded-lg font-medium text-sm transition-colors whitespace-nowrap ${\r\n                                isRated\r\n                                  ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                                  : 'bg-primary-500 hover:bg-primary-600 text-gray-900'\r\n                              }`}\r\n                            >\r\n                              {isRated ? '‚úì –û—Ü–µ–Ω–µ–Ω–æ' : '–û—Ü–µ–Ω–∏—Ç—å'}\r\n                            </button>\r\n                            <button\r\n                              onClick={() => setShowThankModal(emp)}\r\n                              className=\"flex-1 sm:flex-none px-3 py-2 rounded-lg font-medium text-sm bg-purple-50 hover:bg-purple-100 text-purple-700 transition-colors whitespace-nowrap\"\r\n                            >\r\n                              ‚ù§Ô∏è –°–ø–∞—Å–∏–±–æ\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              // Default view - all employees\r\n              <div className=\"glass-card p-4 sm:p-6\">\r\n                <h2 className=\"text-lg font-bold mb-4\">\r\n                  {language === 'ru' ? `–í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (${otherEmployees.length})` : `Barcha xodimlar (${otherEmployees.length})`}\r\n                </h2>\r\n                <div className=\"space-y-3\">\r\n                  {otherEmployees.map((emp) => {\r\n                    const isRated = ratedThisMonth.has(emp.id);\r\n                    const avgRating = (Object.values(emp.ratings).reduce((a, b) => a + b, 0) / 10).toFixed(1);\r\n\r\n                    return (\r\n                      <div\r\n                        key={emp.id}\r\n                        className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 p-4 bg-white/60 border border-gray-200 rounded-xl hover:bg-white/80 hover:shadow-md transition-all\"\r\n                      >\r\n                        <img\r\n                          src={emp.photo}\r\n                          alt={emp.name}\r\n                          className=\"w-14 h-14 sm:w-16 sm:h-16 rounded-xl object-cover cursor-pointer flex-shrink-0\"\r\n                          onClick={() => setSelectedEmployee(emp)}\r\n                        />\r\n                        <div className=\"flex-1 min-w-0 cursor-pointer\" onClick={() => setSelectedEmployee(emp)}>\r\n                          <h3 className=\"font-bold truncate\">{emp.name}</h3>\r\n                          <p className=\"text-sm text-gray-600 truncate\">{emp.position}</p>\r\n                          <div className=\"flex items-center gap-2 mt-1\">\r\n                            <StarRating rating={parseFloat(avgRating)} size=\"sm\" />\r\n                            <span className=\"text-sm font-medium\">{avgRating}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex flex-row sm:flex-col gap-2 w-full sm:w-auto\">\r\n                          <button\r\n                            onClick={() => !isRated && setShowRatingModal(emp)}\r\n                            disabled={isRated}\r\n                            className={`flex-1 sm:flex-none px-3 py-2 rounded-lg font-medium text-sm transition-colors whitespace-nowrap ${\r\n                              isRated\r\n                                ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                                : 'bg-primary-500 hover:bg-primary-600 text-gray-900'\r\n                            }`}\r\n                          >\r\n                            {isRated ? '‚úì –û—Ü–µ–Ω–µ–Ω–æ' : '–û—Ü–µ–Ω–∏—Ç—å'}\r\n                          </button>\r\n                          <button\r\n                            onClick={() => setShowThankModal(emp)}\r\n                            className=\"flex-1 sm:flex-none px-3 py-2 rounded-lg font-medium text-sm bg-purple-50 hover:bg-purple-100 text-purple-700 transition-colors whitespace-nowrap\"\r\n                          >\r\n                            ‚ù§Ô∏è –°–ø–∞—Å–∏–±–æ\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <TopColleagues employees={employees} />\r\n            <NewsFeed news={news} />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showRatingModal && (\r\n        <RatingModal\r\n          employee={showRatingModal}\r\n          onClose={() => setShowRatingModal(null)}\r\n          onSubmit={(ratings) => {\r\n            handleSubmitRating(showRatingModal.id, ratings);\r\n            setShowRatingModal(null);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showThankModal && (\r\n        <ThankModal\r\n          employee={showThankModal}\r\n          onClose={() => setShowThankModal(null)}\r\n          onSubmit={(reason, isAnonymous) => {\r\n            handleSubmitThank(showThankModal.id, reason, isAnonymous);\r\n            setShowThankModal(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["getDepartmentName","specialization","getAvatarUrl","name","id","generateBadges","rating","completedCount","badges","criteriaLabels","thankReasons","StarRating","maxStars","size","onChange","sizeClass","jsx","_","i","Star","RatingModal","employee","onClose","onSubmit","ratings","setRatings","useState","comment","setComment","handleSubmit","r","jsxs","X","key","label","e","ThankModal","reason","setReason","isAnonymous","setIsAnonymous","EmployeeProfile","onBack","thanks","avgRating","b","employeeThanks","t","badge","Award","thank","Heart","NewsFeed","news","TrendingUp","item","MessageCircle","TopColleagues","employees","topThree","a","avgA","sum","getBestByCategory","category","emp","Fragment","icon","best","ColleaguesSection","language","useLanguageStore","executors","fetchExecutors","isLoadingExecutors","useDataStore","user","useAuthStore","setEmployees","ratedThisMonth","setRatedThisMonth","selectedEmployee","setSelectedEmployee","showRatingModal","setShowRatingModal","showThankModal","setShowThankModal","setThanks","setNews","useEffect","mappedEmployees","executor","baseRating","variance","generateRating","val","SPECIALIZATION_LABELS","initialNews","currentUserId","handleSubmitRating","targetId","prev","newRatings","k","current","totalCount","handleSubmitThank","newThank","Loader2","isDepartmentHead","isExecutor","userSpecialization","currentExecutor","mySpecialization","myTeamEmployees","isCurrentUser","otherEmployees","departmentGroups","groups","dept","sortedDepartments","myDeptName","Users","isRated","deptName"],"mappings":"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"}