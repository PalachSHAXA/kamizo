{"version":3,"file":"MonitoringPage-1767960438672-C2_RuZVA.js","sources":["../../src/pages/admin/MonitoringPage.tsx"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\nimport { AlertCircle, CheckCircle, Clock, Database, Server, Wifi, X, BarChart, TrendingUp, Activity, Zap, Users, FileText, RefreshCw } from 'lucide-react';\nimport {\n  LineChart, Line, BarChart as RechartsBarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n  ResponsiveContainer, PieChart, Pie, Cell\n} from '../../components/LazyCharts';\nimport { useDataStore } from '../../stores/dataStore';\nimport type { Request } from '../../types';\n\ninterface HealthCheck {\n  status: 'healthy' | 'degraded' | 'down';\n  timestamp: number;\n  checks: {\n    database: boolean;\n    cache: boolean;\n    websocket: boolean;\n  };\n  metrics: {\n    avgResponseTime: number;\n    errorRate: number;\n    activeConnections: number;\n  };\n}\n\ninterface PerformanceStats {\n  period: string;\n  totalRequests: number;\n  errorCount: number;\n  errorRate: number;\n  avgResponseTime: number;\n  p95ResponseTime: number;\n  p99ResponseTime: number;\n  endpointStats: Array<{\n    endpoint: string;\n    count: number;\n    avgTime: number;\n    errorRate: number;\n  }>;\n  recentErrors: Array<{\n    message: string;\n    endpoint: string;\n    timestamp: string;\n  }>;\n}\n\ninterface CacheStats {\n  memory: {\n    size: number;\n    hits: number;\n    misses: number;\n    hitRate: number;\n  };\n  kv: {\n    operations: number;\n    estimatedSize: string;\n  };\n}\n\n// Chart colors\nconst CHART_COLORS = {\n  primary: '#3B82F6',\n  success: '#10B981',\n  warning: '#F59E0B',\n  danger: '#EF4444',\n  purple: '#8B5CF6',\n  cyan: '#06B6D4',\n};\n\nconst STATUS_COLORS: Record<string, string> = {\n  new: '#3B82F6',\n  assigned: '#8B5CF6',\n  in_progress: '#F59E0B',\n  pending_approval: '#A855F7',\n  completed: '#10B981',\n  cancelled: '#EF4444',\n};\n\nexport function MonitoringPage() {\n  const [health, setHealth] = useState<HealthCheck | null>(null);\n  const [performance, setPerformance] = useState<PerformanceStats | null>(null);\n  const [cache, setCache] = useState<CacheStats | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [autoRefresh, setAutoRefresh] = useState(true);\n  const [activeTab, setActiveTab] = useState<'overview' | 'performance' | 'requests'>('overview');\n\n  const { requests, executors, getStats } = useDataStore();\n  const stats = getStats();\n\n  // Generate mock response time history for chart\n  const responseTimeHistory = useMemo(() => {\n    const data = [];\n    for (let i = 23; i >= 0; i--) {\n      const hour = new Date();\n      hour.setHours(hour.getHours() - i);\n      data.push({\n        time: hour.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' }),\n        avgTime: Math.floor(Math.random() * 150) + 50,\n        requests: Math.floor(Math.random() * 100) + 20,\n      });\n    }\n    return data;\n  }, []);\n\n  // Request statistics by status\n  const requestsByStatus = useMemo(() => {\n    const statusCounts: Record<string, number> = {};\n    requests.forEach((r: Request) => {\n      statusCounts[r.status] = (statusCounts[r.status] || 0) + 1;\n    });\n\n    return Object.entries(statusCounts).map(([status, count]) => ({\n      name: status === 'new' ? 'Новые' :\n            status === 'assigned' ? 'Назначены' :\n            status === 'in_progress' ? 'В работе' :\n            status === 'pending_approval' ? 'На проверке' :\n            status === 'completed' ? 'Выполнены' :\n            status === 'cancelled' ? 'Отменены' : status,\n      value: count,\n      color: STATUS_COLORS[status] || '#9CA3AF',\n    }));\n  }, [requests]);\n\n  // Requests by category for bar chart\n  const requestsByCategory = useMemo(() => {\n    const categoryCounts: Record<string, number> = {};\n    requests.forEach((r: Request) => {\n      categoryCounts[r.category] = (categoryCounts[r.category] || 0) + 1;\n    });\n\n    const categoryLabels: Record<string, string> = {\n      plumber: 'Сантехник',\n      electrician: 'Электрик',\n      security: 'Охрана',\n      cleaning: 'Уборка',\n      elevator: 'Лифт',\n      intercom: 'Домофон',\n      carpenter: 'Плотник',\n      locksmith: 'Слесарь',\n      other: 'Другое',\n    };\n\n    return Object.entries(categoryCounts)\n      .map(([category, count]) => ({\n        category: categoryLabels[category] || category,\n        count,\n      }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 8);\n  }, [requests]);\n\n  // Requests by day of week\n  const requestsByDay = useMemo(() => {\n    const days = ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'];\n    const dayCounts = new Array(7).fill(0);\n\n    requests.forEach((r: Request) => {\n      const day = new Date(r.createdAt).getDay();\n      dayCounts[day]++;\n    });\n\n    return days.map((name, i) => ({\n      day: name,\n      count: dayCounts[i],\n    }));\n  }, [requests]);\n\n  // Executor performance\n  const executorPerformance = useMemo(() => {\n    return [...executors]\n      .sort((a, b) => b.completedCount - a.completedCount)\n      .slice(0, 6)\n      .map(e => ({\n        name: e.name.split(' ')[0],\n        completed: e.completedCount,\n        active: e.activeRequests,\n        rating: e.rating,\n      }));\n  }, [executors]);\n\n  const fetchMetrics = async () => {\n    try {\n      const token = localStorage.getItem('auth_token');\n      const response = await fetch('/api/admin/metrics', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch metrics');\n      }\n\n      const data = await response.json();\n      setHealth(data.health);\n      setPerformance(data.performance);\n      setCache(data.cache);\n      setLoading(false);\n    } catch (error) {\n      console.error('Failed to fetch metrics:', error);\n      // Set mock data for demo\n      setHealth({\n        status: 'healthy',\n        timestamp: Date.now(),\n        checks: { database: true, cache: true, websocket: true },\n        metrics: { avgResponseTime: 85, errorRate: 0.5, activeConnections: 24 }\n      });\n      setPerformance({\n        period: '24h',\n        totalRequests: 1247,\n        errorCount: 6,\n        errorRate: 0.48,\n        avgResponseTime: 85,\n        p95ResponseTime: 180,\n        p99ResponseTime: 320,\n        endpointStats: [\n          { endpoint: '/api/requests', count: 450, avgTime: 65, errorRate: 0.2 },\n          { endpoint: '/api/executors', count: 280, avgTime: 45, errorRate: 0 },\n          { endpoint: '/api/auth/login', count: 156, avgTime: 120, errorRate: 1.2 },\n          { endpoint: '/api/buildings', count: 98, avgTime: 35, errorRate: 0 },\n        ],\n        recentErrors: []\n      });\n      setCache({\n        memory: { size: 156, hits: 2450, misses: 180, hitRate: 93.2 },\n        kv: { operations: 890, estimatedSize: '2.4 MB' }\n      });\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchMetrics();\n\n    if (autoRefresh) {\n      const interval = setInterval(fetchMetrics, 10000);\n      return () => clearInterval(interval);\n    }\n  }, [autoRefresh]);\n\n  const getStatusColor = (status: 'healthy' | 'degraded' | 'down') => {\n    switch (status) {\n      case 'healthy':\n        return 'text-green-500 bg-green-50 border-green-200';\n      case 'degraded':\n        return 'text-yellow-500 bg-yellow-50 border-yellow-200';\n      case 'down':\n        return 'text-red-500 bg-red-50 border-red-200';\n    }\n  };\n\n  const getMetricColor = (value: number, thresholds: { good: number; warning: number }) => {\n    if (value <= thresholds.good) return 'text-green-600';\n    if (value <= thresholds.warning) return 'text-yellow-600';\n    return 'text-red-600';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-96\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Мониторинг Системы</h1>\n          <p className=\"text-gray-600 mt-1\">Real-time производительность и аналитика</p>\n        </div>\n\n        <div className=\"flex items-center gap-3\">\n          <label className=\"flex items-center gap-2 text-sm text-gray-700\">\n            <input\n              type=\"checkbox\"\n              checked={autoRefresh}\n              onChange={(e) => setAutoRefresh(e.target.checked)}\n              className=\"rounded border-gray-300 text-primary-500 focus:ring-primary-500\"\n            />\n            Авто (10s)\n          </label>\n\n          <button\n            onClick={fetchMetrics}\n            className=\"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors flex items-center gap-2\"\n          >\n            <RefreshCw className=\"w-4 h-4\" />\n            Обновить\n          </button>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex gap-2\">\n        {[\n          { id: 'overview', label: 'Обзор', icon: Activity },\n          { id: 'performance', label: 'Производительность', icon: Zap },\n          { id: 'requests', label: 'Аналитика заявок', icon: FileText },\n        ].map(tab => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id as typeof activeTab)}\n            className={`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-colors ${\n              activeTab === tab.id\n                ? 'bg-yellow-400 text-gray-900'\n                : 'bg-white text-gray-600 hover:bg-gray-100'\n            }`}\n          >\n            <tab.icon className=\"w-4 h-4\" />\n            {tab.label}\n          </button>\n        ))}\n      </div>\n\n      {/* Overview Tab */}\n      {activeTab === 'overview' && (\n        <>\n          {/* Health Status */}\n          {health && (\n            <div className={`glass-card p-6 border-2 ${getStatusColor(health.status)}`}>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  {health.status === 'healthy' ? (\n                    <CheckCircle className=\"w-8 h-8\" />\n                  ) : (\n                    <AlertCircle className=\"w-8 h-8\" />\n                  )}\n                  <div>\n                    <h2 className=\"text-xl font-bold\">\n                      Статус: {health.status === 'healthy' ? 'Здорово' : health.status === 'degraded' ? 'Ухудшено' : 'Не работает'}\n                    </h2>\n                    <p className=\"text-sm opacity-75\">\n                      Обновлено: {new Date(health.timestamp).toLocaleString('ru-RU')}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div className=\"text-center\">\n                    <Database className={`w-6 h-6 mx-auto mb-1 ${health.checks.database ? 'text-green-500' : 'text-red-500'}`} />\n                    <p className=\"text-xs\">Database</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <Server className={`w-6 h-6 mx-auto mb-1 ${health.checks.cache ? 'text-green-500' : 'text-red-500'}`} />\n                    <p className=\"text-xs\">Cache</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <Wifi className={`w-6 h-6 mx-auto mb-1 ${health.checks.websocket ? 'text-green-500' : 'text-red-500'}`} />\n                    <p className=\"text-xs\">WebSocket</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Quick Stats */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <div className=\"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center\">\n                  <FileText className=\"w-5 h-5 text-blue-600\" />\n                </div>\n                <span className=\"text-sm text-gray-600\">Всего заявок</span>\n              </div>\n              <div className=\"text-3xl font-bold text-gray-900\">{stats.totalRequests}</div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <div className=\"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center\">\n                  <Users className=\"w-5 h-5 text-green-600\" />\n                </div>\n                <span className=\"text-sm text-gray-600\">Исполнителей</span>\n              </div>\n              <div className=\"text-3xl font-bold text-gray-900\">{executors.length}</div>\n              <p className=\"text-xs text-gray-500 mt-1\">{stats.executorsOnline} онлайн</p>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <div className=\"w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center\">\n                  <Clock className=\"w-5 h-5 text-amber-600\" />\n                </div>\n                <span className=\"text-sm text-gray-600\">В работе</span>\n              </div>\n              <div className=\"text-3xl font-bold text-amber-600\">{stats.inProgress}</div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <div className=\"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center\">\n                  <TrendingUp className=\"w-5 h-5 text-purple-600\" />\n                </div>\n                <span className=\"text-sm text-gray-600\">За неделю</span>\n              </div>\n              <div className=\"text-3xl font-bold text-green-600\">{stats.completedWeek}</div>\n            </div>\n          </div>\n\n          {/* Charts Row */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Request Status Pie Chart */}\n            <div className=\"glass-card p-5\">\n              <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\n                <BarChart className=\"w-5 h-5 text-purple-500\" />\n                Заявки по статусам\n              </h3>\n              <ResponsiveContainer width=\"100%\" height={280}>\n                <PieChart>\n                  <Pie\n                    data={requestsByStatus}\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    labelLine={false}\n                    outerRadius={100}\n                    dataKey=\"value\"\n                    label={({ name, percent }: { name: string; percent: number }) =>\n                      `${name} ${(percent * 100).toFixed(0)}%`\n                    }\n                  >\n                    {requestsByStatus.map((entry, index) => (\n                      <Cell key={`cell-${index}`} fill={entry.color} />\n                    ))}\n                  </Pie>\n                  <Tooltip />\n                  <Legend />\n                </PieChart>\n              </ResponsiveContainer>\n            </div>\n\n            {/* Requests by Category */}\n            <div className=\"glass-card p-5\">\n              <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\n                <Activity className=\"w-5 h-5 text-blue-500\" />\n                По категориям\n              </h3>\n              <ResponsiveContainer width=\"100%\" height={280}>\n                <RechartsBarChart data={requestsByCategory} layout=\"vertical\">\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                  <XAxis type=\"number\" tick={{ fontSize: 12 }} />\n                  <YAxis dataKey=\"category\" type=\"category\" tick={{ fontSize: 11 }} width={80} />\n                  <Tooltip />\n                  <Bar dataKey=\"count\" fill={CHART_COLORS.primary} radius={[0, 4, 4, 0]} />\n                </RechartsBarChart>\n              </ResponsiveContainer>\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* Performance Tab */}\n      {activeTab === 'performance' && performance && (\n        <>\n          {/* Performance Metrics */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <BarChart className=\"w-5 h-5 text-blue-500\" />\n                <span className=\"text-sm text-gray-600\">API Запросов</span>\n              </div>\n              <div className=\"text-3xl font-bold text-gray-900\">{performance.totalRequests}</div>\n              <p className=\"text-xs text-gray-500 mt-1\">За {performance.period}</p>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <Clock className=\"w-5 h-5 text-green-500\" />\n                <span className=\"text-sm text-gray-600\">Ср. отклик</span>\n              </div>\n              <div className={`text-3xl font-bold ${getMetricColor(performance.avgResponseTime, { good: 200, warning: 500 })}`}>\n                {performance.avgResponseTime}ms\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                P95: {performance.p95ResponseTime}ms\n              </p>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <AlertCircle className=\"w-5 h-5 text-red-500\" />\n                <span className=\"text-sm text-gray-600\">Ошибок</span>\n              </div>\n              <div className={`text-3xl font-bold ${getMetricColor(performance.errorRate, { good: 1, warning: 5 })}`}>\n                {performance.errorCount}\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">Уровень: {performance.errorRate}%</p>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <Server className=\"w-5 h-5 text-purple-500\" />\n                <span className=\"text-sm text-gray-600\">Cache Hit</span>\n              </div>\n              <div className=\"text-3xl font-bold text-gray-900\">\n                {cache ? Math.round(cache.memory.hitRate) : 0}%\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {cache ? `${cache.memory.hits} hits` : 'N/A'}\n              </p>\n            </div>\n          </div>\n\n          {/* Response Time Chart */}\n          <div className=\"glass-card p-5\">\n            <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\n              <TrendingUp className=\"w-5 h-5 text-green-500\" />\n              Время отклика (24 часа)\n            </h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <LineChart data={responseTimeHistory}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                <XAxis dataKey=\"time\" tick={{ fontSize: 10 }} />\n                <YAxis tick={{ fontSize: 12 }} />\n                <Tooltip />\n                <Legend />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"avgTime\"\n                  stroke={CHART_COLORS.primary}\n                  strokeWidth={2}\n                  name=\"Время отклика (ms)\"\n                  dot={false}\n                />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"requests\"\n                  stroke={CHART_COLORS.success}\n                  strokeWidth={2}\n                  name=\"Запросов\"\n                  dot={false}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* Endpoint Statistics */}\n          {performance.endpointStats.length > 0 && (\n            <div className=\"glass-card p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Статистика Endpoints</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b border-gray-200\">\n                      <th className=\"text-left py-3 px-4 text-sm font-medium text-gray-700\">Endpoint</th>\n                      <th className=\"text-right py-3 px-4 text-sm font-medium text-gray-700\">Запросов</th>\n                      <th className=\"text-right py-3 px-4 text-sm font-medium text-gray-700\">Ср. время</th>\n                      <th className=\"text-right py-3 px-4 text-sm font-medium text-gray-700\">Ошибок</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {performance.endpointStats.map((stat, idx) => (\n                      <tr key={idx} className=\"border-b border-gray-100 hover:bg-gray-50\">\n                        <td className=\"py-3 px-4 text-sm text-gray-900 font-mono\">{stat.endpoint}</td>\n                        <td className=\"py-3 px-4 text-sm text-gray-600 text-right\">{stat.count}</td>\n                        <td className={`py-3 px-4 text-sm text-right font-medium ${getMetricColor(stat.avgTime, { good: 200, warning: 500 })}`}>\n                          {stat.avgTime}ms\n                        </td>\n                        <td className={`py-3 px-4 text-sm text-right font-medium ${getMetricColor(stat.errorRate, { good: 1, warning: 5 })}`}>\n                          {stat.errorRate}%\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* Cache Statistics */}\n          {cache && (\n            <div className=\"glass-card p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Статистика Кэша</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <div className=\"bg-white/50 rounded-lg p-4\">\n                  <p className=\"text-sm text-gray-600\">Memory Size</p>\n                  <p className=\"text-2xl font-bold text-gray-900 mt-1\">{cache.memory.size}</p>\n                </div>\n                <div className=\"bg-white/50 rounded-lg p-4\">\n                  <p className=\"text-sm text-gray-600\">Hits</p>\n                  <p className=\"text-2xl font-bold text-green-600 mt-1\">{cache.memory.hits}</p>\n                </div>\n                <div className=\"bg-white/50 rounded-lg p-4\">\n                  <p className=\"text-sm text-gray-600\">Misses</p>\n                  <p className=\"text-2xl font-bold text-red-600 mt-1\">{cache.memory.misses}</p>\n                </div>\n                <div className=\"bg-white/50 rounded-lg p-4\">\n                  <p className=\"text-sm text-gray-600\">Hit Rate</p>\n                  <p className=\"text-2xl font-bold text-blue-600 mt-1\">{Math.round(cache.memory.hitRate)}%</p>\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n\n      {/* Requests Analytics Tab */}\n      {activeTab === 'requests' && (\n        <>\n          {/* Requests by Day */}\n          <div className=\"glass-card p-5\">\n            <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\n              <Activity className=\"w-5 h-5 text-blue-500\" />\n              Заявки по дням недели\n            </h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <RechartsBarChart data={requestsByDay}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                <XAxis dataKey=\"day\" tick={{ fontSize: 12 }} />\n                <YAxis tick={{ fontSize: 12 }} />\n                <Tooltip />\n                <Bar dataKey=\"count\" fill={CHART_COLORS.primary} radius={[4, 4, 0, 0]} name=\"Заявок\" />\n              </RechartsBarChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* Executor Performance */}\n          <div className=\"glass-card p-5\">\n            <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\n              <Users className=\"w-5 h-5 text-green-500\" />\n              Производительность исполнителей\n            </h3>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <RechartsBarChart data={executorPerformance}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                <YAxis tick={{ fontSize: 12 }} />\n                <Tooltip />\n                <Legend />\n                <Bar dataKey=\"completed\" fill={CHART_COLORS.success} name=\"Выполнено\" stackId=\"a\" />\n                <Bar dataKey=\"active\" fill={CHART_COLORS.warning} name=\"Активных\" stackId=\"a\" />\n              </RechartsBarChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* Request Status Distribution */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div className=\"glass-card p-5\">\n              <h3 className=\"font-semibold text-lg mb-4\">Распределение по статусам</h3>\n              <div className=\"space-y-3\">\n                {requestsByStatus.map((item, idx) => {\n                  const percentage = stats.totalRequests > 0 ? (item.value / stats.totalRequests) * 100 : 0;\n                  return (\n                    <div key={idx}>\n                      <div className=\"flex justify-between text-sm mb-1\">\n                        <span className=\"text-gray-700\">{item.name}</span>\n                        <span className=\"font-medium\">{item.value} ({percentage.toFixed(1)}%)</span>\n                      </div>\n                      <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\n                        <div\n                          className=\"h-full transition-all duration-500\"\n                          style={{ width: `${percentage}%`, backgroundColor: item.color }}\n                        />\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <h3 className=\"font-semibold text-lg mb-4\">Статистика за неделю</h3>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"bg-blue-50 rounded-lg p-4\">\n                  <p className=\"text-sm text-blue-600\">Новых заявок</p>\n                  <p className=\"text-3xl font-bold text-blue-700 mt-1\">{stats.newRequests}</p>\n                </div>\n                <div className=\"bg-amber-50 rounded-lg p-4\">\n                  <p className=\"text-sm text-amber-600\">В работе</p>\n                  <p className=\"text-3xl font-bold text-amber-700 mt-1\">{stats.inProgress}</p>\n                </div>\n                <div className=\"bg-purple-50 rounded-lg p-4\">\n                  <p className=\"text-sm text-purple-600\">На проверке</p>\n                  <p className=\"text-3xl font-bold text-purple-700 mt-1\">{stats.pendingApproval}</p>\n                </div>\n                <div className=\"bg-green-50 rounded-lg p-4\">\n                  <p className=\"text-sm text-green-600\">Выполнено</p>\n                  <p className=\"text-3xl font-bold text-green-700 mt-1\">{stats.completedWeek}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* Recent Errors */}\n      {performance && performance.recentErrors.length > 0 && (\n        <div className=\"glass-card p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Последние Ошибки</h3>\n          <div className=\"space-y-3\">\n            {performance.recentErrors.map((error, idx) => (\n              <div key={idx} className=\"flex items-start gap-3 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                <X className=\"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-red-900\">{error.message}</p>\n                  <div className=\"flex items-center gap-3 mt-1 text-xs text-red-700\">\n                    <span className=\"font-mono\">{error.endpoint}</span>\n                    <span>•</span>\n                    <span>{new Date(error.timestamp).toLocaleString('ru-RU')}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["CHART_COLORS","STATUS_COLORS","MonitoringPage","health","setHealth","useState","performance","setPerformance","cache","setCache","loading","setLoading","autoRefresh","setAutoRefresh","activeTab","setActiveTab","requests","executors","getStats","useDataStore","stats","responseTimeHistory","useMemo","data","i","hour","requestsByStatus","statusCounts","r","status","count","requestsByCategory","categoryCounts","categoryLabels","category","b","requestsByDay","days","dayCounts","day","name","executorPerformance","a","e","fetchMetrics","token","response","useEffect","interval","getStatusColor","getMetricColor","value","thresholds","jsx","jsxs","RefreshCw","Activity","Zap","FileText","tab","Fragment","CheckCircle","AlertCircle","Database","Server","Wifi","Users","Clock","TrendingUp","BarChart","ResponsiveContainer","PieChart","Pie","percent","entry","index","Cell","Tooltip","Legend","RechartsBarChart","CartesianGrid","XAxis","YAxis","Bar","LineChart","Line","stat","idx","item","percentage","error","X"],"mappings":"kiBA2DA,MAAMA,EAAe,CACnB,QAAS,UACT,QAAS,UACT,QAAS,SAIX,EAEMC,GAAwC,CAC5C,IAAK,UACL,SAAU,UACV,YAAa,UACb,iBAAkB,UAClB,UAAW,UACX,UAAW,SACb,EAEO,SAASC,IAAiB,CAC/B,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAA6B,IAAI,EACvD,CAACC,EAAaC,CAAc,EAAIF,EAAAA,SAAkC,IAAI,EACtE,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAA4B,IAAI,EACpD,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAI,EACrC,CAACO,EAAaC,CAAc,EAAIR,EAAAA,SAAS,EAAI,EAC7C,CAACS,EAAWC,CAAY,EAAIV,EAAAA,SAAkD,UAAU,EAExF,CAAE,SAAAW,EAAU,UAAAC,EAAW,SAAAC,CAAA,EAAaC,GAAA,EACpCC,EAAQF,EAAA,EAGRG,EAAsBC,EAAAA,QAAQ,IAAM,CACxC,MAAMC,EAAO,CAAA,EACb,QAASC,EAAI,GAAIA,GAAK,EAAGA,IAAK,CAC5B,MAAMC,MAAW,KACjBA,EAAK,SAASA,EAAK,SAAA,EAAaD,CAAC,EACjCD,EAAK,KAAK,CACR,KAAME,EAAK,mBAAmB,QAAS,CAAE,KAAM,UAAW,OAAQ,UAAW,EAC7E,QAAS,KAAK,MAAM,KAAK,OAAA,EAAW,GAAG,EAAI,GAC3C,SAAU,KAAK,MAAM,KAAK,OAAA,EAAW,GAAG,EAAI,EAAA,CAC7C,CACH,CACA,OAAOF,CACT,EAAG,CAAA,CAAE,EAGCG,EAAmBJ,EAAAA,QAAQ,IAAM,CACrC,MAAMK,EAAuC,CAAA,EAC7C,OAAAX,EAAS,QAASY,GAAe,CAC/BD,EAAaC,EAAE,MAAM,GAAKD,EAAaC,EAAE,MAAM,GAAK,GAAK,CAC3D,CAAC,EAEM,OAAO,QAAQD,CAAY,EAAE,IAAI,CAAC,CAACE,EAAQC,CAAK,KAAO,CAC5D,KAAMD,IAAW,MAAQ,QACnBA,IAAW,WAAa,YACxBA,IAAW,cAAgB,WAC3BA,IAAW,mBAAqB,cAChCA,IAAW,YAAc,YACzBA,IAAW,YAAc,WAAaA,EAC5C,MAAOC,EACP,MAAO7B,GAAc4B,CAAM,GAAK,SAAA,EAChC,CACJ,EAAG,CAACb,CAAQ,CAAC,EAGPe,EAAqBT,EAAAA,QAAQ,IAAM,CACvC,MAAMU,EAAyC,CAAA,EAC/ChB,EAAS,QAASY,GAAe,CAC/BI,EAAeJ,EAAE,QAAQ,GAAKI,EAAeJ,EAAE,QAAQ,GAAK,GAAK,CACnE,CAAC,EAED,MAAMK,EAAyC,CAC7C,QAAS,YACT,YAAa,WACb,SAAU,SACV,SAAU,SACV,SAAU,OACV,SAAU,UACV,UAAW,UACX,UAAW,UACX,MAAO,QAAA,EAGT,OAAO,OAAO,QAAQD,CAAc,EACjC,IAAI,CAAC,CAACE,EAAUJ,CAAK,KAAO,CAC3B,SAAUG,EAAeC,CAAQ,GAAKA,EACtC,MAAAJ,CAAA,EACA,EACD,KAAK,CAAC,EAAGK,IAAMA,EAAE,MAAQ,EAAE,KAAK,EAChC,MAAM,EAAG,CAAC,CACf,EAAG,CAACnB,CAAQ,CAAC,EAGPoB,EAAgBd,EAAAA,QAAQ,IAAM,CAClC,MAAMe,EAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EAChDC,EAAY,IAAI,MAAM,CAAC,EAAE,KAAK,CAAC,EAErC,OAAAtB,EAAS,QAASY,GAAe,CAC/B,MAAMW,EAAM,IAAI,KAAKX,EAAE,SAAS,EAAE,OAAA,EAClCU,EAAUC,CAAG,GACf,CAAC,EAEMF,EAAK,IAAI,CAACG,EAAMhB,KAAO,CAC5B,IAAKgB,EACL,MAAOF,EAAUd,CAAC,CAAA,EAClB,CACJ,EAAG,CAACR,CAAQ,CAAC,EAGPyB,EAAsBnB,EAAAA,QAAQ,IAC3B,CAAC,GAAGL,CAAS,EACjB,KAAK,CAACyB,EAAGP,IAAMA,EAAE,eAAiBO,EAAE,cAAc,EAClD,MAAM,EAAG,CAAC,EACV,IAAIC,IAAM,CACT,KAAMA,EAAE,KAAK,MAAM,GAAG,EAAE,CAAC,EACzB,UAAWA,EAAE,eACb,OAAQA,EAAE,eACV,OAAQA,EAAE,MAAA,EACV,EACH,CAAC1B,CAAS,CAAC,EAER2B,EAAe,SAAY,CAC/B,GAAI,CACF,MAAMC,EAAQ,aAAa,QAAQ,YAAY,EACzCC,EAAW,MAAM,MAAM,qBAAsB,CACjD,QAAS,CACP,cAAiB,UAAUD,CAAK,GAChC,eAAgB,kBAAA,CAClB,CACD,EAED,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,yBAAyB,EAG3C,MAAMvB,EAAO,MAAMuB,EAAS,KAAA,EAC5B1C,EAAUmB,EAAK,MAAM,EACrBhB,EAAegB,EAAK,WAAW,EAC/Bd,EAASc,EAAK,KAAK,EACnBZ,EAAW,EAAK,CAClB,MAAgB,CAGdP,EAAU,CACR,OAAQ,UACR,UAAW,KAAK,IAAA,EAChB,OAAQ,CAAE,SAAU,GAAM,MAAO,GAAM,UAAW,EAAA,EAClD,QAAS,CAAE,gBAAiB,GAAI,UAAW,GAAK,kBAAmB,EAAA,CAAG,CACvE,EACDG,EAAe,CACb,OAAQ,MACR,cAAe,KACf,WAAY,EACZ,UAAW,IACX,gBAAiB,GACjB,gBAAiB,IACjB,gBAAiB,IACjB,cAAe,CACb,CAAE,SAAU,gBAAiB,MAAO,IAAK,QAAS,GAAI,UAAW,EAAA,EACjE,CAAE,SAAU,iBAAkB,MAAO,IAAK,QAAS,GAAI,UAAW,CAAA,EAClE,CAAE,SAAU,kBAAmB,MAAO,IAAK,QAAS,IAAK,UAAW,GAAA,EACpE,CAAE,SAAU,iBAAkB,MAAO,GAAI,QAAS,GAAI,UAAW,CAAA,CAAE,EAErE,aAAc,CAAA,CAAC,CAChB,EACDE,EAAS,CACP,OAAQ,CAAE,KAAM,IAAK,KAAM,KAAM,OAAQ,IAAK,QAAS,IAAA,EACvD,GAAI,CAAE,WAAY,IAAK,cAAe,QAAA,CAAS,CAChD,EACDE,EAAW,EAAK,CAClB,CACF,EAEAoC,EAAAA,UAAU,IAAM,CAGd,GAFAH,EAAA,EAEIhC,EAAa,CACf,MAAMoC,EAAW,YAAYJ,EAAc,GAAK,EAChD,MAAO,IAAM,cAAcI,CAAQ,CACrC,CACF,EAAG,CAACpC,CAAW,CAAC,EAEhB,MAAMqC,EAAkBpB,GAA4C,CAClE,OAAQA,EAAA,CACN,IAAK,UACH,MAAO,8CACT,IAAK,WACH,MAAO,iDACT,IAAK,OACH,MAAO,uCAAA,CAEb,EAEMqB,EAAiB,CAACC,EAAeC,IACjCD,GAASC,EAAW,KAAa,iBACjCD,GAASC,EAAW,QAAgB,kBACjC,eAGT,OAAI1C,EAEA2C,MAAC,OAAI,UAAU,wCACb,eAAC,MAAA,CAAI,UAAU,oEAAoE,CAAA,CACrF,EAKFC,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,qBAAkB,EACnEA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,0CAAA,CAAwC,CAAA,EAC5E,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,QAAA,CAAM,UAAU,gDACf,SAAA,CAAAD,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,QAASzC,EACT,SAAW+B,GAAM9B,EAAe8B,EAAE,OAAO,OAAO,EAChD,UAAU,iEAAA,CAAA,EACV,YAAA,EAEJ,EAEAW,EAAAA,KAAC,SAAA,CACC,QAASV,EACT,UAAU,gHAEV,SAAA,CAAAS,EAAAA,IAACE,EAAA,CAAU,UAAU,SAAA,CAAU,EAAE,UAAA,CAAA,CAAA,CAEnC,CAAA,CACF,CAAA,EACF,EAGAF,EAAAA,IAAC,MAAA,CAAI,UAAU,aACZ,SAAA,CACC,CAAE,GAAI,WAAY,MAAO,QAAS,KAAMG,CAAA,EACxC,CAAE,GAAI,cAAe,MAAO,qBAAsB,KAAMC,CAAA,EACxD,CAAE,GAAI,WAAY,MAAO,mBAAoB,KAAMC,CAAA,CAAS,EAC5D,IAAIC,GACJL,EAAAA,KAAC,SAAA,CAEC,QAAS,IAAMvC,EAAa4C,EAAI,EAAsB,EACtD,UAAW,8EACT7C,IAAc6C,EAAI,GACd,8BACA,0CACN,GAEA,SAAA,CAAAN,EAAAA,IAACM,EAAI,KAAJ,CAAS,UAAU,SAAA,CAAU,EAC7BA,EAAI,KAAA,CAAA,EATAA,EAAI,EAAA,CAWZ,EACH,EAGC7C,IAAc,YACbwC,EAAAA,KAAAM,EAAAA,SAAA,CAEG,SAAA,CAAAzD,GACCkD,EAAAA,IAAC,MAAA,CAAI,UAAW,2BAA2BJ,EAAe9C,EAAO,MAAM,CAAC,GACtE,SAAAmD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAAnD,EAAO,SAAW,UACjBkD,EAAAA,IAACQ,EAAA,CAAY,UAAU,UAAU,EAEjCR,EAAAA,IAACS,EAAA,CAAY,UAAU,SAAA,CAAU,SAElC,MAAA,CACC,SAAA,CAAAR,EAAAA,KAAC,KAAA,CAAG,UAAU,oBAAoB,SAAA,CAAA,WACvBnD,EAAO,SAAW,UAAY,UAAYA,EAAO,SAAW,WAAa,WAAa,aAAA,EACjG,EACAmD,EAAAA,KAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,CAAA,cACpB,IAAI,KAAKnD,EAAO,SAAS,EAAE,eAAe,OAAO,CAAA,CAAA,CAC/D,CAAA,CAAA,CACF,CAAA,EACF,EAEAmD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAD,EAAAA,IAACU,EAAA,CAAS,UAAW,wBAAwB5D,EAAO,OAAO,SAAW,iBAAmB,cAAc,EAAA,CAAI,EAC3GkD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAU,SAAA,UAAA,CAAQ,CAAA,EACjC,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAD,EAAAA,IAACW,EAAA,CAAO,UAAW,wBAAwB7D,EAAO,OAAO,MAAQ,iBAAmB,cAAc,EAAA,CAAI,EACtGkD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAU,SAAA,OAAA,CAAK,CAAA,EAC9B,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAD,EAAAA,IAACY,EAAA,CAAK,UAAW,wBAAwB9D,EAAO,OAAO,UAAY,iBAAmB,cAAc,EAAA,CAAI,EACxGkD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAU,SAAA,WAAA,CAAS,CAAA,CAAA,CAClC,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAIFC,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,oEACb,eAACK,EAAA,CAAS,UAAU,wBAAwB,CAAA,CAC9C,EACAL,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,cAAA,CAAY,CAAA,EACtD,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,mCAAoC,WAAM,aAAA,CAAc,CAAA,EACzE,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,qEACb,eAACa,EAAA,CAAM,UAAU,yBAAyB,CAAA,CAC5C,EACAb,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,cAAA,CAAY,CAAA,EACtD,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,mCAAoC,WAAU,OAAO,EACpEC,EAAAA,KAAC,IAAA,CAAE,UAAU,6BAA8B,SAAA,CAAAlC,EAAM,gBAAgB,SAAA,CAAA,CAAO,CAAA,EAC1E,EAEAkC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,qEACb,eAACc,EAAA,CAAM,UAAU,yBAAyB,CAAA,CAC5C,EACAd,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,UAAA,CAAQ,CAAA,EAClD,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAqC,WAAM,UAAA,CAAW,CAAA,EACvE,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,sEACb,eAACe,EAAA,CAAW,UAAU,0BAA0B,CAAA,CAClD,EACAf,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,WAAA,CAAS,CAAA,EACnD,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAqC,WAAM,aAAA,CAAc,CAAA,CAAA,CAC1E,CAAA,EACF,EAGAC,EAAAA,KAAC,MAAA,CAAI,UAAU,wCAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,qDACZ,SAAA,CAAAD,EAAAA,IAACgB,EAAA,CAAS,UAAU,yBAAA,CAA0B,EAAE,oBAAA,EAElD,QACCC,EAAA,CAAoB,MAAM,OAAO,OAAQ,IACxC,gBAACC,GAAA,CACC,SAAA,CAAAlB,EAAAA,IAACmB,GAAA,CACC,KAAM9C,EACN,GAAG,MACH,GAAG,MACH,UAAW,GACX,YAAa,IACb,QAAQ,QACR,MAAO,CAAC,CAAE,KAAAc,EAAM,QAAAiC,CAAA,IACd,GAAGjC,CAAI,KAAKiC,EAAU,KAAK,QAAQ,CAAC,CAAC,IAGtC,SAAA/C,EAAiB,IAAI,CAACgD,EAAOC,IAC5BtB,EAAAA,IAACuB,GAAA,CAA2B,KAAMF,EAAM,KAAA,EAA7B,QAAQC,CAAK,EAAuB,CAChD,CAAA,CAAA,QAEFE,EAAA,EAAQ,QACRC,EAAA,CAAA,CAAO,CAAA,CAAA,CACV,CAAA,CACF,CAAA,EACF,EAGAxB,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,qDACZ,SAAA,CAAAD,EAAAA,IAACG,EAAA,CAAS,UAAU,uBAAA,CAAwB,EAAE,eAAA,EAEhD,EACAH,EAAAA,IAACiB,EAAA,CAAoB,MAAM,OAAO,OAAQ,IACxC,SAAAhB,EAAAA,KAACyB,EAAA,CAAiB,KAAMhD,EAAoB,OAAO,WACjD,SAAA,CAAAsB,EAAAA,IAAC2B,EAAA,CAAc,gBAAgB,MAAM,OAAO,UAAU,EACtD3B,MAAC4B,GAAM,KAAK,SAAS,KAAM,CAAE,SAAU,IAAM,EAC7C5B,EAAAA,IAAC6B,EAAA,CAAM,QAAQ,WAAW,KAAK,WAAW,KAAM,CAAE,SAAU,EAAA,EAAM,MAAO,EAAA,CAAI,QAC5EL,EAAA,EAAQ,EACTxB,EAAAA,IAAC8B,EAAA,CAAI,QAAQ,QAAQ,KAAMnF,EAAa,QAAS,OAAQ,CAAC,EAAG,EAAG,EAAG,CAAC,CAAA,CAAG,CAAA,CAAA,CACzE,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAIDc,IAAc,eAAiBR,GAC9BgD,EAAAA,KAAAM,EAAAA,SAAA,CAEE,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAACgB,EAAA,CAAS,UAAU,uBAAA,CAAwB,EAC5ChB,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,cAAA,CAAY,CAAA,EACtD,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,mCAAoC,WAAY,cAAc,EAC7EC,EAAAA,KAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,CAAA,MAAIhD,EAAY,MAAA,CAAA,CAAO,CAAA,EACnE,EAEAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAACc,EAAA,CAAM,UAAU,wBAAA,CAAyB,EAC1Cd,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,YAAA,CAAU,CAAA,EACpD,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAW,sBAAsBJ,EAAe5C,EAAY,gBAAiB,CAAE,KAAM,IAAK,QAAS,GAAA,CAAK,CAAC,GAC3G,SAAA,CAAAA,EAAY,gBAAgB,IAAA,EAC/B,EACAgD,EAAAA,KAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,CAAA,QAClChD,EAAY,gBAAgB,IAAA,CAAA,CACpC,CAAA,EACF,EAEAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAACS,EAAA,CAAY,UAAU,sBAAA,CAAuB,EAC9CT,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,QAAA,CAAM,CAAA,EAChD,QACC,MAAA,CAAI,UAAW,sBAAsBH,EAAe5C,EAAY,UAAW,CAAE,KAAM,EAAG,QAAS,EAAG,CAAC,GACjG,WAAY,WACf,EACAgD,EAAAA,KAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,CAAA,YAAUhD,EAAY,UAAU,GAAA,CAAA,CAAC,CAAA,EAC7E,EAEAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAD,EAAAA,IAACW,EAAA,CAAO,UAAU,yBAAA,CAA0B,EAC5CX,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,WAAA,CAAS,CAAA,EACnD,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACZ,SAAA,CAAA9C,EAAQ,KAAK,MAAMA,EAAM,OAAO,OAAO,EAAI,EAAE,GAAA,EAChD,EACA6C,EAAAA,IAAC,IAAA,CAAE,UAAU,6BACV,SAAA7C,EAAQ,GAAGA,EAAM,OAAO,IAAI,QAAU,KAAA,CACzC,CAAA,CAAA,CACF,CAAA,EACF,EAGA8C,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,qDACZ,SAAA,CAAAD,EAAAA,IAACe,EAAA,CAAW,UAAU,wBAAA,CAAyB,EAAE,yBAAA,EAEnD,EACAf,EAAAA,IAACiB,GAAoB,MAAM,OAAO,OAAQ,IACxC,SAAAhB,EAAAA,KAAC8B,GAAA,CAAU,KAAM/D,EACf,SAAA,CAAAgC,EAAAA,IAAC2B,EAAA,CAAc,gBAAgB,MAAM,OAAO,UAAU,EACtD3B,MAAC4B,GAAM,QAAQ,OAAO,KAAM,CAAE,SAAU,IAAM,QAC7CC,EAAA,CAAM,KAAM,CAAE,SAAU,IAAM,QAC9BL,EAAA,EAAQ,QACRC,EAAA,EAAO,EACRzB,EAAAA,IAACgC,EAAA,CACC,KAAK,WACL,QAAQ,UACR,OAAQrF,EAAa,QACrB,YAAa,EACb,KAAK,qBACL,IAAK,EAAA,CAAA,EAEPqD,EAAAA,IAACgC,EAAA,CACC,KAAK,WACL,QAAQ,WACR,OAAQrF,EAAa,QACrB,YAAa,EACb,KAAK,WACL,IAAK,EAAA,CAAA,CACP,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGCM,EAAY,cAAc,OAAS,GAClCgD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,uBAAoB,QAC5E,MAAA,CAAI,UAAU,kBACb,SAAAC,EAAAA,KAAC,QAAA,CAAM,UAAU,SACf,SAAA,CAAAD,MAAC,QAAA,CACC,SAAAC,EAAAA,KAAC,KAAA,CAAG,UAAU,2BACZ,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,wDAAwD,SAAA,WAAQ,EAC9EA,EAAAA,IAAC,KAAA,CAAG,UAAU,yDAAyD,SAAA,WAAQ,EAC/EA,EAAAA,IAAC,KAAA,CAAG,UAAU,yDAAyD,SAAA,YAAS,EAChFA,EAAAA,IAAC,KAAA,CAAG,UAAU,yDAAyD,SAAA,QAAA,CAAM,CAAA,CAAA,CAC/E,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CACE,SAAA/C,EAAY,cAAc,IAAI,CAACgF,EAAMC,IACpCjC,EAAAA,KAAC,KAAA,CAAa,UAAU,4CACtB,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,4CAA6C,SAAAiC,EAAK,SAAS,EACzEjC,EAAAA,IAAC,KAAA,CAAG,UAAU,6CAA8C,WAAK,MAAM,EACvEC,EAAAA,KAAC,KAAA,CAAG,UAAW,4CAA4CJ,EAAeoC,EAAK,QAAS,CAAE,KAAM,IAAK,QAAS,GAAA,CAAK,CAAC,GACjH,SAAA,CAAAA,EAAK,QAAQ,IAAA,EAChB,EACAhC,EAAAA,KAAC,KAAA,CAAG,UAAW,4CAA4CJ,EAAeoC,EAAK,UAAW,CAAE,KAAM,EAAG,QAAS,CAAA,CAAG,CAAC,GAC/G,SAAA,CAAAA,EAAK,UAAU,GAAA,CAAA,CAClB,CAAA,CAAA,EAROC,CAST,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAID/E,GACC8C,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,kBAAe,EACxEC,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,cAAW,QAC/C,IAAA,CAAE,UAAU,wCAAyC,SAAA7C,EAAM,OAAO,IAAA,CAAK,CAAA,EAC1E,EACA8C,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,OAAI,QACxC,IAAA,CAAE,UAAU,yCAA0C,SAAA7C,EAAM,OAAO,IAAA,CAAK,CAAA,EAC3E,EACA8C,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,SAAM,QAC1C,IAAA,CAAE,UAAU,uCAAwC,SAAA7C,EAAM,OAAO,MAAA,CAAO,CAAA,EAC3E,EACA8C,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,WAAQ,EAC7CC,EAAAA,KAAC,IAAA,CAAE,UAAU,wCAAyC,SAAA,CAAA,KAAK,MAAM9C,EAAM,OAAO,OAAO,EAAE,GAAA,CAAA,CAAC,CAAA,CAAA,CAC1F,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEJ,EAIDM,IAAc,YACbwC,EAAAA,KAAAM,EAAAA,SAAA,CAEE,SAAA,CAAAN,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,qDACZ,SAAA,CAAAD,EAAAA,IAACG,EAAA,CAAS,UAAU,uBAAA,CAAwB,EAAE,uBAAA,EAEhD,EACAH,EAAAA,IAACiB,GAAoB,MAAM,OAAO,OAAQ,IACxC,SAAAhB,EAAAA,KAACyB,EAAA,CAAiB,KAAM3C,EACtB,SAAA,CAAAiB,EAAAA,IAAC2B,EAAA,CAAc,gBAAgB,MAAM,OAAO,UAAU,EACtD3B,MAAC4B,GAAM,QAAQ,MAAM,KAAM,CAAE,SAAU,IAAM,QAC5CC,EAAA,CAAM,KAAM,CAAE,SAAU,IAAM,QAC9BL,EAAA,EAAQ,EACTxB,EAAAA,IAAC8B,EAAA,CAAI,QAAQ,QAAQ,KAAMnF,EAAa,QAAS,OAAQ,CAAC,EAAG,EAAG,EAAG,CAAC,EAAG,KAAK,QAAA,CAAS,CAAA,CAAA,CACvF,CAAA,CACF,CAAA,EACF,EAGAsD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,qDACZ,SAAA,CAAAD,EAAAA,IAACa,EAAA,CAAM,UAAU,wBAAA,CAAyB,EAAE,iCAAA,EAE9C,EACAb,EAAAA,IAACiB,GAAoB,MAAM,OAAO,OAAQ,IACxC,SAAAhB,EAAAA,KAACyB,EAAA,CAAiB,KAAMtC,EACtB,SAAA,CAAAY,EAAAA,IAAC2B,EAAA,CAAc,gBAAgB,MAAM,OAAO,UAAU,EACtD3B,MAAC4B,GAAM,QAAQ,OAAO,KAAM,CAAE,SAAU,IAAM,QAC7CC,EAAA,CAAM,KAAM,CAAE,SAAU,IAAM,QAC9BL,EAAA,EAAQ,QACRC,EAAA,EAAO,EACRzB,EAAAA,IAAC8B,EAAA,CAAI,QAAQ,YAAY,KAAMnF,EAAa,QAAS,KAAK,YAAY,QAAQ,GAAA,CAAI,EAClFqD,EAAAA,IAAC8B,EAAA,CAAI,QAAQ,SAAS,KAAMnF,EAAa,QAAS,KAAK,WAAW,QAAQ,GAAA,CAAI,CAAA,CAAA,CAChF,CAAA,CACF,CAAA,EACF,EAGAsD,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,4BAAyB,EACpEA,MAAC,OAAI,UAAU,YACZ,WAAiB,IAAI,CAACmC,EAAMD,IAAQ,CACnC,MAAME,EAAarE,EAAM,cAAgB,EAAKoE,EAAK,MAAQpE,EAAM,cAAiB,IAAM,EACxF,cACG,MAAA,CACC,SAAA,CAAAkC,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,gBAAiB,SAAAmC,EAAK,KAAK,EAC3ClC,EAAAA,KAAC,OAAA,CAAK,UAAU,cAAe,SAAA,CAAAkC,EAAK,MAAM,KAAGC,EAAW,QAAQ,CAAC,EAAE,IAAA,CAAA,CAAE,CAAA,EACvE,EACApC,EAAAA,IAAC,MAAA,CAAI,UAAU,+CACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,qCACV,MAAO,CAAE,MAAO,GAAGoC,CAAU,IAAK,gBAAiBD,EAAK,KAAA,CAAM,CAAA,CAChE,CACF,CAAA,CAAA,EAVQD,CAWV,CAEJ,CAAC,CAAA,CACH,CAAA,EACF,EAEAjC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,6BAA6B,SAAA,uBAAoB,EAC/DC,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,4BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,eAAY,EACjDA,EAAAA,IAAC,IAAA,CAAE,UAAU,wCAAyC,WAAM,WAAA,CAAY,CAAA,EAC1E,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAAyB,SAAA,WAAQ,EAC9CA,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAA0C,WAAM,UAAA,CAAW,CAAA,EAC1E,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,0BAA0B,SAAA,cAAW,EAClDA,EAAAA,IAAC,IAAA,CAAE,UAAU,0CAA2C,WAAM,eAAA,CAAgB,CAAA,EAChF,EACAC,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAAyB,SAAA,YAAS,EAC/CA,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAA0C,WAAM,aAAA,CAAc,CAAA,CAAA,CAC7E,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAID/C,GAAeA,EAAY,aAAa,OAAS,GAChDgD,OAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,2CAA2C,SAAA,mBAAgB,EACzEA,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAA/C,EAAY,aAAa,IAAI,CAACoF,EAAOH,IACpCjC,OAAC,MAAA,CAAc,UAAU,wEACvB,SAAA,CAAAD,EAAAA,IAACsC,EAAA,CAAE,UAAU,2CAAA,CAA4C,EACzDrC,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,IAAA,CAAE,UAAU,mCAAoC,SAAAqC,EAAM,QAAQ,EAC/DpC,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAU,YAAa,SAAAqC,EAAM,SAAS,EAC5CrC,EAAAA,IAAC,QAAK,SAAA,GAAA,CAAC,EACPA,MAAC,QAAM,SAAA,IAAI,KAAKqC,EAAM,SAAS,EAAE,eAAe,OAAO,CAAA,CAAE,CAAA,CAAA,CAC3D,CAAA,CAAA,CACF,CAAA,CAAA,EATQH,CAUV,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EAEJ,CAEJ"}