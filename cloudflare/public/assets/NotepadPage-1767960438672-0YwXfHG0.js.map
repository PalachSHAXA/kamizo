{"version":3,"file":"NotepadPage-1767960438672-0YwXfHG0.js","sources":["../../src/components/Notepad.tsx","../../src/pages/NotepadPage.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { StickyNote, Plus, Save, Trash2, X, Edit3 } from 'lucide-react';\n\ninterface Note {\n  id: string;\n  title: string;\n  content: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface NotepadProps {\n  userId: string;\n}\n\nexport function Notepad({ userId }: NotepadProps) {\n  const [notes, setNotes] = useState<Note[]>([]);\n  const [editingNote, setEditingNote] = useState<Note | null>(null);\n  const [newNoteTitle, setNewNoteTitle] = useState('');\n  const [newNoteContent, setNewNoteContent] = useState('');\n  const [showNoteEditor, setShowNoteEditor] = useState(false);\n\n  // Load notes from localStorage\n  useEffect(() => {\n    const savedNotes = localStorage.getItem(`notes_${userId}`);\n    if (savedNotes) {\n      try {\n        setNotes(JSON.parse(savedNotes));\n      } catch (e) {\n        console.error('Failed to parse notes:', e);\n      }\n    }\n  }, [userId]);\n\n  // Save notes to localStorage\n  const saveNotes = (updatedNotes: Note[]) => {\n    setNotes(updatedNotes);\n    localStorage.setItem(`notes_${userId}`, JSON.stringify(updatedNotes));\n  };\n\n  const addNote = () => {\n    if (!newNoteTitle.trim()) return;\n    const newNote: Note = {\n      id: Date.now().toString(),\n      title: newNoteTitle,\n      content: newNoteContent,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n    };\n    saveNotes([newNote, ...notes]);\n    setNewNoteTitle('');\n    setNewNoteContent('');\n    setShowNoteEditor(false);\n  };\n\n  const updateNote = () => {\n    if (!editingNote) return;\n    const updatedNotes = notes.map(n =>\n      n.id === editingNote.id\n        ? { ...editingNote, updatedAt: new Date().toISOString() }\n        : n\n    );\n    saveNotes(updatedNotes);\n    setEditingNote(null);\n  };\n\n  const deleteNote = (id: string) => {\n    if (confirm('Удалить эту заметку?')) {\n      saveNotes(notes.filter(n => n.id !== id));\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header with Add Button */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <StickyNote className=\"w-5 h-5 text-amber-500\" />\n          <h3 className=\"font-semibold\">Мои заметки</h3>\n          <span className=\"text-sm text-gray-500\">({notes.length})</span>\n        </div>\n        <button\n          onClick={() => setShowNoteEditor(true)}\n          className=\"btn-primary flex items-center gap-2 py-2 px-3 text-sm\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Добавить\n        </button>\n      </div>\n\n      {/* Notes Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {notes.map((note) => (\n          <div\n            key={note.id}\n            className=\"glass-card p-4 hover:shadow-lg transition-shadow group\"\n          >\n            <div className=\"flex items-start justify-between gap-2\">\n              <h4 className=\"font-semibold text-gray-900 line-clamp-1\">{note.title}</h4>\n              <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <button\n                  onClick={() => setEditingNote(note)}\n                  className=\"p-1.5 hover:bg-white/50 rounded-lg text-gray-500 hover:text-blue-600\"\n                  title=\"Редактировать\"\n                >\n                  <Edit3 className=\"w-4 h-4\" />\n                </button>\n                <button\n                  onClick={() => deleteNote(note.id)}\n                  className=\"p-1.5 hover:bg-red-50 rounded-lg text-gray-500 hover:text-red-600\"\n                  title=\"Удалить\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n            <p className=\"text-sm text-gray-600 mt-2 whitespace-pre-wrap line-clamp-4\">\n              {note.content || <span className=\"italic text-gray-400\">Нет содержимого</span>}\n            </p>\n            <div className=\"text-xs text-gray-400 mt-3 pt-2 border-t border-gray-100\">\n              {new Date(note.updatedAt).toLocaleDateString('ru-RU', {\n                day: 'numeric',\n                month: 'short',\n                hour: '2-digit',\n                minute: '2-digit'\n              })}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Empty State */}\n      {notes.length === 0 && (\n        <div className=\"glass-card p-8 text-center\">\n          <div className=\"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n            <StickyNote className=\"w-8 h-8 text-amber-500\" />\n          </div>\n          <h4 className=\"font-semibold text-gray-900 mb-1\">Нет заметок</h4>\n          <p className=\"text-gray-500 text-sm mb-4\">\n            Создавайте заметки для планирования задач и важных записей\n          </p>\n          <button\n            onClick={() => setShowNoteEditor(true)}\n            className=\"btn-primary inline-flex items-center gap-2\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            Создать первую заметку\n          </button>\n        </div>\n      )}\n\n      {/* Add/Edit Note Modal */}\n      {(showNoteEditor || editingNote) && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden\">\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-100\">\n              <h2 className=\"text-lg font-bold\">\n                {editingNote ? 'Редактировать заметку' : 'Новая заметка'}\n              </h2>\n              <button\n                onClick={() => {\n                  setShowNoteEditor(false);\n                  setEditingNote(null);\n                  setNewNoteTitle('');\n                  setNewNoteContent('');\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\"\n              >\n                <X className=\"w-5 h-5 text-gray-500\" />\n              </button>\n            </div>\n\n            <div className=\"p-4 space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                  Заголовок <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={editingNote ? editingNote.title : newNoteTitle}\n                  onChange={(e) => editingNote\n                    ? setEditingNote({ ...editingNote, title: e.target.value })\n                    : setNewNoteTitle(e.target.value)\n                  }\n                  placeholder=\"Название заметки...\"\n                  className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all\"\n                  autoFocus\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\n                  Содержание\n                </label>\n                <textarea\n                  value={editingNote ? editingNote.content : newNoteContent}\n                  onChange={(e) => editingNote\n                    ? setEditingNote({ ...editingNote, content: e.target.value })\n                    : setNewNoteContent(e.target.value)\n                  }\n                  placeholder=\"Ваши заметки, задачи, планы...\"\n                  rows={8}\n                  className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all resize-none\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex gap-3 p-4 border-t border-gray-100 bg-gray-50\">\n              <button\n                onClick={() => {\n                  setShowNoteEditor(false);\n                  setEditingNote(null);\n                  setNewNoteTitle('');\n                  setNewNoteContent('');\n                }}\n                className=\"flex-1 py-2.5 px-4 bg-white border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\n              >\n                Отмена\n              </button>\n              <button\n                onClick={() => editingNote ? updateNote() : addNote()}\n                disabled={editingNote ? !editingNote.title.trim() : !newNoteTitle.trim()}\n                className=\"flex-1 py-2.5 px-4 bg-yellow-400 hover:bg-yellow-500 rounded-xl font-medium text-gray-900 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                <Save className=\"w-4 h-4\" />\n                Сохранить\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useAuthStore } from '../stores/authStore';\nimport { Notepad } from '../components/Notepad';\nimport { StickyNote } from 'lucide-react';\n\nexport function NotepadPage() {\n  const { user } = useAuthStore();\n\n  if (!user) {\n    return (\n      <div className=\"glass-card p-8 text-center\">\n        <StickyNote className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-semibold text-gray-700\">Требуется авторизация</h3>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div>\n        <h1 className=\"text-xl md:text-2xl font-bold text-gray-900\">Заметки</h1>\n        <p className=\"text-gray-500 text-sm mt-1\">Ваши личные заметки и напоминания</p>\n      </div>\n      <Notepad userId={user.id} />\n    </div>\n  );\n}\n"],"names":["Notepad","userId","notes","setNotes","useState","editingNote","setEditingNote","newNoteTitle","setNewNoteTitle","newNoteContent","setNewNoteContent","showNoteEditor","setShowNoteEditor","useEffect","savedNotes","saveNotes","updatedNotes","addNote","newNote","updateNote","n","deleteNote","id","jsxs","jsx","StickyNote","Plus","note","Edit3","Trash2","X","e","Save","NotepadPage","user","useAuthStore"],"mappings":"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"}