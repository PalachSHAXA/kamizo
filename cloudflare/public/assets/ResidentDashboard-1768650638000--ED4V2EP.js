import{j as e,x as k,U as M,W as Ce,m as I,l as oe,a5 as $,al as Re,k as Se,z as J,r as x,H as ze,F as re,at as ne,a9 as me,E as de,A as F,au as xe,an as W,ab as he,X as z,ao as Te}from"./react-vendor-1768650638000-BuN04sTN.js";import{g as q,S as Ae,b as De,u as $e,d as ue,P as be,R as U}from"./index-1768650638000-whvq43RX.js";import{f as pe}from"./formatAddress-1768650638000-OwpdX0o2.js";import"./vendor-1768650638000-HaoOR8eO.js";import"./qr-scanner-1768650638000-cr32YHjo.js";import"./zustand-1768650638000-wNUYBKDB.js";function ge(s){const a=q.find(i=>i.id===s);return{icon:a?.icon||"üîß",name:a?.name||Ae[s]||s,nameUz:a?.name||s}}const _=[{id:"created",statuses:["new"],labelRu:"–°–æ–∑–¥–∞–Ω–∞",labelUz:"Yaratildi",descRu:"–ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –æ–∂–∏–¥–∞–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è",descUz:"Ariza yaratildi va tayinlanishni kutmoqda",icon:k},{id:"assigned",statuses:["assigned","accepted"],labelRu:"–ù–∞–∑–Ω–∞—á–µ–Ω–∞",labelUz:"Tayinlandi",descRu:"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω",descUz:"Ijrochi tayinlandi",icon:M},{id:"in_progress",statuses:["in_progress"],labelRu:"–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è",labelUz:"Bajarilmoqda",descRu:"–ú–∞—Å—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ –∑–∞—è–≤–∫–æ–π",descUz:"Usta ariza ustida ishlayapti",icon:Ce},{id:"done",statuses:["pending_approval","completed"],labelRu:"–í—ã–ø–æ–ª–Ω–µ–Ω–æ",labelUz:"Bajarildi",descRu:"–†–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞",descUz:"Ish tugallandi",icon:I}];function je(s){if(s==="cancelled")return-1;for(let a=0;a<_.length;a++)if(_[a].statuses.includes(s))return a;return 0}function fe(s,a){const i=new Date;switch(s.status){case"new":return{title:a==="ru"?"–ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞":"Ariza yaratildi",subtitle:a==="ru"?"–û–∂–∏–¥–∞–µ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è":"Ijrochi tayinlanishini kutmoqdamiz"};case"assigned":return{title:a==="ru"?"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω":"Ijrochi tayinlandi",subtitle:a==="ru"?"–û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –º–∞—Å—Ç–µ—Ä–∞":"Ustadan tasdiqni kutmoqdamiz"};case"accepted":if(s.scheduledDate&&s.scheduledTime){const n=new Date(s.scheduledDate),[r]=s.scheduledTime.split(":").map(Number);n.setHours(r,0,0,0);const c=n.getTime()-i.getTime(),d=Math.floor(c/6e4),b=Math.floor(d/60);if(c>0&&d<60)return{title:a==="ru"?`–ú–∞—Å—Ç–µ—Ä –ø—Ä–∏–µ–¥–µ—Ç —á–µ—Ä–µ–∑ ~${d} –º–∏–Ω`:`Usta ~${d} daqiqada keladi`,subtitle:a==="ru"?"–°–∫–æ—Ä–æ –±—É–¥–µ—Ç —É –≤–∞—Å":"Tez orada sizda bo'ladi"};if(c>0&&b<24)return{title:a==="ru"?`–ú–∞—Å—Ç–µ—Ä –ø—Ä–∏–µ–¥–µ—Ç —á–µ—Ä–µ–∑ ~${b} —á`:`Usta ~${b} soatda keladi`,subtitle:a==="ru"?`–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ ${n.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}`:`${n.toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit"})} ga rejalashtirilgan`}}return{title:a==="ru"?"–ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞":"Ariza qabul qilindi",subtitle:a==="ru"?"–ú–∞—Å—Ç–µ—Ä —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏":"Usta tez orada siz bilan bog'lanadi"};case"in_progress":return{title:a==="ru"?"–†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è":"Ish bajarilmoqda",subtitle:a==="ru"?"–ú–∞—Å—Ç–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ –≤–∞—à–µ–π –∑–∞—è–≤–∫–æ–π":"Usta arizangiz ustida ishlayapti"};case"pending_approval":return{title:a==="ru"?"–†–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞":"Ish tugallandi",subtitle:a==="ru"?"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ":"Iltimos, bajarilganini tasdiqlang"};case"completed":return{title:a==="ru"?"–ó–∞—è–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞":"Ariza bajarildi",subtitle:a==="ru"?"–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ü–µ–Ω–∫—É!":"Baholashingiz uchun rahmat!"};case"cancelled":return{title:a==="ru"?"–ó–∞—è–≤–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞":"Ariza bekor qilindi",subtitle:s.cancellationReason||(a==="ru"?"–ü—Ä–∏—á–∏–Ω–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞":"Sabab ko'rsatilmagan")};default:return{title:"",subtitle:""}}}function Me({request:s,executorName:a,language:i,onCancel:n,showActions:r=!0,hasRescheduleRequest:c=!1,rescheduleInfo:d,hasConfirmedReschedule:b=!1,confirmedRescheduleInfo:h}){const u=je(s.status),m=s.status==="cancelled",N=fe(s,i),p=ge(s.category);return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-primary-500 to-orange-400",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-xl",children:p.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-gray-900",children:i==="ru"?p.name:p.nameUz}),e.jsxs("div",{className:"text-sm text-gray-700 opacity-80",children:["#",s.id.slice(-6).toUpperCase()]})]})]})}),e.jsxs("div",{className:"p-6 text-center border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:N.title}),e.jsx("p",{className:"text-gray-500 text-sm",children:N.subtitle})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between relative",children:[e.jsx("div",{className:"absolute top-5 left-0 right-0 h-1 bg-gray-200 rounded-full"}),e.jsx("div",{className:"absolute top-5 left-0 h-1 bg-primary-500 rounded-full transition-all duration-500",style:{width:m?"0%":`${Math.min(u/(_.length-1)*100,100)}%`}}),_.map((l,f)=>{const g=!m&&u>=f,T=!m&&u===f,S=l.icon;return e.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${m?"bg-gray-200 text-gray-400":g?T?"bg-primary-500 text-gray-900 ring-4 ring-primary-200 animate-pulse":"bg-primary-500 text-gray-900":"bg-gray-200 text-gray-400"}`,children:e.jsx(S,{className:"w-5 h-5"})}),e.jsx("span",{className:`text-xs mt-2 font-medium text-center max-w-[70px] ${g&&!m?"text-gray-900":"text-gray-400"}`,children:i==="ru"?l.labelRu:l.labelUz})]},l.id)})]}),m&&e.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-xl flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Re,{className:"w-5 h-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-700",children:i==="ru"?"–ó–∞—è–≤–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞":"Ariza bekor qilindi"}),s.cancellationReason&&e.jsx("div",{className:"text-sm text-red-600",children:s.cancellationReason})]})]}),c&&d&&!m&&e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border-2 border-amber-400 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center animate-pulse",children:e.jsx($,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-amber-800",children:i==="ru"?"–ó–∞–ø—Ä–æ—à–µ–Ω –ø–µ—Ä–µ–Ω–æ—Å":"Ko'chirish so'raldi"}),e.jsxs("div",{className:"text-sm text-amber-700",children:[i==="ru"?"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–æ: ":"Taklif: ",e.jsxs("span",{className:"font-medium",children:[d.proposedDate," ",i==="ru"?"–≤":""," ",d.proposedTime]})]}),e.jsx("div",{className:"text-xs text-amber-600 mt-1",children:d.initiator==="resident"?i==="ru"?"–û–∂–∏–¥–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è":"Ijrochi javobini kutmoqda":i==="ru"?"–û–∂–∏–¥–∞–µ—Ç—Å—è –≤–∞—à –æ—Ç–≤–µ—Ç":"Sizning javobingiz kutilmoqda"})]})]})}),b&&h&&!m&&!c&&e.jsx("div",{className:"mt-6 p-4 bg-green-50 border-2 border-green-400 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-green-800",children:i==="ru"?"–ü–µ—Ä–µ–Ω–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω":"Ko'chirish tasdiqlandi"}),e.jsxs("div",{className:"text-sm text-green-700",children:[i==="ru"?"–ù–æ–≤–æ–µ –≤—Ä–µ–º—è: ":"Yangi vaqt: ",e.jsxs("span",{className:"font-medium",children:[h.proposedDate," ",i==="ru"?"–≤":""," ",h.proposedTime]})]})]})]})})]}),a&&!m&&u>=1&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 bg-blue-500 rounded-full flex items-center justify-center shadow-sm flex-shrink-0",children:e.jsx(M,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-gray-900 truncate",children:a}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:i==="ru"?"–í–∞—à –º–∞—Å—Ç–µ—Ä":"Sizning ustangiz"}),s.executorRating&&e.jsxs("div",{className:"flex items-center gap-0.5 bg-yellow-100 px-1.5 py-0.5 rounded-full",children:[e.jsx(I,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-xs font-medium text-yellow-700",children:s.executorRating.toFixed(1)})]})]})]}),s.executorPhone&&e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx("a",{href:`tel:${s.executorPhone}`,className:"w-10 h-10 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center transition-colors shadow-sm",title:i==="ru"?"–ü–æ–∑–≤–æ–Ω–∏—Ç—å":"Qo'ng'iroq qilish",children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsx("a",{href:`sms:${s.executorPhone}`,className:"w-10 h-10 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center transition-colors shadow-sm",title:i==="ru"?"–ù–∞–ø–∏—Å–∞—Ç—å":"Yozish",children:e.jsx(Se,{className:"w-4 h-4"})})]})]})})}),s.scheduledDate&&s.scheduledTime&&!m&&e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsxs("span",{children:[i==="ru"?"–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ: ":"Rejalashtirilgan: ",new Date(s.scheduledDate).toLocaleDateString(i==="ru"?"ru-RU":"uz-UZ",{day:"numeric",month:"short"}),", ",s.scheduledTime]})]})}),r&&!m&&s.status!=="completed"&&e.jsxs("div",{className:"p-4 border-t flex gap-3",children:[n&&["new","assigned","accepted"].includes(s.status)&&e.jsx("button",{onClick:n,className:"flex-1 py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl text-gray-600 font-medium transition-colors",children:i==="ru"?"–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É":"Arizani bekor qilish"}),s.status==="pending_approval"&&e.jsx("button",{className:"flex-1 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold transition-colors",children:i==="ru"?"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ":"Bajarilganini tasdiqlash"})]})]})}function ce({request:s,executorName:a,language:i,onClick:n,hasRescheduleRequest:r=!1,rescheduleInfo:c,hasConfirmedReschedule:d=!1,confirmedRescheduleInfo:b}){const h=je(s.status),u=s.status==="cancelled",m=fe(s,i),N=ge(s.category);return e.jsxs("button",{onClick:n,className:"w-full bg-white rounded-2xl shadow-sm overflow-hidden text-left hover:shadow-md transition-shadow active:scale-[0.99]",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-primary-500/10 to-orange-400/10",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-500 rounded-xl flex items-center justify-center text-xl flex-shrink-0 shadow-sm",children:N.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-bold text-gray-900 truncate",children:i==="ru"?N.name:N.nameUz}),e.jsxs("span",{className:"text-xs text-gray-400 bg-white/50 px-2 py-0.5 rounded-full",children:["#",s.id.slice(-6).toUpperCase()]})]}),e.jsx("div",{className:"text-sm text-gray-700 mt-1 font-semibold",children:m.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:m.subtitle})]})]})}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between relative",children:[e.jsx("div",{className:"absolute top-4 left-5 right-5 h-0.5 bg-gray-200"}),e.jsx("div",{className:"absolute top-4 left-5 h-0.5 bg-primary-500 transition-all duration-500",style:{width:u?"0%":`calc(${Math.min(h/(_.length-1)*100,100)}% - 40px)`}}),_.map((p,l)=>{const f=!u&&h>=l,g=!u&&h===l,T=p.icon;return e.jsx("div",{className:"relative z-10 flex flex-col items-center",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${u?"bg-gray-200 text-gray-400":f?g?"bg-primary-500 text-gray-900 ring-2 ring-primary-200 shadow-md":"bg-primary-500 text-gray-900":"bg-white border-2 border-gray-200 text-gray-400"}`,children:e.jsx(T,{className:"w-4 h-4"})})},p.id)})]}),a&&h>=1&&!u&&e.jsx("div",{className:"mt-3 p-2 bg-white rounded-xl border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-gray-900",children:a}),s.executorRating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:s.executorRating.toFixed(1)})]})]})]}),s.executorPhone&&e.jsx("a",{href:`tel:${s.executorPhone}`,onClick:p=>p.stopPropagation(),className:"w-9 h-9 bg-green-100 hover:bg-green-200 rounded-full flex items-center justify-center transition-colors",children:e.jsx(oe,{className:"w-4 h-4 text-green-600"})})]})}),r&&c&&!u&&e.jsx("div",{className:"mt-3 p-2 bg-amber-50 border border-amber-300 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-amber-600 animate-spin",style:{animationDuration:"3s"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-xs font-semibold text-amber-800",children:[i==="ru"?"–ü–µ—Ä–µ–Ω–æ—Å –Ω–∞:":"Ko'chirish:"," ",c.proposedDate," ",c.proposedTime]}),e.jsx("div",{className:"text-[10px] text-amber-600",children:c.initiator==="resident"?i==="ru"?"–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è":"Tasdiqlash kutilmoqda":i==="ru"?"–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∞—à –æ—Ç–≤–µ—Ç":"Javobingiz kerak"})]})]})}),d&&b&&!u&&!r&&e.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-300 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-green-600"}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"text-xs font-semibold text-green-800",children:[i==="ru"?"–ü–µ—Ä–µ–Ω–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω:":"Ko'chirish tasdiqlandi:"," ",b.proposedDate," ",b.proposedTime]})})]})})]})]})}function Ze(){const{user:s}=De(),{requests:a,addRequest:i,approveRequest:n,rejectRequest:r,cancelRequest:c,notifications:d,createRescheduleRequest:b,respondToRescheduleRequest:h,getPendingRescheduleForUser:u,getActiveRescheduleForRequest:m,fetchRequests:N,fetchPendingReschedules:p}=$e();x.useEffect(()=>{N(),p();const t=setInterval(()=>{p()},15e3);return()=>clearInterval(t)},[N,p]),x.useEffect(()=>{const t=j=>{const{requestId:R}=j.detail,y=a.find(ke=>ke.id===R);y&&y.status==="pending_approval"&&(v(y),A(!0),sessionStorage.removeItem("open_rating_for_request"))};return window.addEventListener("openRatingModal",t),()=>{window.removeEventListener("openRatingModal",t)}},[a]),x.useEffect(()=>{if(a.length===0)return;const t=sessionStorage.getItem("open_rating_for_request");if(t){const j=a.find(R=>R.id===t);j&&j.status==="pending_approval"&&(v(j),A(!0),sessionStorage.removeItem("open_rating_for_request"))}},[a]);const{language:l}=ue(),[f,g]=x.useState("services"),[T,S]=x.useState(!1),[o,O]=x.useState(null),[C,v]=x.useState(null),[ee,A]=x.useState(!1),[se,H]=x.useState(!1),[Y,K]=x.useState(null),[te,V]=x.useState(!1),[X,Z]=x.useState(null),[Ne,E]=x.useState(!1),[P,L]=x.useState(null),B=a.filter(t=>t.residentId===s?.id),D=B.filter(t=>t.status==="pending_approval"),ae=s?u(s.id):[],w=B.filter(t=>["new","assigned","accepted","in_progress"].includes(t.status)),G=B.filter(t=>t.status==="completed"),ve=B.filter(t=>t.status==="cancelled"),Q=[...G,...ve].sort((t,j)=>new Date(j.completedAt||j.cancelledAt||j.createdAt).getTime()-new Date(t.completedAt||t.cancelledAt||t.createdAt).getTime()),le=d.filter(t=>t.userId===s?.id&&!t.read),ye=[{id:"services",label:l==="ru"?"–£—Å–ª—É–≥–∏":"Xizmatlar",icon:ze},{id:"my_requests",label:l==="ru"?"–ú–æ–∏ –∑–∞—è–≤–∫–∏":"Arizalarim",icon:re,count:w.length},{id:"pending",label:l==="ru"?"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å":"Tasdiqlash",icon:k,count:D.length},{id:"history",label:l==="ru"?"–ò—Å—Ç–æ—Ä–∏—è":"Tarix",icon:ne,count:Q.length}],ie=t=>{O(t),S(!0)},we=t=>{v(t),A(!0)};return e.jsxs("div",{className:"space-y-4 md:space-y-6 pb-20 md:pb-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm md:text-base text-gray-500",children:[e.jsx(M,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s?.name})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-sm text-gray-400",children:[e.jsx(me,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:pe(s?.address,s?.apartment)})]})]}),le.length>0&&e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-white text-xs flex items-center justify-center font-medium",children:le.length}),e.jsx("button",{className:"p-3 bg-white/50 rounded-xl active:bg-white/70 transition-colors touch-manipulation",children:e.jsx(de,{className:"w-5 h-5 text-amber-600"})})]})]}),D.length>0&&e.jsx("button",{onClick:()=>g("pending"),className:"glass-card p-4 border-2 border-purple-400 bg-purple-50/50 w-full text-left active:scale-[0.98] transition-transform touch-manipulation",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 md:w-10 md:h-10 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(k,{className:"w-6 h-6 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"font-semibold text-purple-800",children:[D.length," ",D.length===1?"–∑–∞—è–≤–∫–∞ –æ–∂–∏–¥–∞–µ—Ç":"–∑–∞—è–≤–∫–∏ –æ–∂–∏–¥–∞—é—Ç"," –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"]}),e.jsx("div",{className:"text-sm text-purple-600",children:"–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"})]}),e.jsx(F,{className:"w-5 h-5 text-purple-500 flex-shrink-0"})]})}),ae.length>0&&e.jsxs("div",{className:"glass-card p-4 border-2 border-amber-400 bg-amber-50/50 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx($,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-amber-800",children:l==="ru"?"–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å –≤—Ä–µ–º–µ–Ω–∏":"Vaqtni o'zgartirish so'rovi"}),e.jsx("div",{className:"text-sm text-amber-600",children:l==="ru"?"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞—è–≤–∫—É":"Ijrochi arizani ko'chirishni taklif qiladi"})]})]}),ae.map(t=>e.jsxs("button",{onClick:()=>{L(t),E(!0)},className:"w-full p-3 bg-white/60 rounded-xl text-left flex items-center justify-between active:bg-white/80 transition-colors",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-800",children:[l==="ru"?"–ó–∞—è–≤–∫–∞":"Ariza"," #",t.requestNumber]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[l==="ru"?"–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–æ:":"Taklif:"," ",t.proposedDate," ",t.proposedTime]})]}),e.jsx(F,{className:"w-5 h-5 text-amber-500"})]},t.id))]}),w.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-600",children:l==="ru"?"–ê–∫—Ç–∏–≤–Ω–∞—è –∑–∞—è–≤–∫–∞":"Faol ariza"}),w.length>1&&e.jsxs("button",{onClick:()=>g("my_requests"),className:"text-xs text-primary-600 font-medium flex items-center gap-1",children:[l==="ru"?`–ï—â—ë ${w.length-1}`:`Yana ${w.length-1}`,e.jsx(F,{className:"w-3.5 h-3.5"})]})]}),e.jsx(ce,{request:w[0],executorName:w[0].executorName,language:l,onClick:()=>v(w[0])})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[e.jsxs("button",{onClick:()=>g("my_requests"),className:"glass-card p-3 md:p-4 text-center active:scale-95 transition-transform touch-manipulation",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-blue-600",children:w.length}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:"–ê–∫—Ç–∏–≤–Ω—ã—Ö"})]}),e.jsxs("button",{onClick:()=>g("pending"),className:"glass-card p-3 md:p-4 text-center active:scale-95 transition-transform touch-manipulation",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-purple-600",children:D.length}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500 leading-tight",children:"–û–∂–∏–¥–∞—é—Ç"})]}),e.jsxs("button",{onClick:()=>g("history"),className:"glass-card p-3 md:p-4 text-center active:scale-95 transition-transform touch-manipulation",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-green-600",children:G.length}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:"–í—ã–ø–æ–ª–Ω–µ–Ω–æ"})]})]}),e.jsx("div",{className:"glass-card p-1.5 md:p-1 overflow-x-auto scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",children:e.jsx("div",{className:"flex gap-1 md:inline-flex min-w-max",children:ye.map(t=>e.jsxs("button",{onClick:()=>g(t.id),className:`px-4 py-3 md:py-2 rounded-xl font-medium transition-all flex items-center gap-2 whitespace-nowrap touch-manipulation ${f===t.id?"bg-primary-500 text-gray-900 shadow-md":"hover:bg-white/30 active:bg-white/50 text-gray-600"}`,children:[e.jsx(t.icon,{className:"w-5 h-5 md:w-4 md:h-4"}),e.jsx("span",{className:"text-sm md:text-base",children:t.label}),t.count!==void 0&&t.count>0&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs text-white font-medium ${t.id==="pending"?"bg-purple-500":"bg-blue-500"}`,children:t.count})]},t.id))})}),f==="services"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3 px-1",children:l==="ru"?"‚≠ê –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —É—Å–ª—É–≥–∏":"‚≠ê Mashhur xizmatlar"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:q.slice(0,4).map((t,j)=>{const R=[{bg:"from-blue-500 to-cyan-400",light:"from-blue-50 to-cyan-50",text:"text-blue-600"},{bg:"from-amber-500 to-yellow-400",light:"from-amber-50 to-yellow-50",text:"text-amber-600"},{bg:"from-emerald-500 to-teal-400",light:"from-emerald-50 to-teal-50",text:"text-emerald-600"},{bg:"from-violet-500 to-purple-400",light:"from-violet-50 to-purple-50",text:"text-violet-600"}],y=R[j%R.length];return e.jsxs("button",{onClick:()=>ie(t.id),className:`relative overflow-hidden rounded-2xl p-4 text-left hover:shadow-xl active:scale-[0.97] transition-all group touch-manipulation bg-gradient-to-br ${y.light} border border-white/50`,style:{animation:`fadeInUp 0.3s ease-out ${j*.08}s both`},children:[e.jsx("div",{className:`absolute -top-4 -right-4 w-24 h-24 bg-gradient-to-br ${y.bg} rounded-full opacity-20 group-hover:opacity-40 group-hover:scale-125 transition-all duration-300`}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${y.bg} rounded-2xl flex items-center justify-center mb-3 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-300`,children:e.jsx("span",{className:"text-2xl filter drop-shadow-sm",children:t.icon})}),e.jsx("h3",{className:`font-bold text-gray-800 group-hover:${y.text} transition-colors`,children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2 group-hover:text-gray-600 transition-colors",children:t.description})]}),e.jsx("div",{className:`absolute bottom-3 right-3 w-8 h-8 bg-gradient-to-br ${y.bg} rounded-xl flex items-center justify-center opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-300 shadow-lg`,children:e.jsx(F,{className:"w-5 h-5 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none",children:e.jsx("div",{className:"absolute inset-0 bg-white/30 opacity-0 active:opacity-100 transition-opacity"})})]},t.id)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3 px-1",children:l==="ru"?"üìã –î—Ä—É–≥–∏–µ —É—Å–ª—É–≥–∏":"üìã Boshqa xizmatlar"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:q.slice(4).map((t,j)=>{const R=["from-rose-400 to-pink-400","from-orange-400 to-amber-400","from-lime-400 to-green-400","from-cyan-400 to-blue-400","from-indigo-400 to-violet-400","from-gray-400 to-slate-400"],y=R[j%R.length];return e.jsxs("button",{onClick:()=>ie(t.id),className:"relative bg-white/70 backdrop-blur-sm border border-gray-100 rounded-xl p-3 text-center hover:bg-white hover:shadow-lg active:scale-[0.95] transition-all group touch-manipulation overflow-hidden",style:{animation:`fadeInUp 0.3s ease-out ${(j+4)*.06}s both`},children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${y} opacity-0 group-hover:opacity-10 transition-opacity`}),e.jsx("div",{className:`w-11 h-11 bg-gradient-to-br ${y} rounded-xl flex items-center justify-center mx-auto mb-2 group-hover:scale-110 group-hover:shadow-md transition-all duration-200`,children:e.jsx("span",{className:"text-lg filter drop-shadow-sm",children:t.icon})}),e.jsx("h3",{className:"font-medium text-xs text-gray-700 group-hover:text-gray-900 transition-colors leading-tight",children:t.name})]},t.id)})})]}),e.jsx("div",{className:"glass-card p-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(de,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-amber-800 font-medium",children:l==="ru"?"–°—Ä–æ—á–Ω—ã–π –≤—ã–∑–æ–≤?":"Shoshilinch chaqiriqmi?"}),e.jsx("p",{className:"text-amber-600 mt-1",children:l==="ru"?"–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ —É–∫–∞–∂–∏—Ç–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è":"Tez javob olish uchun arizada yuqori muhimlikni belgilang"})]})]})})]}),f==="my_requests"&&e.jsx("div",{className:"space-y-3",children:[...w,...G].length===0?e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(re,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"–ù–µ—Ç –∑–∞—è–≤–æ–∫"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"–°–æ–∑–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É, –≤—ã–±—Ä–∞–≤ —É—Å–ª—É–≥—É"}),e.jsxs("button",{onClick:()=>g("services"),className:"btn-primary mt-4",children:[e.jsx(xe,{className:"w-4 h-4 mr-2 inline"}),"–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É"]})]}):w.map(t=>e.jsx(ce,{request:t,executorName:t.executorName,language:l,onClick:()=>v(t)},t.id))}),f==="pending"&&e.jsx("div",{className:"space-y-3",children:D.length===0?e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(k,{className:"w-8 h-8 text-green-500"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"–í—Å–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"–ù–µ—Ç –∑–∞—è–≤–æ–∫, –æ–∂–∏–¥–∞—é—â–∏—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"})]}):D.map(t=>e.jsx(Ie,{request:t,onApprove:()=>we(t)},t.id))}),f==="history"&&e.jsx("div",{className:"space-y-3",children:Q.length===0?e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ne,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∏ –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏"})]}):Q.map(t=>e.jsx(_e,{request:t,onClick:()=>v(t)},t.id))}),T&&o&&e.jsx(Ee,{category:o,user:s,onClose:()=>{S(!1),O(null)},onSubmit:t=>{i({...t,residentId:s?.id||"resident1",residentName:s?.name||"–ñ–∏—Ç–µ–ª—å",residentPhone:s?.phone||"+998 90 000 00 00",address:s?.address||"–ê–¥—Ä–µ—Å –Ω–µ —É–∫–∞–∑–∞–Ω",apartment:s?.apartment||"0"}),S(!1),O(null),g("my_requests")}}),ee&&C&&e.jsx(Pe,{request:C,onClose:()=>{A(!1),v(null)},onApprove:(t,j)=>{n(C.id,t,j),A(!1),v(null)},onReject:t=>{r(C.id,t),A(!1),v(null)}}),C&&!ee&&!se&&!te&&e.jsx(Le,{request:C,onClose:()=>v(null),onApprove:()=>{A(!0)},onCancel:()=>{K(C),H(!0)},onReschedule:()=>{Z(C),V(!0)},hasActiveReschedule:!!m(C.id)}),se&&Y&&e.jsx(Be,{request:Y,onClose:()=>{H(!1),K(null)},onConfirm:t=>{c(Y.id,"resident",t),H(!1),K(null),v(null)}}),te&&X&&e.jsx(Fe,{request:X,onClose:()=>{V(!1),Z(null)},onSubmit:t=>{b({requestId:X.id,...t}),V(!1),Z(null),v(null)},language:l}),Ne&&P&&e.jsx(qe,{reschedule:P,onClose:()=>{E(!1),L(null)},onAccept:()=>{h(P.id,!0),E(!1),L(null)},onReject:t=>{h(P.id,!1,t),E(!1),L(null)},language:l})]})}function _e({request:s,onClick:a}){const i=c=>new Date(c).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),n=s.status==="cancelled",r=c=>{switch(c){case"resident":return"–í–∞–º–∏";case"executor":return"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º";case"manager":return"–ú–µ–Ω–µ–¥–∂–µ—Ä–æ–º";case"admin":return"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º";default:return""}};return e.jsx("div",{className:`glass-card p-4 cursor-pointer hover:bg-white/40 transition-colors ${n?"border-l-4 border-red-400":"border-l-4 border-green-400"}`,onClick:a,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["#",s.number]}),e.jsx("h3",{className:`font-semibold ${n?"text-gray-500":""}`,children:s.title}),n?e.jsxs("span",{className:"badge bg-red-100 text-red-700 flex items-center gap-1",children:[e.jsx(W,{className:"w-3 h-3"}),"–û—Ç–º–µ–Ω–µ–Ω–∞"]}):e.jsx("span",{className:"badge badge-done",children:"–í—ã–ø–æ–ª–Ω–µ–Ω–∞"})]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s.description}),n?e.jsxs("div",{className:"mt-3 p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"text-sm text-red-700",children:[e.jsxs("span",{className:"font-medium",children:["–û—Ç–º–µ–Ω–µ–Ω–∞ ",r(s.cancelledBy)]}),s.cancellationReason&&e.jsx("p",{className:"mt-1 text-red-600",children:s.cancellationReason})]}),e.jsx("div",{className:"text-xs text-red-500 mt-1",children:s.cancelledAt&&i(s.cancelledAt)})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"w-4 h-4"}),i(s.approvedAt||s.completedAt||s.createdAt)]}),s.executorName&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),s.executorName]})]}),s.rating&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[[1,2,3,4,5].map(c=>e.jsx(I,{className:`w-4 h-4 ${c<=s.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},c)),s.feedback&&e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:['"',s.feedback,'"']})]})]})]})})})}function Ie({request:s,onApprove:a}){const i=n=>n?`${Math.floor(n/60)} –º–∏–Ω`:"–ù–µ —É–∫–∞–∑–∞–Ω–æ";return e.jsxs("div",{className:"glass-card p-4 md:p-5 border-2 border-purple-300 bg-purple-50/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-purple-500 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(k,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["#",s.number]})}),e.jsx("h3",{className:"font-semibold text-base md:text-lg truncate",children:s.title})]})]}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[e.jsxs("div",{className:"bg-white/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å"}),e.jsxs("div",{className:"font-medium text-sm flex items-center gap-1",children:[e.jsx(M,{className:"w-3.5 h-3.5 text-gray-400"}),e.jsx("span",{className:"truncate",children:s.executorName})]})]}),e.jsxs("div",{className:"bg-white/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã"}),e.jsxs("div",{className:"font-medium text-sm flex items-center gap-1",children:[e.jsx(J,{className:"w-3.5 h-3.5 text-gray-400"}),i(s.workDuration)]})]})]}),e.jsxs("button",{onClick:a,className:"w-full py-4 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation shadow-lg",style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)"},children:[e.jsx(k,{className:"w-5 h-5"}),"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ"]})]})}const Ue=[{value:"08:00-10:00",label:"08:00 - 10:00"},{value:"10:00-12:00",label:"10:00 - 12:00"},{value:"12:00-14:00",label:"12:00 - 14:00"},{value:"14:00-16:00",label:"14:00 - 16:00"},{value:"16:00-18:00",label:"16:00 - 18:00"},{value:"18:00-20:00",label:"18:00 - 20:00"}];function Ee({category:s,user:a,onClose:i,onSubmit:n}){const[r,c]=x.useState(""),[d,b]=x.useState(""),[h,u]=x.useState("medium"),[m,N]=x.useState(""),[p,l]=x.useState(""),f=q.find(o=>o.id===s),g=()=>new Date().toISOString().split("T")[0],T=()=>{const o=new Date;return o.setDate(o.getDate()+30),o.toISOString().split("T")[0]},S=o=>{o.preventDefault(),!(!r.trim()||!d.trim())&&n({title:r,description:d,category:s,priority:h,scheduledDate:m||void 0,scheduledTime:p||void 0})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 md:flex md:items-center md:justify-center",children:e.jsxs("div",{className:"h-full md:h-auto md:max-h-[90vh] w-full md:max-w-lg md:mx-4 bg-white md:rounded-2xl flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl md:text-3xl",children:f?.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold",children:"–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞"}),e.jsx("p",{className:"text-sm text-gray-500",children:f?.name})]})]}),e.jsx("button",{onClick:i,className:"p-3 hover:bg-gray-100 active:bg-gray-200 rounded-xl transition-colors touch-manipulation",children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:S,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"–ó–∞–≥–æ–ª–æ–≤–æ–∫ *"}),e.jsx("input",{type:"text",value:r,onChange:o=>c(o.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-primary-500 focus:border-transparent text-base",placeholder:"–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"–û–ø–∏—Å–∞–Ω–∏–µ *"}),e.jsx("textarea",{value:d,onChange:o=>b(o.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-primary-500 focus:border-transparent min-h-[120px] text-base resize-none",placeholder:"–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["low","medium","high","urgent"].map(o=>e.jsx("button",{type:"button",onClick:()=>u(o),className:`py-3 px-4 rounded-xl text-sm font-medium transition-all touch-manipulation ${h===o?o==="urgent"?"bg-red-500 text-white shadow-md":o==="high"?"bg-orange-500 text-white shadow-md":o==="medium"?"bg-amber-500 text-white shadow-md":"bg-gray-500 text-white shadow-md":"bg-gray-100 hover:bg-gray-200 active:bg-gray-300"}`,children:be[o]},o))})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("label",{className:"block text-sm font-medium text-blue-700 mb-3 flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),"–ñ–µ–ª–∞–µ–º–æ–µ –≤—Ä–µ–º—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"–î–∞—Ç–∞"}),e.jsx("input",{type:"date",value:m,onChange:o=>N(o.target.value),min:g(),max:T(),className:"w-full px-3 py-3 rounded-xl border border-gray-200 bg-white text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"–í—Ä–µ–º—è"}),e.jsxs("select",{value:p,onChange:o=>l(o.target.value),className:"w-full px-3 py-3 rounded-xl border border-gray-200 bg-white text-base",disabled:!m,children:[e.jsx("option",{value:"",children:"–õ—é–±–æ–µ"}),Ue.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]})]})]}),m&&e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"–ú—ã –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[e.jsx(me,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"–ê–¥—Ä–µ—Å"}),e.jsx("div",{className:"font-medium text-sm",children:pe(a?.address,a?.apartment)})]})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-100 bg-white safe-area-bottom",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 py-4 px-4 rounded-xl font-medium bg-gray-100 hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation",children:"–û—Ç–º–µ–Ω–∞"}),e.jsxs("button",{type:"submit",onClick:S,className:"flex-1 py-4 px-4 rounded-xl font-semibold text-gray-900 flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #FFE500, #FFC700)"},children:[e.jsx(xe,{className:"w-5 h-5"}),"–°–æ–∑–¥–∞—Ç—å"]})]})})]})})}function Pe({request:s,onClose:a,onApprove:i,onReject:n}){const[r,c]=x.useState(5),[d,b]=x.useState(""),[h,u]=x.useState(!1),[m,N]=x.useState(""),p=l=>{if(!l)return"–ù–µ —É–∫–∞–∑–∞–Ω–æ";const f=Math.floor(l/3600),g=Math.floor(l%3600/60);return f>0?`${f} —á ${g} –º–∏–Ω`:`${g} –º–∏–Ω`};return h?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 md:flex md:items-center md:justify-center",children:e.jsxs("div",{className:"h-full md:h-auto w-full md:max-w-md md:mx-4 bg-white md:rounded-2xl flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold text-red-600",children:"–û—Ç–∫–ª–æ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É"}),e.jsx("button",{onClick:a,className:"p-3 hover:bg-gray-100 active:bg-gray-200 rounded-xl transition-colors touch-manipulation",children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É, –ø–æ—á–µ–º—É —Ä–∞–±–æ—Ç–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ."}),e.jsx("textarea",{value:m,onChange:l=>N(l.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white min-h-[150px] text-base resize-none",placeholder:"–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ –Ω–µ —Ç–∞–∫...",required:!0})]}),e.jsx("div",{className:"p-4 border-t border-gray-100 bg-white safe-area-bottom",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 px-4 rounded-xl font-medium bg-gray-100 hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation",children:"–ù–∞–∑–∞–¥"}),e.jsx("button",{onClick:()=>m.trim()&&n(m),className:"flex-1 py-4 px-4 rounded-xl font-semibold text-white bg-red-500 active:bg-red-600 disabled:opacity-50 transition-colors touch-manipulation",disabled:!m.trim(),children:"–û—Ç–∫–ª–æ–Ω–∏—Ç—å"})]})})]})}):e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 md:flex md:items-center md:justify-center",children:e.jsxs("div",{className:"h-full md:h-auto w-full md:max-w-md md:mx-4 bg-white md:rounded-2xl flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold",children:"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ"}),e.jsx("button",{onClick:a,className:"p-3 hover:bg-gray-100 active:bg-gray-200 rounded-xl transition-colors touch-manipulation",children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["–ó–∞—è–≤–∫–∞ #",s.number]}),e.jsx("div",{className:"font-semibold text-base mb-2",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-gray-600 bg-white px-3 py-1.5 rounded-lg",children:[e.jsx(M,{className:"w-4 h-4"}),s.executorName]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-gray-600 bg-white px-3 py-1.5 rounded-lg",children:[e.jsx(J,{className:"w-4 h-4"}),p(s.workDuration)]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"–û—Ü–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è"}),e.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(l=>e.jsx("button",{type:"button",onClick:()=>c(l),className:"p-2 active:scale-90 transition-transform touch-manipulation",children:e.jsx(I,{className:`w-12 h-12 md:w-10 md:h-10 ${l<=r?"text-yellow-500 fill-yellow-500":"text-gray-300"}`})},l))}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2 font-medium",children:[r===5&&"–û—Ç–ª–∏—á–Ω–æ!",r===4&&"–•–æ—Ä–æ—à–æ",r===3&&"–ù–æ—Ä–º–∞–ª—å–Ω–æ",r===2&&"–ü–ª–æ—Ö–æ",r===1&&"–û—á–µ–Ω—å –ø–ª–æ—Ö–æ"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"–û—Ç–∑—ã–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"}),e.jsx("textarea",{value:d,onChange:l=>b(l.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white min-h-[100px] text-base resize-none",placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –æ—Ç–∑—ã–≤ –æ —Ä–∞–±–æ—Ç–µ..."})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-100 bg-white safe-area-bottom",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>u(!0),className:"flex-1 py-4 px-4 rounded-xl font-medium text-red-600 bg-red-50 hover:bg-red-100 active:bg-red-200 transition-colors touch-manipulation flex items-center justify-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"}),"–û—Ç–∫–ª–æ–Ω–∏—Ç—å"]}),e.jsxs("button",{onClick:()=>i(r,d||void 0),className:"flex-1 py-4 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #10b981, #059669)"},children:[e.jsx(k,{className:"w-5 h-5"}),"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"]})]})})]})})}function Le({request:s,onClose:a,onApprove:i,onCancel:n,onReschedule:r,hasActiveReschedule:c}){const{language:d}=ue(),b=["assigned","accepted","in_progress","pending_approval"].includes(s.status)&&s.executorId&&!c;return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx("button",{onClick:a,className:"p-2 bg-white/80 hover:bg-white rounded-full shadow-lg",children:e.jsx(z,{className:"w-5 h-5"})})}),e.jsx(Me,{request:s,executorName:s.executorName,language:d,onCancel:["new","assigned","accepted"].includes(s.status)?n:void 0,showActions:!0}),e.jsxs("div",{className:"mt-4 bg-white rounded-2xl shadow-lg p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:d==="ru"?"–û–ø–∏—Å–∞–Ω–∏–µ":"Tavsif"}),e.jsx("p",{className:"text-gray-900",children:s.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:d==="ru"?"–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:":"Muhimlik:"}),e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${s.priority==="urgent"?"bg-red-100 text-red-700":s.priority==="high"?"bg-orange-100 text-orange-700":s.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:be[s.priority]})]}),s.status==="completed"&&s.rating&&e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-xl",children:[e.jsx("h3",{className:"font-medium mb-2",children:d==="ru"?"–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞":"Sizning bahoyingiz"}),e.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(h=>e.jsx(I,{className:`w-6 h-6 ${h<=s.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},h)),e.jsxs("span",{className:"ml-2 text-lg font-semibold",children:[s.rating,"/5"]})]}),s.feedback&&e.jsxs("p",{className:"mt-2 text-gray-600 italic",children:['"',s.feedback,'"']})]}),s.status==="pending_approval"&&e.jsxs("button",{onClick:i,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl font-bold flex items-center justify-center gap-2 transition-all",children:[e.jsx(k,{className:"w-5 h-5"}),d==="ru"?"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ":"Bajarilganini tasdiqlash"]}),b&&e.jsxs("button",{onClick:r,className:"w-full py-3 bg-amber-100 hover:bg-amber-200 text-amber-700 rounded-xl font-medium flex items-center justify-center gap-2 transition-all",children:[e.jsx($,{className:"w-4 h-4"}),d==="ru"?"–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è":"Boshqa vaqtga ko'chirish"]}),c&&e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-xl flex items-center gap-2 text-amber-700",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:d==="ru"?"–û–∂–∏–¥–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å –æ –ø–µ—Ä–µ–Ω–æ—Å–µ":"Ko'chirish so'roviga javob kutilmoqda"})]})]}),e.jsx("button",{onClick:a,className:"w-full mt-4 py-3 bg-white/80 hover:bg-white rounded-xl font-medium text-gray-600 transition-colors",children:d==="ru"?"–ó–∞–∫—Ä—ã—Ç—å":"Yopish"})]})})}function Be({request:s,onClose:a,onConfirm:i}){const[n,r]=x.useState(""),c=["–ü–µ—Ä–µ–¥—É–º–∞–ª/–ù–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ","–ù–∞—à—ë–ª –¥—Ä—É–≥–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è","–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∏–ª–∞—Å—å —Å–∞–º–∞","–û—à–∏–±—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏","–°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ"];return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-red-600 flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É"]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:["–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É ",e.jsxs("strong",{children:["#",s.number]}),"? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å."]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–º–µ–Ω—ã"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.map(d=>e.jsx("button",{type:"button",onClick:()=>r(d),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${n===d?"bg-red-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:d},d))}),e.jsx("textarea",{value:n,onChange:d=>r(d.target.value),className:"input-field min-h-[80px]",placeholder:"–ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ—é –ø—Ä–∏—á–∏–Ω—É..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:a,className:"btn-secondary flex-1",children:"–ù–µ –æ—Ç–º–µ–Ω—è—Ç—å"}),e.jsxs("button",{onClick:()=>n.trim()&&i(n),className:"flex-1 py-2 px-4 rounded-xl font-medium bg-red-500 text-white hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!n.trim(),children:[e.jsx(W,{className:"w-4 h-4 mr-2 inline"}),"–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É"]})]})]})]})})}function Fe({request:s,onClose:a,onSubmit:i,language:n}){const[r,c]=x.useState(""),[d,b]=x.useState(""),[h,u]=x.useState("not_at_home"),[m,N]=x.useState(""),p=new Date().toISOString().split("T")[0];return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-600 flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5"}),n==="ru"?"–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞—è–≤–∫—É":"Arizani ko'chirish"]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800",children:n==="ru"?`–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞—è–≤–∫–∏ #${s.number}. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.`:`#${s.number} ariza uchun yangi vaqt taklif qiling.`})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="ru"?"–ü—Ä–∏—á–∏–Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞":"Ko'chirish sababi"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.keys(U).map(l=>e.jsx("button",{type:"button",onClick:()=>u(l),className:`px-3 py-2.5 text-sm rounded-xl transition-colors text-left ${h===l?"bg-amber-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:n==="ru"?U[l].label:U[l].labelUz},l))})]}),h==="other"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="ru"?"–£—Ç–æ—á–Ω–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É":"Sababni aniqlashtiring"}),e.jsx("textarea",{value:m,onChange:l=>N(l.target.value),className:"input-field min-h-[80px]",placeholder:n==="ru"?"–û–ø–∏—à–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É...":"Sababni yozing..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="ru"?"–ù–æ–≤–∞—è –¥–∞—Ç–∞":"Yangi sana"}),e.jsx("input",{type:"date",min:p,value:r,onChange:l=>c(l.target.value),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n==="ru"?"–í—Ä–µ–º—è":"Vaqt"}),e.jsx("input",{type:"time",value:d,onChange:l=>b(l.target.value),className:"input-field"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:a,className:"btn-secondary flex-1",children:n==="ru"?"–û—Ç–º–µ–Ω–∞":"Bekor qilish"}),e.jsxs("button",{onClick:()=>r&&d&&i({proposedDate:r,proposedTime:d,reason:h,reasonText:h==="other"?m:void 0}),className:"flex-1 py-2.5 px-4 rounded-xl font-medium bg-amber-500 text-white hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:!r||!d||h==="other"&&!m.trim(),children:[e.jsx(Te,{className:"w-4 h-4"}),n==="ru"?"–û—Ç–ø—Ä–∞–≤–∏—Ç—å":"Yuborish"]})]})]})]})})}function qe({reschedule:s,onClose:a,onAccept:i,onReject:n,language:r}){const[c,d]=x.useState(""),[b,h]=x.useState(!1);return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-600 flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5"}),r==="ru"?"–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å":"Ko'chirish so'rovi"]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx(z,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[r==="ru"?"–ó–∞—è–≤–∫–∞":"Ariza"," #",s.requestNumber]}),e.jsxs("div",{className:"font-medium text-gray-800",children:[s.initiatorName," ",r==="ru"?"–ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞:":"taklif qiladi:"]}),e.jsxs("div",{className:"text-xl font-bold text-amber-600 mt-2",children:[s.proposedDate," –≤ ",s.proposedTime]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("strong",{children:r==="ru"?"–ü—Ä–∏—á–∏–Ω–∞:":"Sabab:"})," ",r==="ru"?U[s.reason].label:U[s.reason].labelUz,s.reasonText&&` - ${s.reasonText}`]})]}),s.currentDate&&e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[r==="ru"?"–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è:":"Hozirgi vaqt:"," ",s.currentDate," ",s.currentTime]}),b?e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r==="ru"?"–ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)":"Rad etish sababi (ixtiyoriy)"}),e.jsx("textarea",{value:c,onChange:u=>d(u.target.value),className:"input-field min-h-[80px]",placeholder:r==="ru"?"–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É...":"Sababni yozing..."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(!1),className:"btn-secondary flex-1",children:r==="ru"?"–ù–∞–∑–∞–¥":"Orqaga"}),e.jsx("button",{onClick:()=>n(c||void 0),className:"flex-1 py-2.5 px-4 rounded-xl font-medium bg-red-500 text-white hover:bg-red-600 transition-colors",children:r==="ru"?"–û—Ç–∫–ª–æ–Ω–∏—Ç—å":"Rad etish"})]})]}):e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>h(!0),className:"flex-1 py-3 px-4 rounded-xl font-medium bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:r==="ru"?"–û—Ç–∫–ª–æ–Ω–∏—Ç—å":"Rad etish"}),e.jsxs("button",{onClick:i,className:"flex-1 py-3 px-4 rounded-xl font-medium bg-green-500 text-white hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),r==="ru"?"–ü—Ä–∏–Ω—è—Ç—å":"Qabul qilish"]})]})]})]})})}export{Ze as ResidentDashboard};
//# sourceMappingURL=ResidentDashboard-1768650638000--ED4V2EP.js.map
