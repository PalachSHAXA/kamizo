import{r as l,j as e,$ as y,au as B,y as M,a1 as D,T as N,N as Z,J as ee,e as se,aC as te,aa as ae,ad as le,l as re,X as T,b2 as ie,m as ne,b3 as ce,b4 as de,b7 as oe}from"./react-vendor-1768934878736-ANIjY9im.js";import{b as xe}from"./index-1768934878736-CI4IDBu9.js";import"./vendor-1768934878736-dYh5IFHH.js";import"./qr-scanner-1768934878736-cr32YHjo.js";import"./zustand-1768934878736-wNUYBKDB.js";const me=({size:r="md"})=>{const b={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsx("svg",{className:`${b[r]} text-[#1DA1F2]`,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z"})})},he={cleaning:"üßπ",renovation:"üè†",minor_repair:"üîß",electrical:"‚ö°",plumbing:"üöø",moving:"üöö",auto:"üöó",construction:"üß±",ac:"‚ùÑÔ∏è",beauty:"üíÑ",tailoring:"üßµ",it:"üíª",domestic:"üë©‚Äçüç≥",pest_control:"ü¶†",dry_cleaning:"üß¥",delivery:"üì¶",other:"üìã"};function je(){const{token:r}=xe(),[b,E]=l.useState([]),[w,L]=l.useState([]),[F,R]=l.useState([]),[u,P]=l.useState(null),[v,J]=l.useState([]),[O,_]=l.useState(!0),[g,U]=l.useState("all"),[H,o]=l.useState(!1),[I,k]=l.useState(!1),[n,x]=l.useState(null),[C,V]=l.useState([]),[q,S]=l.useState(!1),[$,f]=l.useState(!1),[t,a]=l.useState({category_id:"",title:"",description:"",phone:"",phone2:"",telegram:"",instagram:"",facebook:"",website:"",address:"",work_hours:"",work_days:"",logo_url:"",discount_percent:10,duration_type:"month",target_type:"all",badges:{recommended:!1,new:!0,hot:!1,verified:!1},target_branches:[]}),c="",p=l.useCallback(async()=>{_(!0);try{const[s,i,h,z]=await Promise.all([fetch(`${c}/api/ads/categories`,{headers:{Authorization:`Bearer ${r}`}}),fetch(`${c}/api/ads/dashboard`,{headers:{Authorization:`Bearer ${r}`}}),fetch(`${c}/api/ads/my`,{headers:{Authorization:`Bearer ${r}`}}),fetch(`${c}/api/branches`,{headers:{Authorization:`Bearer ${r}`}})]);if(s.ok){const d=await s.json();E(d.categories||[])}if(i.ok){const d=await i.json();P(d.stats),J(d.expiringSoon||[])}if(h.ok){const d=await h.json();R(d.ads?.map(m=>({...m,badges:m.badges?JSON.parse(m.badges):{},photos:m.photos?JSON.parse(m.photos):[],target_branches:m.target_branches?JSON.parse(m.target_branches):[]}))||[])}if(z.ok){const d=await z.json();L(d.branches||[])}}catch{}finally{_(!1)}},[r,c]);l.useEffect(()=>{p()},[p]);const G=async s=>{S(!0);try{const i=await fetch(`${c}/api/ads/${s}/coupons`,{headers:{Authorization:`Bearer ${r}`}});if(i.ok){const h=await i.json();V(h.coupons||[])}}catch{}finally{S(!1)}},X=async()=>{if(!(!t.category_id||!t.title||!t.phone)){f(!0);try{(await fetch(`${c}/api/ads`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(o(!1),j(),p())}catch{}finally{f(!1)}}},K=async()=>{if(n){f(!0);try{(await fetch(`${c}/api/ads/${n.id}`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(o(!1),x(null),j(),p())}catch{}finally{f(!1)}}},Q=async s=>{if(confirm("–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ?"))try{await fetch(`${c}/api/ads/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}}),p()}catch{}},j=()=>{a({category_id:"",title:"",description:"",phone:"",phone2:"",telegram:"",instagram:"",facebook:"",website:"",address:"",work_hours:"",work_days:"",logo_url:"",discount_percent:10,duration_type:"month",target_type:"all",badges:{recommended:!1,new:!0,hot:!1,verified:!1},target_branches:[]})},W=s=>{x(s),a({category_id:s.category_id,title:s.title,description:s.description||"",phone:s.phone,phone2:s.phone2||"",telegram:s.telegram||"",instagram:s.instagram||"",facebook:s.facebook||"",website:s.website||"",address:s.address||"",work_hours:s.work_hours||"",work_days:s.work_days||"",logo_url:s.logo_url||"",discount_percent:s.discount_percent,duration_type:s.duration_type,target_type:s.target_type,badges:{recommended:s.badges?.recommended??!1,new:s.badges?.new??!1,hot:s.badges?.hot??!1,verified:s.badges?.verified??!1},target_branches:s.target_branches||[]}),o(!0)},Y=s=>{x(s),G(s.id),k(!0)},A=F.filter(s=>g==="all"?!0:g==="active"?s.status==="active":g==="expired"?s.status==="expired"||s.status==="archived":g==="draft"?s.status==="draft":!0);return O?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(y,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"–†–µ–∫–ª–∞–º–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"}),e.jsx("p",{className:"text-gray-500",children:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –∏ –∫—É–ø–æ–Ω–∞–º–∏"})]}),e.jsxs("button",{onClick:()=>{j(),x(null),o(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(B,{className:"w-5 h-5"}),"–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ"]})]}),u&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.active_ads||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"–ê–∫—Ç–∏–≤–Ω—ã—Ö"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(D,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.total_views||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.total_coupons_issued||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"–í—ã–¥–∞–Ω–æ –∫—É–ø–æ–Ω–æ–≤"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.total_coupons_activated||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ"})]})]})})]}),v.length>0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-700 mb-2",children:[e.jsx(ee,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-medium",children:["–°–∫–æ—Ä–æ –∏—Å—Ç–µ–∫–∞—é—Ç (",v.length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(s=>e.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm",children:[s.title," - ",new Date(s.expires_at).toLocaleDateString("ru-RU")]},s.id))})]}),e.jsx("div",{className:"flex gap-2 mb-4 border-b",children:["all","active","expired","draft"].map(s=>e.jsxs("button",{onClick:()=>U(s),className:`px-4 py-2 font-medium border-b-2 -mb-px transition-colors ${g===s?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s==="all"&&"–í—Å–µ",s==="active"&&"–ê–∫—Ç–∏–≤–Ω—ã–µ",s==="expired"&&"–ò—Å—Ç—ë–∫—à–∏–µ",s==="draft"&&"–ß–µ—Ä–Ω–æ–≤–∏–∫–∏"]},s))}),e.jsx("div",{className:"space-y-2",children:A.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[e.jsx(se,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"–ù–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π"}),e.jsx("button",{onClick:()=>{j(),o(!0)},className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ"})]}):A.map(s=>e.jsxs("div",{className:"w-full flex bg-white rounded-xl border border-gray-100 hover:border-blue-200 hover:shadow-lg transition-all overflow-hidden",children:[e.jsxs("div",{className:"w-32 sm:w-40 h-32 sm:h-36 bg-gray-50 flex-shrink-0 flex items-center justify-center relative p-2",children:[s.logo_url?e.jsx("img",{src:s.logo_url,alt:"",className:"max-w-full max-h-full object-contain"}):e.jsx("span",{className:"text-5xl",children:he[b.find(i=>i.id===s.category_id)?.icon||"other"]||"üìã"}),e.jsx("div",{className:`absolute top-0 left-0 text-white text-[9px] font-bold px-2 py-0.5 rounded-br-lg ${s.status==="active"?"bg-green-500":s.status==="expired"?"bg-red-500":s.status==="draft"?"bg-gray-500":"bg-orange-500"}`,children:s.status==="active"?"–ê–∫—Ç–∏–≤–Ω–æ":s.status==="expired"?"–ò—Å—Ç–µ–∫–ª–æ":s.status==="draft"?"–ß–µ—Ä–Ω–æ–≤–∏–∫":"–ü–∞—É–∑–∞"}),s.badges?.verified&&e.jsx("div",{className:"absolute top-0 right-0 bg-[#1DA1F2] text-white text-[9px] font-bold px-2 py-0.5 rounded-bl-lg flex items-center gap-0.5",children:e.jsx("svg",{className:"w-2.5 h-2.5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z"})})}),s.discount_percent>0&&e.jsxs("div",{className:"absolute bottom-2 left-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:["-",s.discount_percent,"%"]})]}),e.jsxs("div",{className:"flex-1 p-3 sm:p-4 flex flex-col min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate text-sm sm:text-base",children:s.title}),s.badges?.verified&&e.jsx(me,{size:"sm"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1 flex-wrap",children:[s.badges?.new&&e.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 text-emerald-700 rounded text-[10px] font-semibold",children:"–ù–æ–≤–æ–µ"}),s.badges?.hot&&e.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px] font-semibold",children:"–¢–æ–ø"}),s.badges?.recommended&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-[10px] font-semibold",children:"–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º"}),s.target_type==="branches"&&s.target_branches&&s.target_branches.length>0&&e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded text-[10px] font-semibold",children:s.target_branches.join(", ")})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx("button",{onClick:()=>Y(s),className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-purple-600 transition-colors",title:"–ö—É–ø–æ–Ω—ã",children:e.jsx(N,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>W(s),className:"p-1.5 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-blue-600 transition-colors",title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Q(s.id),className:"p-1.5 hover:bg-red-50 rounded-lg text-gray-400 hover:text-red-600 transition-colors",title:"–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å",children:e.jsx(ae,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.category_name}),e.jsxs("div",{className:"flex items-center gap-3 mt-auto pt-2 text-xs flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(D,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:s.views_count})]}),e.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[e.jsx(N,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:s.coupons_issued})]}),e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(M,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:s.coupons_activated})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 ml-auto",children:[e.jsx(le,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:["–¥–æ ",new Date(s.expires_at).toLocaleDateString("ru-RU")]})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 font-medium text-sm mt-2",children:[e.jsx(re,{className:"w-4 h-4"}),s.phone]})]})]},s.id))}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[e.jsx("h2",{className:"text-lg font-semibold",children:n?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ":"–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ"}),e.jsx("button",{onClick:()=>{o(!1),x(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(T,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è *"}),e.jsxs("select",{value:t.category_id,onChange:s=>a({...t,category_id:s.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"",children:"–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é"}),b.map(s=>e.jsx("option",{value:s.id,children:s.name_ru},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–ù–∞–∑–≤–∞–Ω–∏–µ *"}),e.jsx("input",{type:"text",value:t.title,onChange:s=>a({...t,title:s.target.value}),placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä: –•–∏–º—á–∏—Å—Ç–∫–∞ '–ß–∏—Å—Ç—ã–π –¥–æ–º'",className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–û–ø–∏—Å–∞–Ω–∏–µ"}),e.jsx("textarea",{value:t.description,onChange:s=>a({...t,description:s.target.value}),placeholder:"–û–ø–∏—à–∏—Ç–µ —É—Å–ª—É–≥–∏...",rows:3,className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–¢–µ–ª–µ—Ñ–æ–Ω *"}),e.jsx("input",{type:"tel",value:t.phone,onChange:s=>a({...t,phone:s.target.value}),placeholder:"+998901234567",className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω"}),e.jsx("input",{type:"tel",value:t.phone2,onChange:s=>a({...t,phone2:s.target.value}),placeholder:"+998901234567",className:"w-full px-3 py-2 border rounded-lg"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 text-[#0088cc]",fill:"currentColor",children:e.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}),e.jsx("input",{type:"text",value:t.telegram,onChange:s=>a({...t,telegram:s.target.value}),placeholder:"@username",className:"w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 text-[#E4405F]",fill:"currentColor",children:e.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})}),e.jsx("input",{type:"text",value:t.instagram,onChange:s=>a({...t,instagram:s.target.value}),placeholder:"@username",className:"w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 text-[#1877F2]",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsx("input",{type:"text",value:t.facebook,onChange:s=>a({...t,facebook:s.target.value}),placeholder:"facebook.com/page",className:"w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center",children:e.jsx(ie,{className:"w-4 h-4 text-gray-500"})}),e.jsx("input",{type:"url",value:t.website,onChange:s=>a({...t,website:s.target.value}),placeholder:"https://example.com",className:"w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–ê–¥—Ä–µ—Å"}),e.jsx("input",{type:"text",value:t.address,onChange:s=>a({...t,address:s.target.value}),placeholder:"–ì–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º",className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã"}),e.jsx("input",{type:"text",value:t.work_hours,onChange:s=>a({...t,work_hours:s.target.value}),placeholder:"9:00 - 18:00",className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–î–Ω–∏ —Ä–∞–±–æ—Ç—ã"}),e.jsx("input",{type:"text",value:t.work_days,onChange:s=>a({...t,work_days:s.target.value}),placeholder:"–ü–Ω-–°–±",className:"w-full px-3 py-2 border rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–°—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø"}),e.jsx("input",{type:"url",value:t.logo_url,onChange:s=>a({...t,logo_url:s.target.value}),placeholder:"https://...",className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"–°–∫–∏–¥–∫–∞ –ø–æ –∫—É–ø–æ–Ω—É (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:t.discount_percent,onChange:s=>a({...t,discount_percent:parseInt(s.target.value)||0}),className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"–°—Ä–æ–∫ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"week",label:"1 –Ω–µ–¥–µ–ª—è"},{value:"2weeks",label:"2 –Ω–µ–¥–µ–ª–∏"},{value:"month",label:"1 –º–µ—Å—è—Ü"},{value:"3months",label:"3 –º–µ—Å—è—Ü–∞"},{value:"6months",label:"6 –º–µ—Å—è—Ü–µ–≤"},{value:"year",label:"1 –≥–æ–¥"}].map(s=>e.jsx("button",{type:"button",onClick:()=>a({...t,duration_type:s.value}),className:`px-3 py-2.5 rounded-xl text-sm font-medium transition-all ${t.duration_type===s.value?"bg-blue-600 text-white shadow-lg shadow-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"–ë–µ–π–¥–∂–∏"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º"}),e.jsx("div",{className:"text-xs text-gray-500",children:"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–µ"})]})]}),e.jsxs("div",{className:`relative w-12 h-7 rounded-full transition-colors ${t.badges.recommended?"bg-blue-600":"bg-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:t.badges.recommended,onChange:s=>a({...t,badges:{...t.badges,recommended:s.target.checked}}),className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${t.badges.recommended?"translate-x-6":"translate-x-1"}`})]})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ce,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"–ù–æ–≤–∏–Ω–∫–∞"}),e.jsx("div",{className:"text-xs text-gray-500",children:"–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –Ω–æ–≤–æ–µ"})]})]}),e.jsxs("div",{className:`relative w-12 h-7 rounded-full transition-colors ${t.badges.new?"bg-green-600":"bg-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:t.badges.new,onChange:s=>a({...t,badges:{...t.badges,new:s.target.checked}}),className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${t.badges.new?"translate-x-6":"translate-x-1"}`})]})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"–ì–æ—Ä—è—á–µ–µ"}),e.jsx("div",{className:"text-xs text-gray-500",children:"–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ"})]})]}),e.jsxs("div",{className:`relative w-12 h-7 rounded-full transition-colors ${t.badges.hot?"bg-red-600":"bg-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:t.badges.hot,onChange:s=>a({...t,badges:{...t.badges,hot:s.target.checked}}),className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${t.badges.hot?"translate-x-6":"translate-x-1"}`})]})]}),e.jsxs("label",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-sky-50 to-blue-50 rounded-xl cursor-pointer hover:from-sky-100 hover:to-blue-100 transition-colors border border-sky-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-400 to-blue-500 rounded-full flex items-center justify-center shadow-lg shadow-sky-200",children:e.jsx(oe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-1.5",children:["–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ",e.jsx("svg",{className:"w-4 h-4 text-sky-500",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä –£–ö"})]})]}),e.jsxs("div",{className:`relative w-12 h-7 rounded-full transition-colors ${t.badges.verified?"bg-gradient-to-r from-sky-400 to-blue-500":"bg-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:t.badges.verified,onChange:s=>a({...t,badges:{...t.badges,verified:s.target.checked}}),className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${t.badges.verified?"translate-x-6":"translate-x-1"}`})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–ª—è —Ñ–∏–ª–∏–∞–ª–æ–≤"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"target_type",checked:t.target_type==="all",onChange:()=>a({...t,target_type:"all",target_branches:[]}),className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"–í—Å–µ —Ñ–∏–ª–∏–∞–ª—ã"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["–û–±—ä—è–≤–ª–µ–Ω–∏–µ —É–≤–∏–¥—è—Ç –≤—Å–µ –∂–∏—Ç–µ–ª–∏ (",w.length," —Ñ–∏–ª–∏–∞–ª–æ–≤)"]})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"target_type",checked:t.target_type==="branches",onChange:()=>a({...t,target_type:"branches"}),className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"–í—ã–±—Ä–∞—Ç—å —Ñ–∏–ª–∏–∞–ª—ã"}),e.jsx("div",{className:"text-xs text-gray-500",children:"–¢–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤"})]})]})]}),t.target_type==="branches"&&e.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:w.map(s=>e.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-xl cursor-pointer border-2 transition-all ${t.target_branches.includes(s.code)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:t.target_branches.includes(s.code),onChange:i=>{i.target.checked?a({...t,target_branches:[...t.target_branches,s.code]}):a({...t,target_branches:t.target_branches.filter(h=>h!==s.code)})},className:"w-4 h-4 text-blue-600 rounded"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-gray-900",children:s.code}),e.jsx("div",{className:"text-xs text-gray-500",children:s.name})]})]},s.code))})]})]}),e.jsxs("div",{className:"p-4 border-t flex gap-3 sticky bottom-0 bg-white",children:[e.jsx("button",{onClick:()=>{o(!1),x(null)},className:"flex-1 py-2.5 border rounded-lg hover:bg-gray-50",children:"–û—Ç–º–µ–Ω–∞"}),e.jsxs("button",{onClick:n?K:X,disabled:$||!t.category_id||!t.title||!t.phone,className:"flex-1 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[$?e.jsx(y,{className:"w-5 h-5 animate-spin"}):e.jsx(B,{className:"w-5 h-5"}),n?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å":"–°–æ–∑–¥–∞—Ç—å"]})]})]})}),I&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["–ö—É–ø–æ–Ω—ã: ",n.title]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["–í—ã–¥–∞–Ω–æ: ",n.coupons_issued," | –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ: ",n.coupons_activated]})]}),e.jsx("button",{onClick:()=>{k(!1),x(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(T,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4",children:q?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(y,{className:"w-6 h-6 animate-spin text-blue-600"})}):C.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"–ö—É–ø–æ–Ω—ã –ø–æ–∫–∞ –Ω–µ –≤—ã–¥–∞–Ω—ã"}):e.jsx("div",{className:"space-y-3",children:C.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"px-2 py-1 bg-white border rounded font-mono text-sm",children:s.code}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${s.status==="activated"?"bg-green-100 text-green-700":s.status==="expired"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:s.status==="activated"?"–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω":s.status==="expired"?"–ò—Å—Ç—ë–∫":"–í—ã–¥–∞–Ω"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[s.user_name," ‚Ä¢ ",s.user_phone]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-0.5",children:["–í—ã–¥–∞–Ω: ",new Date(s.issued_at).toLocaleString("ru-RU")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["-",s.discount_percent,"%"]}),s.status==="activated"&&s.activation_amount&&e.jsxs("div",{className:"text-sm text-green-600",children:["–°–∫–∏–¥–∫–∞: ",s.discount_amount?.toLocaleString()," —Å—É–º"]})]})]},s.id))})})]})})]})}export{je as AdvertiserDashboard};
//# sourceMappingURL=AdvertiserDashboard-1768934878736-DonPu903.js.map
