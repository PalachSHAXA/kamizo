import{r as c,j as e,y as Y,au as G,X as ee,f as C,aW as me,a8 as xe,a9 as se,ab as ue,U as q,B as te,l as he,H as pe,as as ge,J as re,E as fe}from"./react-vendor-1768585085561-CM8YoXKY.js";import{u as ye,b as be,d as je,V as $,s as O}from"./index-1768585085561-DY3gV71t.js";import"./vendor-1768585085561-eDq9GBqE.js";import"./qr-scanner-1768585085561-cr32YHjo.js";import"./zustand-1768585085561-wNUYBKDB.js";const B=[{code:"01",name:"Ташкент",nameUz:"Toshkent"},{code:"10",name:"Ташкентская область",nameUz:"Toshkent viloyati"},{code:"20",name:"Сырдарьинская область",nameUz:"Sirdaryo viloyati"},{code:"25",name:"Джизакская область",nameUz:"Jizzax viloyati"},{code:"30",name:"Самаркандская область",nameUz:"Samarqand viloyati"},{code:"40",name:"Ферганская область",nameUz:"Farg'ona viloyati"},{code:"50",name:"Наманганская область",nameUz:"Namangan viloyati"},{code:"60",name:"Андижанская область",nameUz:"Andijon viloyati"},{code:"70",name:"Кашкадарьинская область",nameUz:"Qashqadaryo viloyati"},{code:"75",name:"Сурхандарьинская область",nameUz:"Surxondaryo viloyati"},{code:"80",name:"Бухарская область",nameUz:"Buxoro viloyati"},{code:"85",name:"Навоийская область",nameUz:"Navoiy viloyati"},{code:"90",name:"Хорезмская область",nameUz:"Xorazm viloyati"},{code:"95",name:"Республика Каракалпакстан",nameUz:"Qoraqalpog'iston Respublikasi"}],ae=()=>e.jsxs("svg",{viewBox:"0 0 30 20",className:"w-12 h-8",children:[e.jsx("rect",{width:"30",height:"6.67",fill:"#1EB53A"}),e.jsx("rect",{y:"6.67",width:"30",height:"6.67",fill:"#FFFFFF"}),e.jsx("rect",{y:"13.33",width:"30",height:"6.67",fill:"#0099B5"}),e.jsx("rect",{y:"6.17",width:"30",height:"1",fill:"#CE1126"}),e.jsx("rect",{y:"12.83",width:"30",height:"1",fill:"#CE1126"}),e.jsx("circle",{cx:"8",cy:"3.33",r:"2",fill:"#FFFFFF"}),e.jsx("circle",{cx:"9",cy:"3.33",r:"2",fill:"#0099B5"}),[0,1,2,3,4,5,6,7,8,9,10,11].map(r=>e.jsx("circle",{cx:14+r%4*2.5,cy:1.5+Math.floor(r/4)*2,r:"0.6",fill:"#FFFFFF"},r))]});function Ne({value:r,onChange:m,language:d,onSearch:N}){const v=c.useRef(null),x=c.useRef(null),t=c.useRef(null),[u,w]=c.useState(!1),a=l=>{m({...r,region:l}),w(!1),setTimeout(()=>{v.current?.focus()},100)},p=l=>{const h=l.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,1);/^\d$/.test(h)?(m({...r,letters1:"",digits:h}),x.current?.focus()):(m({...r,letters1:h}),h.length===1&&x.current?.focus())},f=l=>{const h=l.target.value.replace(/\D/g,"").slice(0,3);m({...r,digits:h}),h.length===3&&t.current?.focus()},n=l=>{const h=l.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3);m({...r,letters2:h})},g=(l,h)=>{l.key==="Backspace"&&l.target.value===""&&(h==="letters2"?x.current?.focus():h==="digits"&&v.current?.focus()),l.key==="Enter"&&N&&N()},y=B.find(l=>l.code===r.region),z=r.letters1===""&&r.digits.length>0;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"relative bg-white border-[3px] border-black rounded-xl shadow-xl overflow-visible",style:{minWidth:"380px"},children:e.jsxs("div",{className:"flex items-center h-20 bg-white rounded-xl",children:[e.jsxs("div",{className:"relative flex items-center justify-center border-r-2 border-black h-full px-3 bg-gray-50 rounded-l-xl",children:[e.jsx("button",{type:"button",onClick:()=>w(!u),className:"text-4xl font-bold text-center hover:text-primary-600 transition-colors cursor-pointer min-w-[50px]",children:r.region||e.jsx("span",{className:"text-gray-300",children:"01"})}),u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>w(!1)}),e.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-2xl z-[9999] max-h-72 overflow-y-auto min-w-[280px]",children:B.map(l=>e.jsxs("button",{type:"button",onClick:()=>a(l.code),className:`w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-4 transition-colors first:rounded-t-xl last:rounded-b-xl ${r.region===l.code?"bg-primary-100 text-primary-700":""}`,children:[e.jsx("span",{className:"text-2xl font-bold text-gray-700 w-10",children:l.code}),e.jsx("span",{className:"text-sm text-gray-600",children:d==="ru"?l.name:l.nameUz})]},l.code))})]})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-center px-2 gap-1",children:[e.jsx("input",{ref:v,type:"text",value:r.letters1,onChange:p,onKeyDown:l=>g(l,"letters1"),className:"w-10 text-4xl font-bold text-center outline-none bg-transparent uppercase",placeholder:"A",maxLength:1}),e.jsx("input",{ref:x,type:"text",inputMode:"numeric",value:r.digits,onChange:f,onKeyDown:l=>g(l,"digits"),className:"w-20 text-4xl font-bold text-center outline-none bg-transparent tracking-wider",placeholder:"123",maxLength:3}),e.jsx("input",{ref:t,type:"text",value:r.letters2,onChange:n,onKeyDown:l=>g(l,"letters2"),className:"w-20 text-4xl font-bold text-center outline-none bg-transparent uppercase",placeholder:z?"ABC":"BC",maxLength:3})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center border-l-2 border-black h-full px-3 bg-gray-50 rounded-r-xl",children:[e.jsx(ae,{}),e.jsx("span",{className:"text-sm font-bold mt-0.5",children:"UZ"})]})]})}),y&&e.jsx("p",{className:"text-sm text-primary-600 mt-3 font-medium",children:d==="ru"?y.name:y.nameUz}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:d==="ru"?"Введите любую часть номера для поиска":"Qidirish uchun raqamning istalgan qismini kiriting"})]})}function ve({value:r,onChange:m,language:d}){const N=c.useRef(null),v=c.useRef(null),[x,t]=c.useState(!1),u=n=>{m({...r,region:n}),t(!1),setTimeout(()=>{N.current?.focus()},100)},w=n=>{const g=n.target.value.replace(/\D/g,"").slice(0,3);m({...r,digits:g}),g.length===3&&v.current?.focus()},a=n=>{const y=n.target.value.toUpperCase().replace(/[^A-Z]/g,"").slice(0,3);m({...r,letters2:y})},p=(n,g)=>{n.key==="Backspace"&&n.target.value===""&&g==="letters2"&&N.current?.focus()},f=B.find(n=>n.code===r.region);return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"relative bg-white border-[3px] border-black rounded-xl shadow-xl overflow-visible",style:{minWidth:"340px"},children:e.jsxs("div",{className:"flex items-center h-20 bg-white rounded-xl",children:[e.jsxs("div",{className:"relative flex items-center justify-center border-r-2 border-black h-full px-3 bg-gray-50 rounded-l-xl",children:[e.jsx("button",{type:"button",onClick:()=>t(!x),className:"text-4xl font-bold text-center hover:text-primary-600 transition-colors cursor-pointer min-w-[50px]",children:r.region||e.jsx("span",{className:"text-gray-300",children:"01"})}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>t(!1)}),e.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-2xl z-[9999] max-h-72 overflow-y-auto min-w-[280px]",children:B.map(n=>e.jsxs("button",{type:"button",onClick:()=>u(n.code),className:`w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-4 transition-colors first:rounded-t-xl last:rounded-b-xl ${r.region===n.code?"bg-primary-100 text-primary-700":""}`,children:[e.jsx("span",{className:"text-2xl font-bold text-gray-700 w-10",children:n.code}),e.jsx("span",{className:"text-sm text-gray-600",children:d==="ru"?n.name:n.nameUz})]},n.code))})]})]}),e.jsxs("div",{className:"flex-1 flex items-center justify-center px-3 gap-2",children:[e.jsx("input",{ref:N,type:"text",inputMode:"numeric",value:r.digits,onChange:w,onKeyDown:n=>p(n,"digits"),className:"w-24 text-4xl font-bold text-center outline-none bg-transparent tracking-wider",placeholder:"123",maxLength:3}),e.jsx("input",{ref:v,type:"text",value:r.letters2,onChange:a,onKeyDown:n=>p(n,"letters2"),className:"w-24 text-4xl font-bold text-center outline-none bg-transparent uppercase",placeholder:"EAA",maxLength:3})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center border-l-2 border-black h-full px-3 bg-gray-50 rounded-r-xl",children:[e.jsx(ae,{}),e.jsx("span",{className:"text-sm font-bold mt-0.5",children:"UZ"})]})]})}),f&&e.jsx("p",{className:"text-sm text-primary-600 mt-3 font-medium",children:d==="ru"?f.name:f.nameUz}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:d==="ru"?"Нажмите на код региона для выбора":"Viloyat kodini tanlash uchun bosing"})]})}function we(r,m){const d=r.toUpperCase().replace(/[^A-Z0-9]/g,"");return m==="legal_entity"||m==="service"?{region:d.slice(0,2),letters1:"",digits:d.slice(2,5),letters2:d.slice(5,8)}:{region:d.slice(0,2),letters1:d.slice(2,3),digits:d.slice(3,6),letters2:d.slice(6,8)}}function ke(r,m){return m==="legal_entity"||m==="service"?`${r.region}${r.digits}${r.letters2}`.toUpperCase():`${r.region}${r.letters1}${r.digits}${r.letters2}`.toUpperCase()}function Ce(r,m){const d=parseInt(r.region);return isNaN(d)||d<1||d>99?!1:m==="legal_entity"||m==="service"?r.digits.length===3&&r.letters2.length===3:r.letters1.length===1&&r.digits.length===3&&r.letters2.length===2}function Pe(){const{vehicles:r,addVehicle:m,updateVehicle:d,deleteVehicle:N,fetchVehicles:v}=ye(),{user:x}=be(),{language:t}=je();c.useEffect(()=>{v(!0)},[]);const[u,w]=c.useState({region:"",letters1:"",digits:"",letters2:""}),[a,p]=c.useState(null),[f,n]=c.useState([]),[g,y]=c.useState(!1),[z,l]=c.useState(!1),[h,T]=c.useState(!1),[U,Q]=c.useState(null),[W,L]=c.useState(null),[H,K]=c.useState(null),[S,V]=c.useState("service"),[P,R]=c.useState({region:"",letters1:"",digits:"",letters2:""}),[i,b]=c.useState({brand:"",model:"",color:"",year:"",type:"car",companyName:"",parkingSpot:"",notes:""}),D=x?.role==="manager"||x?.role==="admin",le=["service","legal_entity"],E=()=>{b({brand:"",model:"",color:"",year:"",type:"car",companyName:"",parkingSpot:"",notes:""}),R({region:"",letters1:"",digits:"",letters2:""}),V("service"),Q(null),K(null)},I=s=>{if(s){Q(s);const o=s.ownerType||"individual";V(o),R(we(s.plateNumber,o)),b({brand:s.brand,model:s.model,color:s.color,year:s.year?.toString()||"",type:s.type,companyName:s.companyName||"",parkingSpot:s.parkingSpot||"",notes:s.notes||""})}else E();T(!0)};c.useEffect(()=>{U||R({region:P.region,letters1:"",digits:"",letters2:""})},[S]),c.useEffect(()=>{const{region:s,letters1:o,digits:k,letters2:F}=u;if(!(s||o||k||F)){n([]),p(null),y(!1);return}const J=`${s}${o}${k}${F}`.toUpperCase(),M=r.filter(ce=>{const A=ce.plateNumber.toUpperCase().replace(/[^A-Z0-9]/g,"");if(J&&A.includes(J))return!0;let j=!0;if(s&&(j=j&&A.startsWith(s)),o){const de=A.charAt(2);j=j&&de===o}return k&&(j=j&&A.includes(k)),F&&(j=j&&A.endsWith(F)),j});n(M),y(!0),M.length===1?p(M[0]):p(null)},[u,r]);const X=s=>{if(s.preventDefault(),!x)return;if(!Ce(P,S)){K(t==="ru"?"Заполните все поля номера":"Barcha maydonlarni to'ldiring");return}const o=ke(P,S),k={ownerId:x.id,ownerName:S==="service"?i.companyName||"Служебный":x.name,ownerPhone:x.phone,apartment:"",address:"Служебный автомобиль",plateNumber:o,brand:i.brand,model:i.model,color:i.color,year:i.year?parseInt(i.year):void 0,type:i.type,ownerType:S,companyName:i.companyName||void 0,parkingSpot:i.parkingSpot||void 0,notes:i.notes||void 0};U?d(U.id,k):m(k),T(!1),E()},ne=s=>{N(s),L(null),p(null)},ie=s=>{p(s),y(!0)},oe=s=>new Date(s).toLocaleDateString(t==="ru"?"ru-RU":"uz-UZ",{day:"2-digit",month:"short",year:"numeric"}),Z=s=>{const o=s.toUpperCase().replace(/[^A-Z0-9]/g,"");return o.length===8&&/^\d{2}[A-Z]\d{3}[A-Z]{2}$/.test(o)?`${o.slice(0,2)} ${o.slice(2,3)} ${o.slice(3,6)} ${o.slice(6,8)}`:o.length===8&&/^\d{5}[A-Z]{3}$/.test(o)?`${o.slice(0,2)} ${o.slice(2,5)} ${o.slice(5,8)}`:s},_=s=>{if(!s)return e.jsx(q,{className:"w-4 h-4"});switch(s){case"individual":return e.jsx(q,{className:"w-4 h-4"});case"legal_entity":return e.jsx(te,{className:"w-4 h-4"});case"service":return e.jsx(C,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-4 md:space-y-6 pb-20 md:pb-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-xl md:text-2xl font-bold flex items-center gap-3",children:[e.jsx(Y,{className:"w-7 h-7 text-blue-500"}),t==="ru"?"Поиск автомобилей":"Avtomobil qidirish"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[t==="ru"?"Всего:":"Jami:"," ",r.length]}),D&&e.jsxs("button",{onClick:()=>I(),className:"btn-primary flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:t==="ru"?"Служебное авто":"Xizmat avtosi"})]})]})]}),e.jsx("div",{className:"glass-card p-6 relative z-10 overflow-visible",children:e.jsxs("div",{className:"flex flex-col items-center relative",children:[e.jsx(Ne,{value:u,onChange:w,language:t,onSearch:()=>{f.length===1&&p(f[0])}}),(u.region||u.letters1||u.digits||u.letters2)&&e.jsxs("button",{onClick:()=>{w({region:"",letters1:"",digits:"",letters2:""}),n([]),p(null),y(!1)},className:"mt-4 px-4 py-2 text-sm text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),t==="ru"?"Очистить поиск":"Qidiruvni tozalash"]})]})}),g&&f.length>1&&!a&&e.jsxs("div",{className:"glass-card p-4",children:[e.jsxs("h3",{className:"font-medium text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-primary-500"}),t==="ru"?"Найденные автомобили":"Topilgan avtomobillar",e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-primary-100 text-primary-600 text-sm",children:f.length})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:f.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-primary-50 cursor-pointer transition-colors border border-transparent hover:border-primary-200",onClick:()=>{p(s)},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(C,{className:"w-5 h-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-bold text-gray-900 tracking-wider",children:Z(s.plateNumber)}),s.ownerType&&e.jsx("span",{className:`inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${s.ownerType==="individual"?"bg-blue-100 text-blue-600":s.ownerType==="legal_entity"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:_(s.ownerType)})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.brand," ",s.model," • ",s.color]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.ownerName}),s.apartment&&e.jsxs("p",{className:"text-xs text-gray-400",children:[t==="ru"?"Кв.":"Kv."," ",s.apartment]})]})]},s.id))})]}),a&&e.jsx("div",{className:"space-y-4",children:a&&e.jsxs("div",{className:"glass-card p-6 border-2 border-green-200 bg-green-50/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(C,{className:"w-4 h-4 text-green-600"})}),e.jsx("h2",{className:"text-lg font-bold text-green-700",children:t==="ru"?"Автомобиль найден!":"Avtomobil topildi!"})]}),D&&e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>I(a),className:"p-2 hover:bg-white rounded-lg transition-colors",children:e.jsx(me,{className:"w-4 h-4 text-gray-500"})}),e.jsx("button",{onClick:()=>L(a.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(xe,{className:"w-4 h-4 text-red-500"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-xl bg-blue-100 flex items-center justify-center",children:e.jsx(C,{className:"w-8 h-8 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 tracking-wider",children:Z(a.plateNumber)}),e.jsxs("p",{className:"text-gray-500",children:[a.brand," ",a.model," • ",a.color,a.year&&` • ${a.year}`]}),a.ownerType&&e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium mt-1 ${a.ownerType==="individual"?"bg-blue-100 text-blue-700":a.ownerType==="legal_entity"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:[_(a.ownerType),t==="ru"?$[a.ownerType].label:$[a.ownerType].labelUz]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Тип транспорта":"Transport turi"}),e.jsx("p",{className:"font-medium",children:t==="ru"?O[a.type].label:O[a.type].labelUz})]})]}),a.parkingSpot&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Парковочное место":"Avtoturargoh joyi"}),e.jsx("p",{className:"font-medium",children:a.parkingSpot})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Дата регистрации":"Ro'yxatga olingan sana"}),e.jsx("p",{className:"font-medium",children:oe(a.createdAt)})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-primary-500"}),t==="ru"?"Информация о владельце":"Egasi haqida ma'lumot"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Владелец":"Egasi"}),e.jsx("p",{className:"font-medium text-lg",children:a.ownerName||(t==="ru"?"Не указано":"Ko'rsatilmagan")})]})]}),a.companyName&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(te,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Компания":"Kompaniya"}),e.jsx("p",{className:"font-medium",children:a.companyName})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Телефон":"Telefon"}),a.ownerPhone?e.jsx("a",{href:`tel:${a.ownerPhone}`,className:"font-medium text-primary-600 hover:underline",children:a.ownerPhone}):e.jsx("p",{className:"font-medium text-gray-400",children:t==="ru"?"Не указано":"Ko'rsatilmagan"})]})]}),a.apartment&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Квартира":"Kvartira"}),e.jsx("p",{className:"font-medium",children:a.apartment})]})]}),a.address&&a.address!=="Служебный автомобиль"&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:t==="ru"?"Адрес":"Manzil"}),e.jsx("p",{className:"font-medium",children:a.address})]})]})]}),a.notes&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ge,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:t==="ru"?"Примечание":"Izoh"}),e.jsx("p",{className:"text-sm text-yellow-700",children:a.notes})]})]})})]})]})}),g&&f.length===0&&(u.region||u.digits)&&e.jsxs("div",{className:"glass-card p-8 text-center border-2 border-red-200 bg-red-50/50",children:[e.jsx(re,{className:"w-12 h-12 mx-auto text-red-400 mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:t==="ru"?"Автомобиль не найден":"Avtomobil topilmadi"}),e.jsx("p",{className:"text-red-600 text-sm",children:t==="ru"?"По введённым данным автомобиль не найден в системе":"Kiritilgan ma'lumotlar bo'yicha avtomobil topilmadi"})]}),D&&r.length>0&&e.jsxs("div",{className:"glass-card p-4",children:[e.jsxs("button",{onClick:()=>l(!z),className:"w-full flex items-center justify-between py-2",children:[e.jsxs("span",{className:"font-medium text-gray-700",children:[t==="ru"?"Все зарегистрированные автомобили":"Barcha ro'yxatga olingan avtomobillar",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-primary-100 text-primary-600 text-sm",children:r.length})]}),e.jsx("span",{className:"text-primary-500 text-sm",children:z?t==="ru"?"Скрыть":"Yashirish":t==="ru"?"Показать":"Ko'rsatish"})]}),z&&e.jsx("div",{className:"mt-4 space-y-3",children:r.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>ie(s),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:e.jsx(C,{className:"w-5 h-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-bold text-gray-900 tracking-wider",children:Z(s.plateNumber)}),s.ownerType&&e.jsx("span",{className:`inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${s.ownerType==="individual"?"bg-blue-100 text-blue-600":s.ownerType==="legal_entity"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:_(s.ownerType)})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.brand," ",s.model," • ",s.ownerName]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.apartment?`${t==="ru"?"Кв.":"Kv."} ${s.apartment}`:"—"})})]},s.id))})]}),r.length===0&&!g&&e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx(C,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:t==="ru"?"Нет зарегистрированных автомобилей":"Ro'yxatga olingan avtomobillar yo'q"}),e.jsx("p",{className:"text-gray-400 mb-4",children:t==="ru"?"Жители еще не добавили свои автомобили в систему":"Aholi hali avtomobillarini tizimga qo'shmagan"}),D&&e.jsxs("button",{onClick:()=>I(),className:"btn-primary inline-flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),t==="ru"?"Добавить служебное авто":"Xizmat avtosini qo'shish"]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl overflow-hidden max-h-[85vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-bold",children:U?t==="ru"?"Редактировать авто":"Avtoni tahrirlash":t==="ru"?"Добавить служебное авто":"Xizmat avtosini qo'shish"}),e.jsx("button",{onClick:()=>{T(!1),E()},className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:X,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ru"?"Тип владельца":"Egasi turi"}),e.jsx("div",{className:"flex gap-2",children:le.map(s=>e.jsxs("button",{type:"button",onClick:()=>V(s),className:`flex-1 flex items-center justify-center gap-1 px-2 py-2 rounded-xl border-2 transition-all text-sm ${S===s?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("span",{children:$[s].icon}),e.jsx("span",{className:"font-medium",children:t==="ru"?$[s].label:$[s].labelUz})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ru"?"Название/Компания":"Nomi/Kompaniya"}),e.jsx("input",{type:"text",value:i.companyName,onChange:s=>b({...i,companyName:s.target.value}),placeholder:t==="ru"?'УК "Название" / ООО "Компания"':'BK "Nomi" / MChJ',className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-center",children:t==="ru"?"Номер автомобиля":"Avtomobil raqami"}),e.jsx(ve,{value:P,onChange:s=>{R(s),K(null)},language:t}),H&&e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2 text-red-500 text-sm",children:[e.jsx(re,{className:"w-4 h-4"}),H]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t==="ru"?"Тип транспорта":"Transport turi"}),e.jsx("select",{value:i.type,onChange:s=>b({...i,type:s.target.value}),className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 outline-none text-sm",required:!0,children:Object.entries(O).map(([s,o])=>e.jsx("option",{value:s,children:t==="ru"?o.label:o.labelUz},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t==="ru"?"Марка":"Markasi"}),e.jsx("input",{type:"text",value:i.brand,onChange:s=>b({...i,brand:s.target.value}),placeholder:"Chevrolet",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t==="ru"?"Модель":"Modeli"}),e.jsx("input",{type:"text",value:i.model,onChange:s=>b({...i,model:s.target.value}),placeholder:"Damas",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t==="ru"?"Цвет":"Rangi"}),e.jsx("input",{type:"text",value:i.color,onChange:s=>b({...i,color:s.target.value}),placeholder:t==="ru"?"Белый":"Oq",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t==="ru"?"Год":"Yili"}),e.jsx("input",{type:"number",value:i.year,onChange:s=>b({...i,year:s.target.value}),placeholder:"2020",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t==="ru"?"Парковка":"Avtoturargoh"}),e.jsx("input",{type:"text",value:i.parkingSpot,onChange:s=>b({...i,parkingSpot:s.target.value}),placeholder:"S-01",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 outline-none text-sm"})]}),e.jsxs("div",{className:"col-span-2 md:col-span-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t==="ru"?"Примечания":"Izohlar"}),e.jsx("input",{type:"text",value:i.notes,onChange:s=>b({...i,notes:s.target.value}),placeholder:t==="ru"?"Машина для вывоза мусора...":"Chiqindilarni olib ketish mashinasi...",className:"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 outline-none text-sm"})]})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{T(!1),E()},className:"flex-1 py-3 px-4 rounded-xl font-medium bg-gray-100 hover:bg-gray-200 transition-colors",children:t==="ru"?"Отмена":"Bekor qilish"}),e.jsx("button",{type:"submit",onClick:X,className:"flex-1 py-3 px-4 rounded-xl font-semibold text-white bg-gradient-to-r from-primary-400 to-primary-500 hover:from-primary-500 hover:to-primary-600 transition-all",children:U?t==="ru"?"Сохранить":"Saqlash":t==="ru"?"Добавить":"Qo'shish"})]})})]})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 mx-auto mb-4",children:e.jsx(fe,{className:"w-6 h-6 text-red-500"})}),e.jsx("h3",{className:"text-lg font-bold text-center mb-2",children:t==="ru"?"Удалить автомобиль?":"Avtomobilni o'chirish?"}),e.jsx("p",{className:"text-gray-500 text-center text-sm mb-6",children:t==="ru"?"Это действие нельзя отменить":"Bu amalni bekor qilib bo'lmaydi"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>L(null),className:"flex-1 py-3 px-4 rounded-xl font-medium bg-gray-100 hover:bg-gray-200 transition-colors",children:t==="ru"?"Отмена":"Bekor qilish"}),e.jsx("button",{onClick:()=>ne(W),className:"flex-1 py-3 px-4 rounded-xl font-medium text-white bg-red-500 hover:bg-red-600 transition-colors",children:t==="ru"?"Удалить":"O'chirish"})]})]})})]})}export{Pe as VehicleSearchPage};
//# sourceMappingURL=VehicleSearchPage-1768585085561-Bde5UKK5.js.map
