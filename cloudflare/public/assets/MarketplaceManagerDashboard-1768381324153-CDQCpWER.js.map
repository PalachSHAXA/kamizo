{"version":3,"file":"MarketplaceManagerDashboard-1768381324153-CDQCpWER.js","sources":["../../src/pages/MarketplaceManagerDashboard.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport {\n  Package, Plus, Edit2, Trash2, Search, Filter,\n  X, TrendingUp, AlertTriangle, BarChart3, ImagePlus\n} from 'lucide-react';\nimport { useAuthStore } from '../stores/authStore';\nimport { useLanguageStore } from '../stores/languageStore';\nimport { apiRequest } from '../services/api';\n\n// Types for API responses (snake_case from backend)\ninterface MarketplaceCategoryAPI {\n  id: string;\n  name_ru: string;\n  name_uz: string;\n  icon?: string;\n  sort_order: number;\n  is_active: boolean;\n  created_at: string;\n}\n\ninterface MarketplaceProductAPI {\n  id: string;\n  category_id: string;\n  name_ru: string;\n  name_uz: string;\n  description_ru?: string;\n  description_uz?: string;\n  price: number;\n  old_price?: number;\n  unit: string;\n  stock_quantity: number;\n  image_url?: string;\n  is_active: boolean;\n  is_featured: boolean;\n  created_at: string;\n}\n\nconst CATEGORY_ICONS: Record<string, string> = {\n  cat_groceries: 'üõí',\n  cat_dairy: 'ü•õ',\n  cat_meat: 'ü•©',\n  cat_bakery: 'üçû',\n  cat_fruits: 'üçé',\n  cat_beverages: 'ü•§',\n  cat_household: 'üßπ',\n  cat_personal: 'üß¥',\n  cat_baby: 'üë∂',\n  cat_pets: 'üêæ',\n  cat_frozen: '‚ùÑÔ∏è',\n  cat_snacks: 'üçø',\n};\n\nexport function MarketplaceManagerDashboard() {\n  const { user } = useAuthStore();\n  const { language } = useLanguageStore();\n\n  const [activeTab, setActiveTab] = useState<'products' | 'categories' | 'stock'>('products');\n  const [products, setProducts] = useState<MarketplaceProductAPI[]>([]);\n  const [categories, setCategories] = useState<MarketplaceCategoryAPI[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState<string>('all');\n\n  // Product modal\n  const [showProductModal, setShowProductModal] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<MarketplaceProductAPI | null>(null);\n  const [productForm, setProductForm] = useState({\n    category_id: '',\n    name_ru: '',\n    name_uz: '',\n    description_ru: '',\n    description_uz: '',\n    price: '',\n    old_price: '',\n    unit: '—à—Ç',\n    stock_quantity: '',\n    image_url: '',\n    is_featured: false,\n  });\n\n  // Stock update modal\n  const [showStockModal, setShowStockModal] = useState(false);\n  const [stockProduct, setStockProduct] = useState<MarketplaceProductAPI | null>(null);\n  const [stockQuantity, setStockQuantity] = useState('');\n\n  // Fetch data\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [productsRes, categoriesRes] = await Promise.all([\n        apiRequest<{ products: MarketplaceProductAPI[] }>('/api/marketplace/admin/products'),\n        apiRequest<MarketplaceCategoryAPI[]>('/api/marketplace/categories'),\n      ]);\n\n      setProducts(productsRes?.products || []);\n      setCategories(categoriesRes || []);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  // Save product\n  const saveProduct = async () => {\n    try {\n      const data = {\n        ...productForm,\n        price: parseFloat(productForm.price),\n        old_price: productForm.old_price ? parseFloat(productForm.old_price) : null,\n        stock_quantity: parseInt(productForm.stock_quantity) || 0,\n        image_url: productForm.image_url || null,\n      };\n\n      if (editingProduct) {\n        await apiRequest(`/api/marketplace/admin/products/${editingProduct.id}`, {\n          method: 'PATCH',\n          body: JSON.stringify(data),\n        });\n      } else {\n        await apiRequest('/api/marketplace/admin/products', {\n          method: 'POST',\n          body: JSON.stringify(data),\n        });\n      }\n\n      await fetchData();\n      setShowProductModal(false);\n      resetProductForm();\n    } catch (error) {\n      console.error('Error saving product:', error);\n    }\n  };\n\n  // Update stock\n  const updateStock = async () => {\n    if (!stockProduct) return;\n    try {\n      await apiRequest(`/api/marketplace/admin/products/${stockProduct.id}`, {\n        method: 'PATCH',\n        body: JSON.stringify({ stock_quantity: parseInt(stockQuantity) || 0 }),\n      });\n      await fetchData();\n      setShowStockModal(false);\n      setStockProduct(null);\n      setStockQuantity('');\n    } catch (error) {\n      console.error('Error updating stock:', error);\n    }\n  };\n\n  // Delete product\n  const deleteProduct = async (productId: string) => {\n    if (!confirm(language === 'ru' ? '–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä?' : 'Mahsulotni o\\'chirmoqchimisiz?')) return;\n    try {\n      await apiRequest(`/api/marketplace/admin/products/${productId}`, { method: 'DELETE' });\n      await fetchData();\n    } catch (error) {\n      console.error('Error deleting product:', error);\n    }\n  };\n\n  // Edit product\n  const editProduct = (product: MarketplaceProductAPI) => {\n    setEditingProduct(product);\n    setProductForm({\n      category_id: product.category_id,\n      name_ru: product.name_ru,\n      name_uz: product.name_uz,\n      description_ru: product.description_ru || '',\n      description_uz: product.description_uz || '',\n      price: product.price.toString(),\n      old_price: product.old_price?.toString() || '',\n      unit: product.unit || '—à—Ç',\n      stock_quantity: product.stock_quantity?.toString() || '0',\n      image_url: product.image_url || '',\n      is_featured: product.is_featured || false,\n    });\n    setShowProductModal(true);\n  };\n\n  const resetProductForm = () => {\n    setEditingProduct(null);\n    setProductForm({\n      category_id: '',\n      name_ru: '',\n      name_uz: '',\n      description_ru: '',\n      description_uz: '',\n      price: '',\n      old_price: '',\n      unit: '—à—Ç',\n      stock_quantity: '',\n      image_url: '',\n      is_featured: false,\n    });\n  };\n\n  // Filter products\n  const filteredProducts = products.filter(product => {\n    const matchesCategory = categoryFilter === 'all' || product.category_id === categoryFilter;\n    const matchesSearch = !searchQuery ||\n      product.name_ru.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      product.name_uz.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesCategory && matchesSearch;\n  });\n\n  // Low stock products (less than 10)\n  const lowStockProducts = products.filter(p => p.stock_quantity < 10 && p.stock_quantity > 0);\n  const outOfStockProducts = products.filter(p => p.stock_quantity === 0);\n\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat('ru-RU').format(price) + ' —Å—É–º';\n  };\n\n  const tabs = [\n    { id: 'products' as const, label: language === 'ru' ? '–¢–æ–≤–∞—Ä—ã' : 'Mahsulotlar', icon: Package, count: products.length },\n    { id: 'stock' as const, label: language === 'ru' ? '–°–∫–ª–∞–¥' : 'Ombor', icon: BarChart3, count: lowStockProducts.length + outOfStockProducts.length },\n    { id: 'categories' as const, label: language === 'ru' ? '–ö–∞—Ç–µ–≥–æ—Ä–∏–∏' : 'Kategoriyalar', icon: Filter },\n  ];\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b px-4 py-4\">\n        <h1 className=\"text-xl font-bold text-gray-900\">\n          {language === 'ru' ? '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏' : 'Mahsulotlarni boshqarish'}\n        </h1>\n        <p className=\"text-sm text-gray-500 mt-1\">\n          {language === 'ru' ? '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å,' : 'Xush kelibsiz,'} {user?.name}\n        </p>\n      </div>\n\n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-3 gap-3 p-4\">\n        <div className=\"bg-white rounded-xl p-3 shadow-sm\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"p-2 bg-orange-100 rounded-lg\">\n              <Package className=\"w-4 h-4 text-orange-600\" />\n            </div>\n            <div>\n              <p className=\"text-xl font-bold text-gray-900\">{products.length}</p>\n              <p className=\"text-xs text-gray-500\">{language === 'ru' ? '–¢–æ–≤–∞—Ä–æ–≤' : 'Mahsulot'}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white rounded-xl p-3 shadow-sm\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\n              <AlertTriangle className=\"w-4 h-4 text-yellow-600\" />\n            </div>\n            <div>\n              <p className=\"text-xl font-bold text-gray-900\">{lowStockProducts.length}</p>\n              <p className=\"text-xs text-gray-500\">{language === 'ru' ? '–ú–∞–ª–æ' : 'Kam'}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white rounded-xl p-3 shadow-sm\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"p-2 bg-red-100 rounded-lg\">\n              <TrendingUp className=\"w-4 h-4 text-red-600\" />\n            </div>\n            <div>\n              <p className=\"text-xl font-bold text-gray-900\">{outOfStockProducts.length}</p>\n              <p className=\"text-xs text-gray-500\">{language === 'ru' ? '–ù–µ—Ç' : 'Yo\\'q'}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white border-b sticky top-0 z-40\">\n        <div className=\"flex overflow-x-auto\">\n          {tabs.map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`flex-1 min-w-0 py-3 px-4 flex items-center justify-center gap-2 border-b-2 transition-colors ${\n                activeTab === tab.id\n                  ? 'border-orange-600 text-orange-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              <tab.icon className=\"w-5 h-5\" />\n              <span className=\"text-sm font-medium truncate\">{tab.label}</span>\n              {tab.count !== undefined && tab.count > 0 && (\n                <span className={`text-xs px-2 py-0.5 rounded-full ${\n                  tab.id === 'stock' ? 'bg-red-100 text-red-700' : 'bg-orange-100 text-orange-700'\n                }`}>\n                  {tab.count}\n                </span>\n              )}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"p-4 pb-20\">\n        {/* Products Tab */}\n        {activeTab === 'products' && (\n          <div>\n            <div className=\"flex gap-2 mb-4\">\n              <div className=\"relative flex-1\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\n                <input\n                  type=\"text\"\n                  placeholder={language === 'ru' ? '–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...' : 'Mahsulot qidirish...'}\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-orange-500\"\n                />\n              </div>\n              <button\n                onClick={() => {\n                  resetProductForm();\n                  setShowProductModal(true);\n                }}\n                className=\"px-4 py-2.5 bg-orange-600 text-white rounded-xl font-medium flex items-center gap-2\"\n              >\n                <Plus className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* Category filter */}\n            <div className=\"flex gap-2 mb-4 overflow-x-auto pb-2\">\n              <button\n                onClick={() => setCategoryFilter('all')}\n                className={`px-3 py-1.5 rounded-full text-sm whitespace-nowrap ${\n                  categoryFilter === 'all'\n                    ? 'bg-orange-600 text-white'\n                    : 'bg-gray-100 text-gray-600'\n                }`}\n              >\n                {language === 'ru' ? '–í—Å–µ' : 'Hammasi'}\n              </button>\n              {categories.map(cat => (\n                <button\n                  key={cat.id}\n                  onClick={() => setCategoryFilter(cat.id)}\n                  className={`px-3 py-1.5 rounded-full text-sm whitespace-nowrap flex items-center gap-1 ${\n                    categoryFilter === cat.id\n                      ? 'bg-orange-600 text-white'\n                      : 'bg-gray-100 text-gray-600'\n                  }`}\n                >\n                  <span>{CATEGORY_ICONS[cat.id] || 'üì¶'}</span>\n                  <span>{language === 'ru' ? cat.name_ru : cat.name_uz}</span>\n                </button>\n              ))}\n            </div>\n\n            <div className=\"space-y-3\">\n              {filteredProducts.map(product => (\n                <div key={product.id} className=\"bg-white rounded-xl p-4 shadow-sm\">\n                  <div className=\"flex gap-3\">\n                    <div className=\"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden\">\n                      {product.image_url ? (\n                        <img src={product.image_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\n                      )}\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"font-medium text-gray-900 line-clamp-1\">\n                        {language === 'ru' ? product.name_ru : product.name_uz}\n                      </h3>\n                      <p className=\"text-sm text-gray-500\">\n                        {categories.find(c => c.id === product.category_id)?.[language === 'ru' ? 'name_ru' : 'name_uz']}\n                      </p>\n                      <div className=\"flex items-center gap-2 mt-1\">\n                        <span className=\"font-bold text-orange-600\">{formatPrice(product.price)}</span>\n                        {product.old_price && (\n                          <span className=\"text-xs text-gray-400 line-through\">{formatPrice(product.old_price)}</span>\n                        )}\n                      </div>\n                      <div className=\"flex items-center gap-2 mt-1\">\n                        <span className={`text-xs px-2 py-0.5 rounded-full ${\n                          product.stock_quantity > 10\n                            ? 'bg-green-100 text-green-700'\n                            : product.stock_quantity > 0\n                            ? 'bg-yellow-100 text-yellow-700'\n                            : 'bg-red-100 text-red-700'\n                        }`}>\n                          {product.stock_quantity} {product.unit}\n                        </span>\n                        {product.is_featured && (\n                          <span className=\"text-xs px-2 py-0.5 rounded-full bg-orange-100 text-orange-700\">\n                            {language === 'ru' ? '–•–∏—Ç' : 'Hit'}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col gap-2\">\n                      <button\n                        onClick={() => editProduct(product)}\n                        className=\"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg\"\n                      >\n                        <Edit2 className=\"w-4 h-4\" />\n                      </button>\n                      <button\n                        onClick={() => deleteProduct(product.id)}\n                        className=\"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg\"\n                      >\n                        <Trash2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n\n              {filteredProducts.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <Package className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n                  <p className=\"text-gray-500\">\n                    {language === 'ru' ? '–¢–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç' : 'Mahsulotlar yo\\'q'}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Stock Tab */}\n        {activeTab === 'stock' && (\n          <div className=\"space-y-4\">\n            {/* Out of stock */}\n            {outOfStockProducts.length > 0 && (\n              <div>\n                <h3 className=\"font-bold text-red-600 mb-3 flex items-center gap-2\">\n                  <AlertTriangle className=\"w-5 h-5\" />\n                  {language === 'ru' ? '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' : 'Mavjud emas'}\n                </h3>\n                <div className=\"space-y-2\">\n                  {outOfStockProducts.map(product => (\n                    <div key={product.id} className=\"bg-red-50 rounded-xl p-3 flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\n                        <div>\n                          <p className=\"font-medium text-gray-900\">\n                            {language === 'ru' ? product.name_ru : product.name_uz}\n                          </p>\n                          <p className=\"text-sm text-red-600\">0 {product.unit}</p>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => {\n                          setStockProduct(product);\n                          setStockQuantity(product.stock_quantity.toString());\n                          setShowStockModal(true);\n                        }}\n                        className=\"px-3 py-1.5 bg-red-600 text-white rounded-lg text-sm font-medium\"\n                      >\n                        {language === 'ru' ? '–ü–æ–ø–æ–ª–Ω–∏—Ç—å' : 'To\\'ldirish'}\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Low stock */}\n            {lowStockProducts.length > 0 && (\n              <div>\n                <h3 className=\"font-bold text-yellow-600 mb-3 flex items-center gap-2\">\n                  <AlertTriangle className=\"w-5 h-5\" />\n                  {language === 'ru' ? '–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è' : 'Tugab qolmoqda'}\n                </h3>\n                <div className=\"space-y-2\">\n                  {lowStockProducts.map(product => (\n                    <div key={product.id} className=\"bg-yellow-50 rounded-xl p-3 flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\n                        <div>\n                          <p className=\"font-medium text-gray-900\">\n                            {language === 'ru' ? product.name_ru : product.name_uz}\n                          </p>\n                          <p className=\"text-sm text-yellow-600\">{product.stock_quantity} {product.unit}</p>\n                        </div>\n                      </div>\n                      <button\n                        onClick={() => {\n                          setStockProduct(product);\n                          setStockQuantity(product.stock_quantity.toString());\n                          setShowStockModal(true);\n                        }}\n                        className=\"px-3 py-1.5 bg-yellow-600 text-white rounded-lg text-sm font-medium\"\n                      >\n                        {language === 'ru' ? '–ü–æ–ø–æ–ª–Ω–∏—Ç—å' : 'To\\'ldirish'}\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* All products stock */}\n            <div>\n              <h3 className=\"font-bold text-gray-900 mb-3\">\n                {language === 'ru' ? '–í—Å–µ —Ç–æ–≤–∞—Ä—ã' : 'Barcha mahsulotlar'}\n              </h3>\n              <div className=\"space-y-2\">\n                {products.filter(p => p.stock_quantity >= 10).map(product => (\n                  <div key={product.id} className=\"bg-white rounded-xl p-3 flex items-center justify-between shadow-sm\">\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\n                      <div>\n                        <p className=\"font-medium text-gray-900\">\n                          {language === 'ru' ? product.name_ru : product.name_uz}\n                        </p>\n                        <p className=\"text-sm text-green-600\">{product.stock_quantity} {product.unit}</p>\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => {\n                        setStockProduct(product);\n                        setStockQuantity(product.stock_quantity.toString());\n                        setShowStockModal(true);\n                      }}\n                      className=\"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium\"\n                    >\n                      {language === 'ru' ? '–ò–∑–º–µ–Ω–∏—Ç—å' : 'O\\'zgartirish'}\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {products.length === 0 && (\n              <div className=\"text-center py-12\">\n                <Package className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\n                <p className=\"text-gray-500\">\n                  {language === 'ru' ? '–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤' : 'Mahsulotlar yo\\'q'}\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Categories Tab */}\n        {activeTab === 'categories' && (\n          <div className=\"space-y-3\">\n            {categories.map(category => (\n              <div key={category.id} className=\"bg-white rounded-xl p-4 shadow-sm flex items-center gap-4\">\n                <span className=\"text-3xl\">{CATEGORY_ICONS[category.id] || 'üì¶'}</span>\n                <div className=\"flex-1\">\n                  <h3 className=\"font-medium text-gray-900\">\n                    {language === 'ru' ? category.name_ru : category.name_uz}\n                  </h3>\n                  <p className=\"text-sm text-gray-500\">\n                    {products.filter(p => p.category_id === category.id).length} {language === 'ru' ? '—Ç–æ–≤–∞—Ä–æ–≤' : 'mahsulot'}\n                  </p>\n                </div>\n                <span className={`px-3 py-1 rounded-full text-sm ${\n                  category.is_active ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-500'\n                }`}>\n                  {category.is_active ? (language === 'ru' ? '–ê–∫—Ç–∏–≤–Ω–∞' : 'Faol') : (language === 'ru' ? '–ù–µ–∞–∫—Ç–∏–≤–Ω–∞' : 'Nofaol')}\n                </span>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Product Modal */}\n      {showProductModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-lg rounded-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-white p-4 border-b flex items-center justify-between z-10\">\n              <h2 className=\"font-bold text-lg\">\n                {editingProduct\n                  ? (language === 'ru' ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä' : 'Mahsulotni tahrirlash')\n                  : (language === 'ru' ? '–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä' : 'Mahsulot qo\\'shish')}\n              </h2>\n              <button\n                onClick={() => setShowProductModal(false)}\n                className=\"p-2 hover:bg-gray-100 rounded-full\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-4 space-y-4\">\n              {/* Category */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {language === 'ru' ? '–ö–∞—Ç–µ–≥–æ—Ä–∏—è' : 'Kategoriya'} *\n                </label>\n                <select\n                  value={productForm.category_id}\n                  onChange={(e) => setProductForm({ ...productForm, category_id: e.target.value })}\n                  className=\"w-full p-3 border rounded-xl\"\n                  required\n                >\n                  <option value=\"\">{language === 'ru' ? '–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é' : 'Kategoriya tanlang'}</option>\n                  {categories.map(cat => (\n                    <option key={cat.id} value={cat.id}>\n                      {CATEGORY_ICONS[cat.id] || 'üì¶'} {language === 'ru' ? cat.name_ru : cat.name_uz}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Image URL */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  <ImagePlus className=\"w-4 h-4 inline mr-1\" />\n                  {language === 'ru' ? 'URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è' : 'Rasm URL'}\n                </label>\n                <input\n                  type=\"url\"\n                  value={productForm.image_url}\n                  onChange={(e) => setProductForm({ ...productForm, image_url: e.target.value })}\n                  placeholder=\"https://...\"\n                  className=\"w-full p-3 border rounded-xl\"\n                />\n                {productForm.image_url && (\n                  <div className=\"mt-2 w-20 h-20 rounded-lg overflow-hidden bg-gray-100\">\n                    <img src={productForm.image_url} alt=\"Preview\" className=\"w-full h-full object-cover\" />\n                  </div>\n                )}\n              </div>\n\n              {/* Name RU */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {language === 'ru' ? '–ù–∞–∑–≤–∞–Ω–∏–µ (RU)' : 'Nomi (RU)'} *\n                </label>\n                <input\n                  type=\"text\"\n                  value={productForm.name_ru}\n                  onChange={(e) => setProductForm({ ...productForm, name_ru: e.target.value })}\n                  className=\"w-full p-3 border rounded-xl\"\n                  required\n                />\n              </div>\n\n              {/* Name UZ */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {language === 'ru' ? '–ù–∞–∑–≤–∞–Ω–∏–µ (UZ)' : 'Nomi (UZ)'} *\n                </label>\n                <input\n                  type=\"text\"\n                  value={productForm.name_uz}\n                  onChange={(e) => setProductForm({ ...productForm, name_uz: e.target.value })}\n                  className=\"w-full p-3 border rounded-xl\"\n                  required\n                />\n              </div>\n\n              {/* Description RU */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {language === 'ru' ? '–û–ø–∏—Å–∞–Ω–∏–µ (RU)' : 'Tavsif (RU)'}\n                </label>\n                <textarea\n                  value={productForm.description_ru}\n                  onChange={(e) => setProductForm({ ...productForm, description_ru: e.target.value })}\n                  className=\"w-full p-3 border rounded-xl resize-none\"\n                  rows={2}\n                />\n              </div>\n\n              {/* Description UZ */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {language === 'ru' ? '–û–ø–∏—Å–∞–Ω–∏–µ (UZ)' : 'Tavsif (UZ)'}\n                </label>\n                <textarea\n                  value={productForm.description_uz}\n                  onChange={(e) => setProductForm({ ...productForm, description_uz: e.target.value })}\n                  className=\"w-full p-3 border rounded-xl resize-none\"\n                  rows={2}\n                />\n              </div>\n\n              {/* Price & Old Price */}\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? '–¶–µ–Ω–∞ (—Å—É–º)' : 'Narxi (so\\'m)'} *\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={productForm.price}\n                    onChange={(e) => setProductForm({ ...productForm, price: e.target.value })}\n                    className=\"w-full p-3 border rounded-xl\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? '–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞' : 'Eski narx'}\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={productForm.old_price}\n                    onChange={(e) => setProductForm({ ...productForm, old_price: e.target.value })}\n                    className=\"w-full p-3 border rounded-xl\"\n                  />\n                </div>\n              </div>\n\n              {/* Unit & Stock */}\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? '–ï–¥–∏–Ω–∏—Ü–∞' : 'Birlik'}\n                  </label>\n                  <select\n                    value={productForm.unit}\n                    onChange={(e) => setProductForm({ ...productForm, unit: e.target.value })}\n                    className=\"w-full p-3 border rounded-xl\"\n                  >\n                    <option value=\"—à—Ç\">—à—Ç</option>\n                    <option value=\"–∫–≥\">–∫–≥</option>\n                    <option value=\"–ª\">–ª</option>\n                    <option value=\"—É–ø\">—É–ø</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? '–ù–∞ —Å–∫–ª–∞–¥–µ' : 'Omborda'}\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={productForm.stock_quantity}\n                    onChange={(e) => setProductForm({ ...productForm, stock_quantity: e.target.value })}\n                    className=\"w-full p-3 border rounded-xl\"\n                  />\n                </div>\n              </div>\n\n              {/* Featured */}\n              <label className=\"flex items-center gap-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={productForm.is_featured}\n                  onChange={(e) => setProductForm({ ...productForm, is_featured: e.target.checked })}\n                  className=\"w-5 h-5 rounded border-gray-300\"\n                />\n                <span className=\"text-gray-700\">\n                  {language === 'ru' ? '–•–∏—Ç –ø—Ä–æ–¥–∞–∂ (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–≤—ã–º)' : 'Hit mahsulot (birinchi ko\\'rsatish)'}\n                </span>\n              </label>\n\n              {/* Save Button */}\n              <button\n                onClick={saveProduct}\n                disabled={!productForm.category_id || !productForm.name_ru || !productForm.name_uz || !productForm.price}\n                className=\"w-full py-3 bg-orange-600 text-white rounded-xl font-medium disabled:bg-gray-300 disabled:cursor-not-allowed\"\n              >\n                {editingProduct\n                  ? (language === 'ru' ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' : 'O\\'zgarishlarni saqlash')\n                  : (language === 'ru' ? '–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä' : 'Mahsulot qo\\'shish')}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stock Update Modal */}\n      {showStockModal && stockProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white w-full max-w-sm rounded-2xl\">\n            <div className=\"p-4 border-b flex items-center justify-between\">\n              <h2 className=\"font-bold text-lg\">\n                {language === 'ru' ? '–û–±–Ω–æ–≤–∏—Ç—å —Å–∫–ª–∞–¥' : 'Omborni yangilash'}\n              </h2>\n              <button\n                onClick={() => {\n                  setShowStockModal(false);\n                  setStockProduct(null);\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded-full\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-4 space-y-4\">\n              <div className=\"flex items-center gap-3 bg-gray-50 rounded-xl p-3\">\n                <span className=\"text-2xl\">{CATEGORY_ICONS[stockProduct.category_id] || 'üì¶'}</span>\n                <div>\n                  <p className=\"font-medium text-gray-900\">\n                    {language === 'ru' ? stockProduct.name_ru : stockProduct.name_uz}\n                  </p>\n                  <p className=\"text-sm text-gray-500\">\n                    {language === 'ru' ? '–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫:' : 'Joriy qoldiq:'} {stockProduct.stock_quantity} {stockProduct.unit}\n                  </p>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  {language === 'ru' ? '–ù–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ' : 'Yangi miqdor'}\n                </label>\n                <input\n                  type=\"number\"\n                  value={stockQuantity}\n                  onChange={(e) => setStockQuantity(e.target.value)}\n                  className=\"w-full p-3 border rounded-xl text-center text-xl font-bold\"\n                  min=\"0\"\n                />\n              </div>\n\n              <button\n                onClick={updateStock}\n                className=\"w-full py-3 bg-orange-600 text-white rounded-xl font-medium\"\n              >\n                {language === 'ru' ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å' : 'Saqlash'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["CATEGORY_ICONS","MarketplaceManagerDashboard","user","useAuthStore","language","useLanguageStore","activeTab","setActiveTab","useState","products","setProducts","categories","setCategories","loading","setLoading","searchQuery","setSearchQuery","categoryFilter","setCategoryFilter","showProductModal","setShowProductModal","editingProduct","setEditingProduct","productForm","setProductForm","showStockModal","setShowStockModal","stockProduct","setStockProduct","stockQuantity","setStockQuantity","fetchData","useCallback","productsRes","categoriesRes","apiRequest","useEffect","saveProduct","data","resetProductForm","updateStock","deleteProduct","productId","editProduct","product","filteredProducts","matchesCategory","matchesSearch","lowStockProducts","p","outOfStockProducts","formatPrice","price","tabs","Package","BarChart3","Filter","jsx","jsxs","AlertTriangle","TrendingUp","tab","Search","e","Plus","cat","Edit2","Trash2","category","X","ImagePlus"],"mappings":"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"}