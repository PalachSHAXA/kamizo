{"version":3,"file":"ManagerGuestAccessPage-1767960438672-CSrS6Ngk.js","sources":["../../src/pages/ManagerGuestAccessPage.tsx"],"sourcesContent":["import { useState } from 'react';\nimport {\n  QrCode, Search, Filter, X, Clock, CheckCircle, Ban, Package, Users, Car, User,\n  AlertTriangle, Calendar, Phone, MapPin, Eye, History\n} from 'lucide-react';\nimport { useAuthStore } from '../stores/authStore';\nimport { useDataStore } from '../stores/dataStore';\nimport { useLanguageStore } from '../stores/languageStore';\nimport {\n  VISITOR_TYPE_LABELS, GUEST_ACCESS_STATUS_LABELS,\n  type GuestAccessCode, type VisitorType, type GuestAccessStatus\n} from '../types';\n\nexport function ManagerGuestAccessPage() {\n  const { user } = useAuthStore();\n  const { getAllGuestAccessCodes, revokeGuestAccessCode, getGuestAccessStats, getGuestAccessLogs } = useDataStore();\n  const { language } = useLanguageStore();\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<GuestAccessStatus | 'all'>('all');\n  const [typeFilter, setTypeFilter] = useState<VisitorType | 'all'>('all');\n  const [selectedCode, setSelectedCode] = useState<GuestAccessCode | null>(null);\n  const [showRevokeModal, setShowRevokeModal] = useState<GuestAccessCode | null>(null);\n  const [revokeReason, setRevokeReason] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n\n  const allCodes = getAllGuestAccessCodes();\n  const stats = getGuestAccessStats();\n  const recentLogs = getGuestAccessLogs().slice(0, 10);\n\n  // Filter codes\n  const filteredCodes = allCodes.filter(code => {\n    // Status filter\n    if (statusFilter !== 'all' && code.status !== statusFilter) return false;\n\n    // Type filter\n    if (typeFilter !== 'all' && code.visitorType !== typeFilter) return false;\n\n    // Search filter\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      const matchesResident = code.residentName.toLowerCase().includes(query) ||\n                              code.residentApartment.toLowerCase().includes(query);\n      const matchesVisitor = (code.visitorName?.toLowerCase().includes(query)) ||\n                             (code.visitorPhone?.toLowerCase().includes(query));\n      if (!matchesResident && !matchesVisitor) return false;\n    }\n\n    return true;\n  });\n\n  const handleRevoke = () => {\n    if (!showRevokeModal || !user || !revokeReason.trim()) return;\n    revokeGuestAccessCode(\n      showRevokeModal.id,\n      user.id,\n      user.name,\n      user.role,\n      revokeReason.trim()\n    );\n    setShowRevokeModal(null);\n    setRevokeReason('');\n  };\n\n  const getVisitorIcon = (type: VisitorType) => {\n    switch (type) {\n      case 'courier': return <Package className=\"w-5 h-5\" />;\n      case 'guest': return <Users className=\"w-5 h-5\" />;\n      case 'taxi': return <Car className=\"w-5 h-5\" />;\n      default: return <User className=\"w-5 h-5\" />;\n    }\n  };\n\n  return (\n    <div className=\"space-y-4 md:space-y-6 pb-20 md:pb-0\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-xl md:text-2xl font-bold text-gray-900\">\n          {language === 'ru' ? 'Гостевые пропуска' : 'Mehmon ruxsatnomalari'}\n        </h1>\n        <p className=\"text-sm text-gray-500 mt-1\">\n          {language === 'ru'\n            ? 'Мониторинг и управление пропусками посетителей'\n            : 'Tashrif buyuruvchilar ruxsatnomalarini monitoring va boshqarish'}\n        </p>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n        <div className=\"glass-card p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center\">\n              <CheckCircle className=\"w-5 h-5 text-green-600\" />\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-green-600\">{stats.totalActive}</div>\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Активных' : 'Faol'}</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"glass-card p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center\">\n              <QrCode className=\"w-5 h-5 text-blue-600\" />\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-blue-600\">{stats.totalUsedToday}</div>\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Сегодня' : 'Bugun'}</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"glass-card p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center\">\n              <Calendar className=\"w-5 h-5 text-purple-600\" />\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-purple-600\">{stats.totalCreatedToday}</div>\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Создано' : 'Yaratilgan'}</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"glass-card p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center\">\n              <History className=\"w-5 h-5 text-gray-600\" />\n            </div>\n            <div>\n              <div className=\"text-2xl font-bold text-gray-600\">{allCodes.length}</div>\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Всего' : 'Jami'}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* By visitor type */}\n      <div className=\"grid grid-cols-4 gap-2\">\n        {(['courier', 'guest', 'taxi', 'other'] as VisitorType[]).map((type) => {\n          const label = VISITOR_TYPE_LABELS[type];\n          const count = stats.byVisitorType[type];\n          return (\n            <button\n              key={type}\n              onClick={() => setTypeFilter(typeFilter === type ? 'all' : type)}\n              className={`glass-card p-3 text-center transition-all ${\n                typeFilter === type ? 'ring-2 ring-primary-500' : ''\n              }`}\n            >\n              <div className=\"text-2xl mb-1\">{label.icon}</div>\n              <div className=\"font-bold\">{count}</div>\n              <div className=\"text-xs text-gray-500 truncate\">\n                {language === 'ru' ? label.label : label.labelUz}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n\n      {/* Search and filters */}\n      <div className=\"flex flex-col sm:flex-row gap-3\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            placeholder={language === 'ru' ? 'Поиск по жителю или гостю...' : 'Turar joy egasi yoki mehmon bo\\'yicha qidirish...'}\n            className=\"w-full pl-10 pr-4 py-3 bg-white/50 border-2 border-gray-200 rounded-xl focus:border-primary-500 focus:ring-0\"\n          />\n        </div>\n        <button\n          onClick={() => setShowFilters(!showFilters)}\n          className={`px-4 py-3 rounded-xl font-medium flex items-center gap-2 transition-colors ${\n            showFilters || statusFilter !== 'all' || typeFilter !== 'all'\n              ? 'bg-primary-500 text-gray-900'\n              : 'bg-white/50 text-gray-600 hover:bg-white'\n          }`}\n        >\n          <Filter className=\"w-5 h-5\" />\n          <span className=\"hidden sm:inline\">{language === 'ru' ? 'Фильтры' : 'Filtrlar'}</span>\n          {(statusFilter !== 'all' || typeFilter !== 'all') && (\n            <span className=\"w-5 h-5 bg-white/30 rounded-full text-xs flex items-center justify-center\">\n              {(statusFilter !== 'all' ? 1 : 0) + (typeFilter !== 'all' ? 1 : 0)}\n            </span>\n          )}\n        </button>\n      </div>\n\n      {/* Filter panel */}\n      {showFilters && (\n        <div className=\"glass-card p-4 space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"font-medium\">{language === 'ru' ? 'Фильтры' : 'Filtrlar'}</h3>\n            <button\n              onClick={() => {\n                setStatusFilter('all');\n                setTypeFilter('all');\n              }}\n              className=\"text-sm text-primary-600 hover:underline\"\n            >\n              {language === 'ru' ? 'Сбросить' : 'Tozalash'}\n            </button>\n          </div>\n\n          <div>\n            <label className=\"text-sm text-gray-500 mb-2 block\">\n              {language === 'ru' ? 'Статус' : 'Status'}\n            </label>\n            <div className=\"flex flex-wrap gap-2\">\n              {[\n                { value: 'all' as const, label: language === 'ru' ? 'Все' : 'Barchasi' },\n                { value: 'active' as const, label: language === 'ru' ? 'Активные' : 'Faol' },\n                { value: 'used' as const, label: language === 'ru' ? 'Использованные' : 'Ishlatilgan' },\n                { value: 'expired' as const, label: language === 'ru' ? 'Истекшие' : 'Muddati tugagan' },\n                { value: 'revoked' as const, label: language === 'ru' ? 'Отменённые' : 'Bekor qilingan' },\n              ].map(({ value, label }) => (\n                <button\n                  key={value}\n                  onClick={() => setStatusFilter(value)}\n                  className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\n                    statusFilter === value\n                      ? 'bg-primary-500 text-gray-900'\n                      : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                  }`}\n                >\n                  {label}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div>\n            <label className=\"text-sm text-gray-500 mb-2 block\">\n              {language === 'ru' ? 'Тип посетителя' : 'Tashrif buyuruvchi turi'}\n            </label>\n            <div className=\"flex flex-wrap gap-2\">\n              <button\n                onClick={() => setTypeFilter('all')}\n                className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\n                  typeFilter === 'all'\n                    ? 'bg-primary-500 text-gray-900'\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n              >\n                {language === 'ru' ? 'Все' : 'Barchasi'}\n              </button>\n              {(['courier', 'guest', 'taxi', 'other'] as VisitorType[]).map((type) => {\n                const label = VISITOR_TYPE_LABELS[type];\n                return (\n                  <button\n                    key={type}\n                    onClick={() => setTypeFilter(type)}\n                    className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${\n                      typeFilter === type\n                        ? 'bg-primary-500 text-gray-900'\n                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                    }`}\n                  >\n                    <span>{label.icon}</span>\n                    {language === 'ru' ? label.label : label.labelUz}\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Codes list */}\n      <div className=\"glass-card overflow-hidden\">\n        <div className=\"p-4 border-b flex items-center justify-between\">\n          <h3 className=\"font-bold\">\n            {language === 'ru' ? 'Пропуска' : 'Ruxsatnomalar'} ({filteredCodes.length})\n          </h3>\n        </div>\n\n        {filteredCodes.length === 0 ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            {language === 'ru' ? 'Пропуска не найдены' : 'Ruxsatnomalar topilmadi'}\n          </div>\n        ) : (\n          <div className=\"divide-y max-h-[600px] overflow-y-auto\">\n            {filteredCodes.map((code) => {\n              const visitorLabel = VISITOR_TYPE_LABELS[code.visitorType];\n              const statusLabel = GUEST_ACCESS_STATUS_LABELS[code.status];\n              const isActive = code.status === 'active';\n\n              return (\n                <div key={code.id} className=\"p-4 hover:bg-gray-50/50\">\n                  <div className=\"flex items-start gap-3\">\n                    {/* Icon */}\n                    <div className={`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${\n                      isActive ? 'bg-green-100 text-green-600' :\n                      code.status === 'used' ? 'bg-blue-100 text-blue-600' :\n                      code.status === 'revoked' ? 'bg-red-100 text-red-600' :\n                      'bg-gray-100 text-gray-600'\n                    }`}>\n                      {getVisitorIcon(code.visitorType)}\n                    </div>\n\n                    {/* Info */}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"font-medium truncate\">{code.residentName}</span>\n                        <span className={`px-2 py-0.5 text-xs rounded-full font-medium ${\n                          isActive ? 'bg-green-100 text-green-700' :\n                          code.status === 'used' ? 'bg-blue-100 text-blue-700' :\n                          code.status === 'revoked' ? 'bg-red-100 text-red-700' :\n                          'bg-gray-100 text-gray-700'\n                        }`}>\n                          {language === 'ru' ? statusLabel.label : statusLabel.labelUz}\n                        </span>\n                      </div>\n\n                      <div className=\"text-sm text-gray-600 flex items-center gap-1\">\n                        <MapPin className=\"w-3.5 h-3.5\" />\n                        {code.residentAddress}, {language === 'ru' ? 'кв.' : 'xona'} {code.residentApartment}\n                      </div>\n\n                      <div className=\"flex items-center gap-4 mt-1 text-sm text-gray-500\">\n                        <span className=\"flex items-center gap-1\">\n                          <span className=\"text-base\">{visitorLabel.icon}</span>\n                          {code.visitorName || (language === 'ru' ? visitorLabel.label : visitorLabel.labelUz)}\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <Clock className=\"w-3.5 h-3.5\" />\n                          {new Date(code.validUntil).toLocaleDateString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\n                        </span>\n                      </div>\n\n                      {code.revocationReason && (\n                        <div className=\"mt-2 text-xs text-red-600 bg-red-50 px-2 py-1 rounded inline-block\">\n                          {language === 'ru' ? 'Причина' : 'Sabab'}: {code.revocationReason}\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Actions */}\n                    <div className=\"flex items-center gap-1\">\n                      <button\n                        onClick={() => setSelectedCode(code)}\n                        className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\"\n                        title={language === 'ru' ? 'Подробнее' : 'Batafsil'}\n                      >\n                        <Eye className=\"w-4 h-4\" />\n                      </button>\n                      {isActive && (\n                        <button\n                          onClick={() => setShowRevokeModal(code)}\n                          className=\"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\n                          title={language === 'ru' ? 'Отменить' : 'Bekor qilish'}\n                        >\n                          <Ban className=\"w-4 h-4\" />\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Recent activity */}\n      {recentLogs.length > 0 && (\n        <div className=\"glass-card overflow-hidden\">\n          <div className=\"p-4 border-b\">\n            <h3 className=\"font-bold\">{language === 'ru' ? 'Последняя активность' : 'So\\'nggi faoliyat'}</h3>\n          </div>\n          <div className=\"divide-y\">\n            {recentLogs.slice(0, 5).map((log) => {\n              const isAllowed = log.action === 'entry_allowed';\n              const isDenied = log.action === 'entry_denied';\n\n              return (\n                <div key={log.id} className=\"p-3 flex items-center gap-3\">\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${\n                    isAllowed ? 'bg-green-100 text-green-600' :\n                    isDenied ? 'bg-red-100 text-red-600' :\n                    'bg-amber-100 text-amber-600'\n                  }`}>\n                    {isAllowed ? <CheckCircle className=\"w-4 h-4\" /> :\n                     isDenied ? <Ban className=\"w-4 h-4\" /> :\n                     <AlertTriangle className=\"w-4 h-4\" />}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"text-sm\">\n                      <span className=\"font-medium\">{log.residentName}</span>\n                      <span className=\"text-gray-500\"> - {language === 'ru' ? 'кв.' : 'xona'} {log.residentApartment}</span>\n                    </div>\n                    <div className=\"text-xs text-gray-400\">\n                      {new Date(log.timestamp).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\n                    </div>\n                  </div>\n                  <span className=\"text-lg\">{VISITOR_TYPE_LABELS[log.visitorType].icon}</span>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Detail modal */}\n      {selectedCode && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-4 border-b flex items-center justify-between\">\n              <h2 className=\"text-lg font-bold\">\n                {language === 'ru' ? 'Детали пропуска' : 'Ruxsatnoma tafsilotlari'}\n              </h2>\n              <button onClick={() => setSelectedCode(null)} className=\"p-2 hover:bg-gray-100 rounded-xl\">\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"p-4 space-y-4\">\n              {/* Status */}\n              <div className={`p-4 rounded-xl ${\n                selectedCode.status === 'active' ? 'bg-green-50' :\n                selectedCode.status === 'used' ? 'bg-blue-50' :\n                selectedCode.status === 'revoked' ? 'bg-red-50' :\n                'bg-gray-50'\n              }`}>\n                <div className=\"flex items-center gap-3\">\n                  <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\n                    selectedCode.status === 'active' ? 'bg-green-200 text-green-700' :\n                    selectedCode.status === 'used' ? 'bg-blue-200 text-blue-700' :\n                    selectedCode.status === 'revoked' ? 'bg-red-200 text-red-700' :\n                    'bg-gray-200 text-gray-700'\n                  }`}>\n                    {getVisitorIcon(selectedCode.visitorType)}\n                  </div>\n                  <div>\n                    <div className=\"font-bold\">\n                      {language === 'ru'\n                        ? VISITOR_TYPE_LABELS[selectedCode.visitorType].label\n                        : VISITOR_TYPE_LABELS[selectedCode.visitorType].labelUz}\n                    </div>\n                    <div className={`text-sm ${\n                      selectedCode.status === 'active' ? 'text-green-600' :\n                      selectedCode.status === 'used' ? 'text-blue-600' :\n                      selectedCode.status === 'revoked' ? 'text-red-600' :\n                      'text-gray-600'\n                    }`}>\n                      {language === 'ru'\n                        ? GUEST_ACCESS_STATUS_LABELS[selectedCode.status].label\n                        : GUEST_ACCESS_STATUS_LABELS[selectedCode.status].labelUz}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Resident */}\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-500 mb-2\">\n                  {language === 'ru' ? 'Житель' : 'Turar joy egasi'}\n                </h4>\n                <div className=\"bg-gray-50 rounded-xl p-3 space-y-1\">\n                  <div className=\"font-medium\">{selectedCode.residentName}</div>\n                  <div className=\"text-sm text-gray-600 flex items-center gap-1\">\n                    <MapPin className=\"w-4 h-4\" />\n                    {selectedCode.residentAddress}, {language === 'ru' ? 'кв.' : 'xona'} {selectedCode.residentApartment}\n                  </div>\n                  <div className=\"text-sm text-gray-600 flex items-center gap-1\">\n                    <Phone className=\"w-4 h-4\" />\n                    {selectedCode.residentPhone}\n                  </div>\n                </div>\n              </div>\n\n              {/* Visitor */}\n              {(selectedCode.visitorName || selectedCode.visitorPhone || selectedCode.visitorVehiclePlate) && (\n                <div>\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-2\">\n                    {language === 'ru' ? 'Посетитель' : 'Tashrif buyuruvchi'}\n                  </h4>\n                  <div className=\"bg-gray-50 rounded-xl p-3 space-y-1\">\n                    {selectedCode.visitorName && (\n                      <div className=\"font-medium\">{selectedCode.visitorName}</div>\n                    )}\n                    {selectedCode.visitorPhone && (\n                      <div className=\"text-sm text-gray-600 flex items-center gap-1\">\n                        <Phone className=\"w-4 h-4\" />\n                        {selectedCode.visitorPhone}\n                      </div>\n                    )}\n                    {selectedCode.visitorVehiclePlate && (\n                      <div className=\"text-sm text-gray-600 flex items-center gap-1\">\n                        <Car className=\"w-4 h-4\" />\n                        {selectedCode.visitorVehiclePlate}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Dates */}\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div className=\"bg-gray-50 rounded-xl p-3\">\n                  <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Создан' : 'Yaratilgan'}</div>\n                  <div className=\"font-medium text-sm\">\n                    {new Date(selectedCode.createdAt).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\n                  </div>\n                </div>\n                <div className=\"bg-gray-50 rounded-xl p-3\">\n                  <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Действует до' : 'Gacha amal qiladi'}</div>\n                  <div className=\"font-medium text-sm\">\n                    {new Date(selectedCode.validUntil).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\n                  </div>\n                </div>\n              </div>\n\n              {/* Usage */}\n              {selectedCode.accessType !== 'single_use' && (\n                <div className=\"bg-gray-50 rounded-xl p-3\">\n                  <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Использований' : 'Ishlatilgan'}</div>\n                  <div className=\"font-medium\">\n                    {selectedCode.currentUses} / {selectedCode.maxUses === 999 ? '∞' : selectedCode.maxUses}\n                  </div>\n                </div>\n              )}\n\n              {/* Revocation info */}\n              {selectedCode.status === 'revoked' && (\n                <div className=\"bg-red-50 rounded-xl p-3 space-y-1\">\n                  <div className=\"text-xs text-red-500\">{language === 'ru' ? 'Отменено' : 'Bekor qilingan'}</div>\n                  <div className=\"font-medium text-red-700\">{selectedCode.revokedByName}</div>\n                  <div className=\"text-sm text-red-600\">{selectedCode.revocationReason}</div>\n                  {selectedCode.revokedAt && (\n                    <div className=\"text-xs text-red-400\">\n                      {new Date(selectedCode.revokedAt).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Notes */}\n              {selectedCode.notes && (\n                <div className=\"bg-blue-50 rounded-xl p-3\">\n                  <div className=\"text-xs text-blue-500\">{language === 'ru' ? 'Примечание' : 'Izoh'}</div>\n                  <div className=\"text-sm text-blue-700\">{selectedCode.notes}</div>\n                </div>\n              )}\n\n              {/* Actions */}\n              {selectedCode.status === 'active' && (\n                <button\n                  onClick={() => {\n                    setSelectedCode(null);\n                    setShowRevokeModal(selectedCode);\n                  }}\n                  className=\"w-full py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-bold flex items-center justify-center gap-2\"\n                >\n                  <Ban className=\"w-5 h-5\" />\n                  {language === 'ru' ? 'Отменить пропуск' : 'Ruxsatnomani bekor qilish'}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Revoke modal */}\n      {showRevokeModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl max-w-md w-full p-6\">\n            <div className=\"text-center mb-4\">\n              <div className=\"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center\">\n                <AlertTriangle className=\"w-8 h-8 text-red-600\" />\n              </div>\n              <h3 className=\"text-lg font-bold mb-2\">\n                {language === 'ru' ? 'Отменить пропуск?' : 'Ruxsatnomani bekor qilasizmi?'}\n              </h3>\n              <p className=\"text-gray-600 text-sm mb-4\">\n                {language === 'ru'\n                  ? `Пропуск для ${showRevokeModal.residentName} (кв. ${showRevokeModal.residentApartment})`\n                  : `${showRevokeModal.residentName} (${showRevokeModal.residentApartment}-xona) uchun ruxsatnoma`}\n              </p>\n            </div>\n\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                {language === 'ru' ? 'Причина отмены *' : 'Bekor qilish sababi *'}\n              </label>\n              <textarea\n                value={revokeReason}\n                onChange={(e) => setRevokeReason(e.target.value)}\n                placeholder={language === 'ru' ? 'Укажите причину...' : 'Sababni kiriting...'}\n                rows={3}\n                className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500 focus:ring-0 resize-none\"\n              />\n            </div>\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => {\n                  setShowRevokeModal(null);\n                  setRevokeReason('');\n                }}\n                className=\"flex-1 py-3 border-2 border-gray-200 rounded-xl font-medium hover:bg-gray-50\"\n              >\n                {language === 'ru' ? 'Отмена' : 'Bekor qilish'}\n              </button>\n              <button\n                onClick={handleRevoke}\n                disabled={!revokeReason.trim()}\n                className=\"flex-1 py-3 bg-red-500 hover:bg-red-600 disabled:bg-gray-300 text-white rounded-xl font-bold\"\n              >\n                {language === 'ru' ? 'Отменить пропуск' : 'Bekor qilish'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["ManagerGuestAccessPage","user","useAuthStore","getAllGuestAccessCodes","revokeGuestAccessCode","getGuestAccessStats","getGuestAccessLogs","useDataStore","language","useLanguageStore","searchQuery","setSearchQuery","useState","statusFilter","setStatusFilter","typeFilter","setTypeFilter","selectedCode","setSelectedCode","showRevokeModal","setShowRevokeModal","revokeReason","setRevokeReason","showFilters","setShowFilters","allCodes","stats","recentLogs","filteredCodes","code","query","matchesResident","matchesVisitor","handleRevoke","getVisitorIcon","type","jsx","Package","Users","Car","User","jsxs","CheckCircle","QrCode","Calendar","History","label","VISITOR_TYPE_LABELS","count","Search","e","Filter","value","visitorLabel","statusLabel","GUEST_ACCESS_STATUS_LABELS","isActive","MapPin","Clock","Eye","Ban","log","isAllowed","isDenied","AlertTriangle","X","Phone"],"mappings":"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"}