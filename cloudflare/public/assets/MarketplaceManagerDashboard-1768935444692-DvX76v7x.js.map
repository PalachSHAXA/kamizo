{"version":3,"file":"MarketplaceManagerDashboard-1768935444692-DvX76v7x.js","sources":["../../src/pages/MarketplaceManagerDashboard.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Package, Plus, Edit2, Trash2, Search, Filter,\r\n  X, TrendingUp, AlertTriangle, BarChart3, ImagePlus, Upload, Link\r\n} from 'lucide-react';\r\nimport { useAuthStore } from '../stores/authStore';\r\nimport { useLanguageStore } from '../stores/languageStore';\r\nimport { apiRequest } from '../services/api';\r\n\r\n// Types for API responses (snake_case from backend)\r\ninterface MarketplaceCategoryAPI {\r\n  id: string;\r\n  name_ru: string;\r\n  name_uz: string;\r\n  icon?: string;\r\n  sort_order: number;\r\n  is_active: boolean;\r\n  created_at: string;\r\n}\r\n\r\ninterface MarketplaceProductAPI {\r\n  id: string;\r\n  category_id: string;\r\n  name_ru: string;\r\n  name_uz: string;\r\n  description_ru?: string;\r\n  description_uz?: string;\r\n  price: number;\r\n  old_price?: number;\r\n  unit: string;\r\n  stock_quantity: number;\r\n  image_url?: string;\r\n  is_active: boolean;\r\n  is_featured: boolean;\r\n  created_at: string;\r\n}\r\n\r\nconst CATEGORY_ICONS: Record<string, string> = {\r\n  cat_groceries: 'üõí',\r\n  cat_dairy: 'ü•õ',\r\n  cat_meat: 'ü•©',\r\n  cat_bakery: 'üçû',\r\n  cat_fruits: 'üçé',\r\n  cat_beverages: 'ü•§',\r\n  cat_household: 'üßπ',\r\n  cat_personal: 'üß¥',\r\n  cat_baby: 'üë∂',\r\n  cat_pets: 'üêæ',\r\n  cat_frozen: '‚ùÑÔ∏è',\r\n  cat_snacks: 'üçø',\r\n};\r\n\r\nexport function MarketplaceManagerDashboard() {\r\n  const { user } = useAuthStore();\r\n  const { language } = useLanguageStore();\r\n\r\n  const [activeTab, setActiveTab] = useState<'products' | 'categories' | 'stock'>('products');\r\n  const [products, setProducts] = useState<MarketplaceProductAPI[]>([]);\r\n  const [categories, setCategories] = useState<MarketplaceCategoryAPI[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [categoryFilter, setCategoryFilter] = useState<string>('all');\r\n\r\n  // Product modal\r\n  const [showProductModal, setShowProductModal] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState<MarketplaceProductAPI | null>(null);\r\n  const [productForm, setProductForm] = useState({\r\n    category_id: '',\r\n    name_ru: '',\r\n    name_uz: '',\r\n    description_ru: '',\r\n    description_uz: '',\r\n    price: '',\r\n    old_price: '',\r\n    unit: '—à—Ç',\r\n    stock_quantity: '',\r\n    image_url: '',\r\n    is_featured: false,\r\n  });\r\n\r\n  // Stock update modal\r\n  const [showStockModal, setShowStockModal] = useState(false);\r\n  const [stockProduct, setStockProduct] = useState<MarketplaceProductAPI | null>(null);\r\n  const [stockQuantity, setStockQuantity] = useState('');\r\n\r\n  // Image upload\r\n  const [imageMode, setImageMode] = useState<'url' | 'file'>('url');\r\n  const [uploadingImage, setUploadingImage] = useState(false);\r\n\r\n  // Handle image file upload\r\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      alert(language === 'ru'\r\n        ? '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞. –†–∞–∑—Ä–µ—à–µ–Ω—ã: JPEG, PNG, GIF, WEBP'\r\n        : 'Noto\\'g\\'ri fayl formati. Ruxsat etilgan: JPEG, PNG, GIF, WEBP');\r\n      return;\r\n    }\r\n\r\n    // Max 5MB\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      alert(language === 'ru'\r\n        ? '–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º—É–º: 5–ú–ë'\r\n        : 'Fayl juda katta. Maksimum: 5MB');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setUploadingImage(true);\r\n      const formData = new FormData();\r\n      formData.append('image', file);\r\n\r\n      const token = localStorage.getItem('auth_token');\r\n      const response = await fetch('/api/marketplace/admin/upload-image', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Upload failed');\r\n      }\r\n\r\n      const result = await response.json();\r\n      setProductForm({ ...productForm, image_url: result.image_url });\r\n    } catch (error) {\r\n      console.error('Image upload error:', error);\r\n      alert(language === 'ru'\r\n        ? '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è'\r\n        : 'Rasm yuklashda xato');\r\n    } finally {\r\n      setUploadingImage(false);\r\n    }\r\n  };\r\n\r\n  // Fetch data\r\n  const fetchData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [productsRes, categoriesRes] = await Promise.all([\r\n        apiRequest<{ products: MarketplaceProductAPI[] }>('/api/marketplace/admin/products'),\r\n        apiRequest<{ categories: MarketplaceCategoryAPI[] }>('/api/marketplace/categories'),\r\n      ]);\r\n\r\n      setProducts(productsRes?.products || []);\r\n      setCategories(categoriesRes?.categories || []);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  // Save product\r\n  const saveProduct = async () => {\r\n    try {\r\n      const data = {\r\n        ...productForm,\r\n        price: parseFloat(productForm.price),\r\n        old_price: productForm.old_price ? parseFloat(productForm.old_price) : null,\r\n        stock_quantity: parseInt(productForm.stock_quantity) || 0,\r\n        image_url: productForm.image_url || null,\r\n      };\r\n\r\n      if (editingProduct) {\r\n        await apiRequest(`/api/marketplace/admin/products/${editingProduct.id}`, {\r\n          method: 'PATCH',\r\n          body: JSON.stringify(data),\r\n        });\r\n      } else {\r\n        await apiRequest('/api/marketplace/admin/products', {\r\n          method: 'POST',\r\n          body: JSON.stringify(data),\r\n        });\r\n      }\r\n\r\n      await fetchData();\r\n      setShowProductModal(false);\r\n      resetProductForm();\r\n    } catch (error) {\r\n      console.error('Error saving product:', error);\r\n    }\r\n  };\r\n\r\n  // Update stock\r\n  const updateStock = async () => {\r\n    if (!stockProduct) return;\r\n    try {\r\n      await apiRequest(`/api/marketplace/admin/products/${stockProduct.id}`, {\r\n        method: 'PATCH',\r\n        body: JSON.stringify({ stock_quantity: parseInt(stockQuantity) || 0 }),\r\n      });\r\n      await fetchData();\r\n      setShowStockModal(false);\r\n      setStockProduct(null);\r\n      setStockQuantity('');\r\n    } catch (error) {\r\n      console.error('Error updating stock:', error);\r\n    }\r\n  };\r\n\r\n  // Delete product\r\n  const deleteProduct = async (productId: string) => {\r\n    if (!confirm(language === 'ru' ? '–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä?' : 'Mahsulotni o\\'chirmoqchimisiz?')) return;\r\n    try {\r\n      await apiRequest(`/api/marketplace/admin/products/${productId}`, { method: 'DELETE' });\r\n      await fetchData();\r\n    } catch (error) {\r\n      console.error('Error deleting product:', error);\r\n    }\r\n  };\r\n\r\n  // Edit product\r\n  const editProduct = (product: MarketplaceProductAPI) => {\r\n    setEditingProduct(product);\r\n    // Set image mode based on whether it's a data URL or external URL\r\n    setImageMode(product.image_url?.startsWith('data:') ? 'file' : 'url');\r\n    setProductForm({\r\n      category_id: product.category_id,\r\n      name_ru: product.name_ru,\r\n      name_uz: product.name_uz,\r\n      description_ru: product.description_ru || '',\r\n      description_uz: product.description_uz || '',\r\n      price: product.price.toString(),\r\n      old_price: product.old_price?.toString() || '',\r\n      unit: product.unit || '—à—Ç',\r\n      stock_quantity: product.stock_quantity?.toString() || '0',\r\n      image_url: product.image_url || '',\r\n      is_featured: product.is_featured || false,\r\n    });\r\n    setShowProductModal(true);\r\n  };\r\n\r\n  const resetProductForm = () => {\r\n    setEditingProduct(null);\r\n    setImageMode('url');\r\n    setProductForm({\r\n      category_id: '',\r\n      name_ru: '',\r\n      name_uz: '',\r\n      description_ru: '',\r\n      description_uz: '',\r\n      price: '',\r\n      old_price: '',\r\n      unit: '—à—Ç',\r\n      stock_quantity: '',\r\n      image_url: '',\r\n      is_featured: false,\r\n    });\r\n  };\r\n\r\n  // Filter products\r\n  const filteredProducts = products.filter(product => {\r\n    const matchesCategory = categoryFilter === 'all' || product.category_id === categoryFilter;\r\n    const matchesSearch = !searchQuery ||\r\n      product.name_ru.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      product.name_uz.toLowerCase().includes(searchQuery.toLowerCase());\r\n    return matchesCategory && matchesSearch;\r\n  });\r\n\r\n  // Low stock products (less than 10)\r\n  const lowStockProducts = products.filter(p => p.stock_quantity < 10 && p.stock_quantity > 0);\r\n  const outOfStockProducts = products.filter(p => p.stock_quantity === 0);\r\n\r\n  const formatPrice = (price: number) => {\r\n    return new Intl.NumberFormat('ru-RU').format(price) + ' —Å—É–º';\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'products' as const, label: language === 'ru' ? '–¢–æ–≤–∞—Ä—ã' : 'Mahsulotlar', icon: Package, count: products.length },\r\n    { id: 'stock' as const, label: language === 'ru' ? '–°–∫–ª–∞–¥' : 'Ombor', icon: BarChart3, count: lowStockProducts.length + outOfStockProducts.length },\r\n    { id: 'categories' as const, label: language === 'ru' ? '–ö–∞—Ç–µ–≥–æ—Ä–∏–∏' : 'Kategoriyalar', icon: Filter },\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b px-4 py-4\">\r\n        <h1 className=\"text-xl font-bold text-gray-900\">\r\n          {language === 'ru' ? '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏' : 'Mahsulotlarni boshqarish'}\r\n        </h1>\r\n        <p className=\"text-sm text-gray-500 mt-1\">\r\n          {language === 'ru' ? '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å,' : 'Xush kelibsiz,'} {user?.name}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-3 gap-3 p-4\">\r\n        <div className=\"bg-white rounded-xl p-3 shadow-sm\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"p-2 bg-orange-100 rounded-lg\">\r\n              <Package className=\"w-4 h-4 text-orange-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xl font-bold text-gray-900\">{products.length}</p>\r\n              <p className=\"text-xs text-gray-500\">{language === 'ru' ? '–¢–æ–≤–∞—Ä–æ–≤' : 'Mahsulot'}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-white rounded-xl p-3 shadow-sm\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n              <AlertTriangle className=\"w-4 h-4 text-yellow-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xl font-bold text-gray-900\">{lowStockProducts.length}</p>\r\n              <p className=\"text-xs text-gray-500\">{language === 'ru' ? '–ú–∞–ª–æ' : 'Kam'}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"bg-white rounded-xl p-3 shadow-sm\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"p-2 bg-red-100 rounded-lg\">\r\n              <TrendingUp className=\"w-4 h-4 text-red-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-xl font-bold text-gray-900\">{outOfStockProducts.length}</p>\r\n              <p className=\"text-xs text-gray-500\">{language === 'ru' ? '–ù–µ—Ç' : 'Yo\\'q'}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"bg-white border-b sticky top-0 z-40\">\r\n        <div className=\"flex overflow-x-auto\">\r\n          {tabs.map(tab => (\r\n            <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={`flex-1 min-w-0 py-3 px-4 flex items-center justify-center gap-2 border-b-2 transition-colors ${\r\n                activeTab === tab.id\r\n                  ? 'border-orange-600 text-orange-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\r\n              }`}\r\n            >\r\n              <tab.icon className=\"w-5 h-5\" />\r\n              <span className=\"text-sm font-medium truncate\">{tab.label}</span>\r\n              {tab.count !== undefined && tab.count > 0 && (\r\n                <span className={`text-xs px-2 py-0.5 rounded-full ${\r\n                  tab.id === 'stock' ? 'bg-red-100 text-red-700' : 'bg-orange-100 text-orange-700'\r\n                }`}>\r\n                  {tab.count}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"p-4 pb-20\">\r\n        {/* Products Tab */}\r\n        {activeTab === 'products' && (\r\n          <div>\r\n            <div className=\"flex gap-2 mb-4\">\r\n              <div className=\"relative flex-1\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder={language === 'ru' ? '–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...' : 'Mahsulot qidirish...'}\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-orange-500\"\r\n                />\r\n              </div>\r\n              <button\r\n                onClick={() => {\r\n                  resetProductForm();\r\n                  setShowProductModal(true);\r\n                }}\r\n                className=\"px-4 py-2.5 bg-orange-600 text-white rounded-xl font-medium flex items-center gap-2\"\r\n              >\r\n                <Plus className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Category filter */}\r\n            <div className=\"flex gap-2 mb-4 overflow-x-auto pb-2\">\r\n              <button\r\n                onClick={() => setCategoryFilter('all')}\r\n                className={`px-3 py-1.5 rounded-full text-sm whitespace-nowrap ${\r\n                  categoryFilter === 'all'\r\n                    ? 'bg-orange-600 text-white'\r\n                    : 'bg-gray-100 text-gray-600'\r\n                }`}\r\n              >\r\n                {language === 'ru' ? '–í—Å–µ' : 'Hammasi'}\r\n              </button>\r\n              {categories.map(cat => (\r\n                <button\r\n                  key={cat.id}\r\n                  onClick={() => setCategoryFilter(cat.id)}\r\n                  className={`px-3 py-1.5 rounded-full text-sm whitespace-nowrap flex items-center gap-1 ${\r\n                    categoryFilter === cat.id\r\n                      ? 'bg-orange-600 text-white'\r\n                      : 'bg-gray-100 text-gray-600'\r\n                  }`}\r\n                >\r\n                  <span>{CATEGORY_ICONS[cat.id] || 'üì¶'}</span>\r\n                  <span>{language === 'ru' ? cat.name_ru : cat.name_uz}</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              {filteredProducts.map(product => (\r\n                <div key={product.id} className=\"bg-white rounded-xl p-4 shadow-sm\">\r\n                  <div className=\"flex gap-3\">\r\n                    <div className=\"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden\">\r\n                      {product.image_url ? (\r\n                        <img src={product.image_url} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                      ) : (\r\n                        <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h3 className=\"font-medium text-gray-900 line-clamp-1\">\r\n                        {language === 'ru' ? product.name_ru : product.name_uz}\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {categories.find(c => c.id === product.category_id)?.[language === 'ru' ? 'name_ru' : 'name_uz']}\r\n                      </p>\r\n                      <div className=\"flex items-center gap-2 mt-1\">\r\n                        <span className=\"font-bold text-orange-600\">{formatPrice(product.price)}</span>\r\n                        {product.old_price && (\r\n                          <span className=\"text-xs text-gray-400 line-through\">{formatPrice(product.old_price)}</span>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 mt-1\">\r\n                        <span className={`text-xs px-2 py-0.5 rounded-full ${\r\n                          product.stock_quantity > 10\r\n                            ? 'bg-green-100 text-green-700'\r\n                            : product.stock_quantity > 0\r\n                            ? 'bg-yellow-100 text-yellow-700'\r\n                            : 'bg-red-100 text-red-700'\r\n                        }`}>\r\n                          {product.stock_quantity} {product.unit}\r\n                        </span>\r\n                        {product.is_featured && (\r\n                          <span className=\"text-xs px-2 py-0.5 rounded-full bg-orange-100 text-orange-700\">\r\n                            {language === 'ru' ? '–•–∏—Ç' : 'Hit'}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col gap-2\">\r\n                      <button\r\n                        onClick={() => editProduct(product)}\r\n                        className=\"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg\"\r\n                      >\r\n                        <Edit2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => deleteProduct(product.id)}\r\n                        className=\"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              {filteredProducts.length === 0 && (\r\n                <div className=\"text-center py-12\">\r\n                  <Package className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\r\n                  <p className=\"text-gray-500\">\r\n                    {language === 'ru' ? '–¢–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç' : 'Mahsulotlar yo\\'q'}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Stock Tab */}\r\n        {activeTab === 'stock' && (\r\n          <div className=\"space-y-4\">\r\n            {/* Out of stock */}\r\n            {outOfStockProducts.length > 0 && (\r\n              <div>\r\n                <h3 className=\"font-bold text-red-600 mb-3 flex items-center gap-2\">\r\n                  <AlertTriangle className=\"w-5 h-5\" />\r\n                  {language === 'ru' ? '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' : 'Mavjud emas'}\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  {outOfStockProducts.map(product => (\r\n                    <div key={product.id} className=\"bg-red-50 rounded-xl p-3 flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">\r\n                            {language === 'ru' ? product.name_ru : product.name_uz}\r\n                          </p>\r\n                          <p className=\"text-sm text-red-600\">0 {product.unit}</p>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => {\r\n                          setStockProduct(product);\r\n                          setStockQuantity(product.stock_quantity.toString());\r\n                          setShowStockModal(true);\r\n                        }}\r\n                        className=\"px-3 py-1.5 bg-red-600 text-white rounded-lg text-sm font-medium\"\r\n                      >\r\n                        {language === 'ru' ? '–ü–æ–ø–æ–ª–Ω–∏—Ç—å' : 'To\\'ldirish'}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Low stock */}\r\n            {lowStockProducts.length > 0 && (\r\n              <div>\r\n                <h3 className=\"font-bold text-yellow-600 mb-3 flex items-center gap-2\">\r\n                  <AlertTriangle className=\"w-5 h-5\" />\r\n                  {language === 'ru' ? '–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è' : 'Tugab qolmoqda'}\r\n                </h3>\r\n                <div className=\"space-y-2\">\r\n                  {lowStockProducts.map(product => (\r\n                    <div key={product.id} className=\"bg-yellow-50 rounded-xl p-3 flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">\r\n                            {language === 'ru' ? product.name_ru : product.name_uz}\r\n                          </p>\r\n                          <p className=\"text-sm text-yellow-600\">{product.stock_quantity} {product.unit}</p>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        onClick={() => {\r\n                          setStockProduct(product);\r\n                          setStockQuantity(product.stock_quantity.toString());\r\n                          setShowStockModal(true);\r\n                        }}\r\n                        className=\"px-3 py-1.5 bg-yellow-600 text-white rounded-lg text-sm font-medium\"\r\n                      >\r\n                        {language === 'ru' ? '–ü–æ–ø–æ–ª–Ω–∏—Ç—å' : 'To\\'ldirish'}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* All products stock */}\r\n            <div>\r\n              <h3 className=\"font-bold text-gray-900 mb-3\">\r\n                {language === 'ru' ? '–í—Å–µ —Ç–æ–≤–∞—Ä—ã' : 'Barcha mahsulotlar'}\r\n              </h3>\r\n              <div className=\"space-y-2\">\r\n                {products.filter(p => p.stock_quantity >= 10).map(product => (\r\n                  <div key={product.id} className=\"bg-white rounded-xl p-3 flex items-center justify-between shadow-sm\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <span className=\"text-2xl\">{CATEGORY_ICONS[product.category_id] || 'üì¶'}</span>\r\n                      <div>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {language === 'ru' ? product.name_ru : product.name_uz}\r\n                        </p>\r\n                        <p className=\"text-sm text-green-600\">{product.stock_quantity} {product.unit}</p>\r\n                      </div>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => {\r\n                        setStockProduct(product);\r\n                        setStockQuantity(product.stock_quantity.toString());\r\n                        setShowStockModal(true);\r\n                      }}\r\n                      className=\"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium\"\r\n                    >\r\n                      {language === 'ru' ? '–ò–∑–º–µ–Ω–∏—Ç—å' : 'O\\'zgartirish'}\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {products.length === 0 && (\r\n              <div className=\"text-center py-12\">\r\n                <Package className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\r\n                <p className=\"text-gray-500\">\r\n                  {language === 'ru' ? '–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤' : 'Mahsulotlar yo\\'q'}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Categories Tab */}\r\n        {activeTab === 'categories' && (\r\n          <div className=\"space-y-3\">\r\n            {categories.map(category => (\r\n              <div key={category.id} className=\"bg-white rounded-xl p-4 shadow-sm flex items-center gap-4\">\r\n                <span className=\"text-3xl\">{CATEGORY_ICONS[category.id] || 'üì¶'}</span>\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-medium text-gray-900\">\r\n                    {language === 'ru' ? category.name_ru : category.name_uz}\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {products.filter(p => p.category_id === category.id).length} {language === 'ru' ? '—Ç–æ–≤–∞—Ä–æ–≤' : 'mahsulot'}\r\n                  </p>\r\n                </div>\r\n                <span className={`px-3 py-1 rounded-full text-sm ${\r\n                  category.is_active ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-500'\r\n                }`}>\r\n                  {category.is_active ? (language === 'ru' ? '–ê–∫—Ç–∏–≤–Ω–∞' : 'Faol') : (language === 'ru' ? '–ù–µ–∞–∫—Ç–∏–≤–Ω–∞' : 'Nofaol')}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Product Modal */}\r\n      {showProductModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n          <div className=\"bg-white w-full max-w-lg rounded-2xl max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"sticky top-0 bg-white p-4 border-b flex items-center justify-between z-10\">\r\n              <h2 className=\"font-bold text-lg\">\r\n                {editingProduct\r\n                  ? (language === 'ru' ? '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä' : 'Mahsulotni tahrirlash')\r\n                  : (language === 'ru' ? '–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä' : 'Mahsulot qo\\'shish')}\r\n              </h2>\r\n              <button\r\n                onClick={() => setShowProductModal(false)}\r\n                className=\"p-2 hover:bg-gray-100 rounded-full\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-4 space-y-4\">\r\n              {/* Category */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {language === 'ru' ? '–ö–∞—Ç–µ–≥–æ—Ä–∏—è' : 'Kategoriya'} *\r\n                </label>\r\n                <select\r\n                  value={productForm.category_id}\r\n                  onChange={(e) => setProductForm({ ...productForm, category_id: e.target.value })}\r\n                  className=\"w-full p-3 border rounded-xl\"\r\n                  required\r\n                >\r\n                  <option value=\"\">{language === 'ru' ? '–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é' : 'Kategoriya tanlang'}</option>\r\n                  {categories.map(cat => (\r\n                    <option key={cat.id} value={cat.id}>\r\n                      {CATEGORY_ICONS[cat.id] || 'üì¶'} {language === 'ru' ? cat.name_ru : cat.name_uz}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Image Upload */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  <ImagePlus className=\"w-4 h-4 inline mr-1\" />\r\n                  {language === 'ru' ? '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞' : 'Mahsulot rasmi'}\r\n                </label>\r\n\r\n                {/* Mode toggle */}\r\n                <div className=\"flex gap-2 mb-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setImageMode('file')}\r\n                    className={`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg border transition-colors ${\r\n                      imageMode === 'file'\r\n                        ? 'bg-orange-50 border-orange-300 text-orange-700'\r\n                        : 'bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100'\r\n                    }`}\r\n                  >\r\n                    <Upload className=\"w-4 h-4\" />\r\n                    <span className=\"text-sm\">{language === 'ru' ? '–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª' : 'Fayl yuklash'}</span>\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setImageMode('url')}\r\n                    className={`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg border transition-colors ${\r\n                      imageMode === 'url'\r\n                        ? 'bg-orange-50 border-orange-300 text-orange-700'\r\n                        : 'bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100'\r\n                    }`}\r\n                  >\r\n                    <Link className=\"w-4 h-4\" />\r\n                    <span className=\"text-sm\">{language === 'ru' ? 'URL —Å—Å—ã–ª–∫–∞' : 'URL havola'}</span>\r\n                  </button>\r\n                </div>\r\n\r\n                {/* File upload */}\r\n                {imageMode === 'file' && (\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"block w-full\">\r\n                      <div className={`border-2 border-dashed rounded-xl p-4 text-center cursor-pointer transition-colors ${\r\n                        uploadingImage\r\n                          ? 'border-orange-300 bg-orange-50'\r\n                          : 'border-gray-300 hover:border-orange-400 hover:bg-orange-50'\r\n                      }`}>\r\n                        {uploadingImage ? (\r\n                          <div className=\"flex flex-col items-center gap-2\">\r\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600\"></div>\r\n                            <span className=\"text-sm text-orange-600\">\r\n                              {language === 'ru' ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : 'Yuklanmoqda...'}\r\n                            </span>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"flex flex-col items-center gap-2\">\r\n                            <Upload className=\"w-8 h-8 text-gray-400\" />\r\n                            <span className=\"text-sm text-gray-600\">\r\n                              {language === 'ru' ? '–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞' : 'Fayl tanlash uchun bosing'}\r\n                            </span>\r\n                            <span className=\"text-xs text-gray-400\">\r\n                              JPEG, PNG, GIF, WEBP (max 5MB)\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/jpeg,image/png,image/gif,image/webp\"\r\n                        onChange={handleImageUpload}\r\n                        className=\"hidden\"\r\n                        disabled={uploadingImage}\r\n                      />\r\n                    </label>\r\n                  </div>\r\n                )}\r\n\r\n                {/* URL input */}\r\n                {imageMode === 'url' && (\r\n                  <input\r\n                    type=\"url\"\r\n                    value={productForm.image_url}\r\n                    onChange={(e) => setProductForm({ ...productForm, image_url: e.target.value })}\r\n                    placeholder=\"https://...\"\r\n                    className=\"w-full p-3 border rounded-xl\"\r\n                  />\r\n                )}\r\n\r\n                {/* Image preview */}\r\n                {productForm.image_url && (\r\n                  <div className=\"mt-3 relative inline-block\">\r\n                    <div className=\"w-24 h-24 rounded-lg overflow-hidden bg-gray-100 border\">\r\n                      <img src={productForm.image_url} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setProductForm({ ...productForm, image_url: '' })}\r\n                      className=\"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Name RU */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {language === 'ru' ? '–ù–∞–∑–≤–∞–Ω–∏–µ (RU)' : 'Nomi (RU)'} *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={productForm.name_ru}\r\n                  onChange={(e) => setProductForm({ ...productForm, name_ru: e.target.value })}\r\n                  className=\"w-full p-3 border rounded-xl\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Name UZ */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {language === 'ru' ? '–ù–∞–∑–≤–∞–Ω–∏–µ (UZ)' : 'Nomi (UZ)'} *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={productForm.name_uz}\r\n                  onChange={(e) => setProductForm({ ...productForm, name_uz: e.target.value })}\r\n                  className=\"w-full p-3 border rounded-xl\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Description RU */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {language === 'ru' ? '–û–ø–∏—Å–∞–Ω–∏–µ (RU)' : 'Tavsif (RU)'}\r\n                </label>\r\n                <textarea\r\n                  value={productForm.description_ru}\r\n                  onChange={(e) => setProductForm({ ...productForm, description_ru: e.target.value })}\r\n                  className=\"w-full p-3 border rounded-xl resize-none\"\r\n                  rows={2}\r\n                />\r\n              </div>\r\n\r\n              {/* Description UZ */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {language === 'ru' ? '–û–ø–∏—Å–∞–Ω–∏–µ (UZ)' : 'Tavsif (UZ)'}\r\n                </label>\r\n                <textarea\r\n                  value={productForm.description_uz}\r\n                  onChange={(e) => setProductForm({ ...productForm, description_uz: e.target.value })}\r\n                  className=\"w-full p-3 border rounded-xl resize-none\"\r\n                  rows={2}\r\n                />\r\n              </div>\r\n\r\n              {/* Price & Old Price */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {language === 'ru' ? '–¶–µ–Ω–∞ (—Å—É–º)' : 'Narxi (so\\'m)'} *\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={productForm.price}\r\n                    onChange={(e) => setProductForm({ ...productForm, price: e.target.value })}\r\n                    className=\"w-full p-3 border rounded-xl\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {language === 'ru' ? '–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞' : 'Eski narx'}\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={productForm.old_price}\r\n                    onChange={(e) => setProductForm({ ...productForm, old_price: e.target.value })}\r\n                    className=\"w-full p-3 border rounded-xl\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Unit & Stock */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {language === 'ru' ? '–ï–¥–∏–Ω–∏—Ü–∞' : 'Birlik'}\r\n                  </label>\r\n                  <select\r\n                    value={productForm.unit}\r\n                    onChange={(e) => setProductForm({ ...productForm, unit: e.target.value })}\r\n                    className=\"w-full p-3 border rounded-xl\"\r\n                  >\r\n                    <option value=\"—à—Ç\">—à—Ç</option>\r\n                    <option value=\"–∫–≥\">–∫–≥</option>\r\n                    <option value=\"–ª\">–ª</option>\r\n                    <option value=\"—É–ø\">—É–ø</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {language === 'ru' ? '–ù–∞ —Å–∫–ª–∞–¥–µ' : 'Omborda'}\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={productForm.stock_quantity}\r\n                    onChange={(e) => setProductForm({ ...productForm, stock_quantity: e.target.value })}\r\n                    className=\"w-full p-3 border rounded-xl\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Featured */}\r\n              <label className=\"flex items-center gap-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={productForm.is_featured}\r\n                  onChange={(e) => setProductForm({ ...productForm, is_featured: e.target.checked })}\r\n                  className=\"w-5 h-5 rounded border-gray-300\"\r\n                />\r\n                <span className=\"text-gray-700\">\r\n                  {language === 'ru' ? '–•–∏—Ç –ø—Ä–æ–¥–∞–∂ (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–≤—ã–º)' : 'Hit mahsulot (birinchi ko\\'rsatish)'}\r\n                </span>\r\n              </label>\r\n\r\n              {/* Save Button */}\r\n              <button\r\n                onClick={saveProduct}\r\n                disabled={!productForm.category_id || !productForm.name_ru || !productForm.name_uz || !productForm.price}\r\n                className=\"w-full py-3 bg-orange-600 text-white rounded-xl font-medium disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n              >\r\n                {editingProduct\r\n                  ? (language === 'ru' ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è' : 'O\\'zgarishlarni saqlash')\r\n                  : (language === 'ru' ? '–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä' : 'Mahsulot qo\\'shish')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Stock Update Modal */}\r\n      {showStockModal && stockProduct && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\r\n          <div className=\"bg-white w-full max-w-sm rounded-2xl\">\r\n            <div className=\"p-4 border-b flex items-center justify-between\">\r\n              <h2 className=\"font-bold text-lg\">\r\n                {language === 'ru' ? '–û–±–Ω–æ–≤–∏—Ç—å —Å–∫–ª–∞–¥' : 'Omborni yangilash'}\r\n              </h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowStockModal(false);\r\n                  setStockProduct(null);\r\n                }}\r\n                className=\"p-2 hover:bg-gray-100 rounded-full\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-4 space-y-4\">\r\n              <div className=\"flex items-center gap-3 bg-gray-50 rounded-xl p-3\">\r\n                <span className=\"text-2xl\">{CATEGORY_ICONS[stockProduct.category_id] || 'üì¶'}</span>\r\n                <div>\r\n                  <p className=\"font-medium text-gray-900\">\r\n                    {language === 'ru' ? stockProduct.name_ru : stockProduct.name_uz}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {language === 'ru' ? '–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫:' : 'Joriy qoldiq:'} {stockProduct.stock_quantity} {stockProduct.unit}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  {language === 'ru' ? '–ù–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ' : 'Yangi miqdor'}\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={stockQuantity}\r\n                  onChange={(e) => setStockQuantity(e.target.value)}\r\n                  className=\"w-full p-3 border rounded-xl text-center text-xl font-bold\"\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                onClick={updateStock}\r\n                className=\"w-full py-3 bg-orange-600 text-white rounded-xl font-medium\"\r\n              >\r\n                {language === 'ru' ? '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å' : 'Saqlash'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CATEGORY_ICONS","MarketplaceManagerDashboard","user","useAuthStore","language","useLanguageStore","activeTab","setActiveTab","useState","products","setProducts","categories","setCategories","loading","setLoading","searchQuery","setSearchQuery","categoryFilter","setCategoryFilter","showProductModal","setShowProductModal","editingProduct","setEditingProduct","productForm","setProductForm","showStockModal","setShowStockModal","stockProduct","setStockProduct","stockQuantity","setStockQuantity","imageMode","setImageMode","uploadingImage","setUploadingImage","handleImageUpload","e","file","formData","token","response","result","fetchData","useCallback","productsRes","categoriesRes","apiRequest","useEffect","saveProduct","data","resetProductForm","updateStock","deleteProduct","productId","editProduct","product","filteredProducts","matchesCategory","matchesSearch","lowStockProducts","p","outOfStockProducts","formatPrice","price","tabs","Package","BarChart3","Filter","jsx","jsxs","AlertTriangle","TrendingUp","tab","Search","Plus","cat","c","Edit2","Trash2","category","X","ImagePlus","Upload","Link"],"mappings":"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"}