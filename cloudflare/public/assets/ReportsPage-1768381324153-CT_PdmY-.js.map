{"version":3,"file":"ReportsPage-1768381324153-CT_PdmY-.js","sources":["../../src/pages/admin/ReportsPage.tsx"],"sourcesContent":["import { useState, useMemo } from 'react';\nimport {\n  FileText, CheckCircle, Star, Clock, PieChart, BarChart3,\n  TrendingUp, TrendingDown, Download, Building2, Home, Users, Zap, AlertCircle,\n  Percent, Timer, Award\n} from 'lucide-react';\nimport { useDataStore } from '../../stores/dataStore';\nimport { useCRMStore } from '../../stores/crmStore';\nimport { useAuthStore } from '../../stores/authStore';\nimport { SPECIALIZATION_LABELS } from '../../types';\n\nexport function ReportsPage() {\n  const { requests, executors } = useDataStore();\n  const { buildings, residents } = useCRMStore();\n  const { additionalUsers } = useAuthStore();\n  const [period, setPeriod] = useState('week');\n  const [selectedBranch, setSelectedBranch] = useState<string>('all');\n  const [reportType, setReportType] = useState<'general' | 'branch'>('general');\n\n  // Filter requests by period\n  const getFilteredRequests = () => {\n    const now = new Date();\n    let startDate: Date;\n\n    switch (period) {\n      case 'day':\n        startDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        break;\n      case 'week':\n        startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        break;\n      case 'month':\n        startDate = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n        break;\n      case 'year':\n        startDate = new Date(now.getTime() - 365 * 24 * 60 * 60 * 1000);\n        break;\n      default:\n        startDate = new Date(0);\n    }\n\n    return requests.filter(r => new Date(r.createdAt) >= startDate);\n  };\n\n  const filteredRequests = getFilteredRequests();\n\n  // Get building stats for reports (each building as separate object)\n  const getBuildingStats = () => {\n    return buildings.map(building => {\n      // Get residents for this building - check multiple sources\n      // 1. From CRM residents by apartmentId that belongs to this building\n      const crmResidentsCount = residents.filter((r: any) =>\n        r.building_id === building.id || r.buildingId === building.id || r.apartmentId?.startsWith(building.id)\n      ).length;\n\n      // 2. From additionalUsers by buildingId or by matching address\n      const additionalResidentsCount = Object.values(additionalUsers)\n        .filter(u => {\n          if (u.user.role !== 'resident') return false;\n          // Check by buildingId\n          if (u.user.buildingId === building.id || (u.user as any).building_id === building.id) return true;\n          // Check by address match\n          if (u.user.address && (\n            u.user.address.includes(building.address) ||\n            building.address.includes(u.user.address) ||\n            u.user.address.includes(building.name)\n          )) return true;\n          return false;\n        })\n        .length;\n\n      // Use whichever count is higher (to avoid double counting)\n      const buildingResidentsCount = Math.max(crmResidentsCount, additionalResidentsCount);\n\n      // Get requests for this building (by buildingId from resident)\n      const buildingRequests = filteredRequests.filter(r => {\n        // Check buildingId directly (returned from API via resident's building_id)\n        if (r.buildingId === building.id) return true;\n        // Fallback: check by building name match in address\n        if (r.address) {\n          const addr = r.address.toLowerCase();\n          const bName = building.name.toLowerCase();\n          // Extract building number from \"Дом 5A\" -> \"5a\"\n          const buildingNum = bName.replace(/дом\\s*/i, '').trim().toLowerCase();\n          if (buildingNum && addr.includes(buildingNum + '-')) return true; // e.g. \"5A-уй\"\n          if (buildingNum && addr.includes(buildingNum + ' ')) return true;\n        }\n        return false;\n      });\n\n      const completedRequests = buildingRequests.filter(r => r.status === 'completed');\n      const avgRating = completedRequests.filter(r => r.rating).length > 0\n        ? completedRequests.reduce((sum, r) => sum + (r.rating || 0), 0) / completedRequests.filter(r => r.rating).length\n        : 0;\n\n      // Category breakdown\n      const categoryBreakdown = buildingRequests.reduce((acc, req) => {\n        acc[req.category] = (acc[req.category] || 0) + 1;\n        return acc;\n      }, {} as Record<string, number>);\n\n      return {\n        branch: building.name,\n        buildingId: building.id,\n        buildings: 1,\n        residents: buildingResidentsCount,\n        totalRequests: buildingRequests.length,\n        completed: completedRequests.length,\n        avgRating: avgRating.toFixed(1),\n        categoryBreakdown,\n      };\n    });\n  };\n\n  const branchStats = getBuildingStats();\n\n  // Export branch report to CSV\n  const handleExportBranchCSV = (branch?: string) => {\n    const periodLabels: Record<string, string> = {\n      day: 'сегодня',\n      week: 'неделю',\n      month: 'месяц',\n      year: 'год'\n    };\n\n    const statsToExport = branch ? branchStats.filter(s => s.branch === branch) : branchStats;\n\n    const headers = ['Объект', 'Домов', 'Жителей', 'Заявок', 'Выполнено', 'Ср. оценка', 'Сантехника', 'Электрика', 'Охрана', 'Уборка', 'Лифт', 'Домофон'];\n    const rows = statsToExport.map(s => [\n      s.branch,\n      s.buildings,\n      s.residents,\n      s.totalRequests,\n      s.completed,\n      s.avgRating,\n      s.categoryBreakdown.plumber || 0,\n      s.categoryBreakdown.electrician || 0,\n      s.categoryBreakdown.security || 0,\n      s.categoryBreakdown.cleaning || 0,\n      s.categoryBreakdown.elevator || 0,\n      s.categoryBreakdown.intercom || 0,\n    ]);\n\n    const csvContent = [headers, ...rows].map(row => row.join(';')).join('\\n');\n    const BOM = '\\uFEFF';\n    const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `отчет_объекты_${branch || 'все'}_${periodLabels[period]}_${new Date().toLocaleDateString('ru-RU')}.csv`;\n    link.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  // Export to CSV\n  const handleExportCSV = () => {\n    const periodLabels: Record<string, string> = {\n      day: 'сегодня',\n      week: 'неделю',\n      month: 'месяц',\n      year: 'год'\n    };\n\n    const headers = ['№', 'Название', 'Категория', 'Статус', 'Приоритет', 'Житель', 'Адрес', 'Исполнитель', 'Создано', 'Оценка'];\n    const rows = filteredRequests.map(r => [\n      r.number,\n      r.title,\n      SPECIALIZATION_LABELS[r.category] || r.category,\n      r.status,\n      r.priority,\n      r.residentName,\n      `${r.address} кв.${r.apartment}`,\n      r.executorName || '-',\n      new Date(r.createdAt).toLocaleDateString('ru-RU'),\n      r.rating || '-'\n    ]);\n\n    const csvContent = [headers, ...rows].map(row => row.join(';')).join('\\n');\n    const BOM = '\\uFEFF'; // For proper Cyrillic encoding in Excel\n    const blob = new Blob([BOM + csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `отчет_за_${periodLabels[period]}_${new Date().toLocaleDateString('ru-RU')}.csv`;\n    link.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  // Calculate stats\n  const completedRequests = filteredRequests.filter(r => r.status === 'completed');\n  const avgRating = completedRequests.length > 0\n    ? (completedRequests.reduce((sum, r) => sum + (r.rating || 0), 0) / completedRequests.filter(r => r.rating).length).toFixed(1)\n    : '—';\n\n  const avgCompletionTime = completedRequests.length > 0\n    ? Math.round(completedRequests.reduce((sum, r) => sum + (r.workDuration || 0), 0) / completedRequests.length / 60)\n    : 0;\n\n  // Advanced metrics\n  const advancedMetrics = useMemo(() => {\n    // Completion rate\n    const completionRate = filteredRequests.length > 0\n      ? Math.round((completedRequests.length / filteredRequests.length) * 100)\n      : 0;\n\n    // Average response time (time from created to assigned)\n    const assignedRequests = filteredRequests.filter(r => r.assignedAt);\n    const avgResponseTime = assignedRequests.length > 0\n      ? Math.round(assignedRequests.reduce((sum, r) => {\n          const created = new Date(r.createdAt).getTime();\n          const assigned = new Date(r.assignedAt!).getTime();\n          return sum + (assigned - created) / 60000; // in minutes\n        }, 0) / assignedRequests.length)\n      : 0;\n\n    // Cancelled rate\n    const cancelledCount = filteredRequests.filter(r => r.status === 'cancelled').length;\n    const cancelledRate = filteredRequests.length > 0\n      ? Math.round((cancelledCount / filteredRequests.length) * 100)\n      : 0;\n\n    // Get previous period for comparison\n    const now = new Date();\n    let prevStart: Date;\n    let prevEnd: Date;\n\n    switch (period) {\n      case 'day':\n        prevEnd = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        prevStart = new Date(prevEnd.getTime() - 24 * 60 * 60 * 1000);\n        break;\n      case 'week':\n        prevEnd = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        prevStart = new Date(prevEnd.getTime() - 7 * 24 * 60 * 60 * 1000);\n        break;\n      case 'month':\n        prevEnd = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);\n        prevStart = new Date(prevEnd.getTime() - 30 * 24 * 60 * 60 * 1000);\n        break;\n      default:\n        prevEnd = new Date(now.getTime() - 365 * 24 * 60 * 60 * 1000);\n        prevStart = new Date(prevEnd.getTime() - 365 * 24 * 60 * 60 * 1000);\n    }\n\n    const prevRequests = requests.filter(r => {\n      const date = new Date(r.createdAt);\n      return date >= prevStart && date < prevEnd;\n    });\n    const prevCompleted = prevRequests.filter(r => r.status === 'completed').length;\n    const prevCompletionRate = prevRequests.length > 0\n      ? Math.round((prevCompleted / prevRequests.length) * 100)\n      : 0;\n\n    const completionTrend = completionRate - prevCompletionRate;\n    const requestsTrend = filteredRequests.length - prevRequests.length;\n\n    // Best executor this period\n    const executorPerformance = executors.map(exec => {\n      const execRequests = filteredRequests.filter(r => r.executorId === exec.id);\n      const execCompleted = execRequests.filter(r => r.status === 'completed');\n      const execRated = execCompleted.filter(r => r.rating);\n      const execAvgRating = execRated.length > 0\n        ? execRated.reduce((sum, r) => sum + (r.rating || 0), 0) / execRated.length\n        : 0;\n\n      return {\n        ...exec,\n        periodRequests: execRequests.length,\n        periodCompleted: execCompleted.length,\n        periodAvgRating: execAvgRating,\n        efficiency: execRequests.length > 0\n          ? Math.round((execCompleted.length / execRequests.length) * 100)\n          : 0\n      };\n    }).sort((a, b) => b.periodCompleted - a.periodCompleted);\n\n    const bestExecutor = executorPerformance[0];\n\n    return {\n      completionRate,\n      avgResponseTime,\n      cancelledRate,\n      completionTrend,\n      requestsTrend,\n      bestExecutor,\n      executorPerformance\n    };\n  }, [filteredRequests, completedRequests, period, requests, executors]);\n\n  // Stats by category\n  const categoryStats = filteredRequests.reduce((acc, req) => {\n    if (!acc[req.category]) {\n      acc[req.category] = { total: 0, completed: 0, inProgress: 0 };\n    }\n    acc[req.category].total++;\n    if (req.status === 'completed') acc[req.category].completed++;\n    if (req.status === 'in_progress') acc[req.category].inProgress++;\n    return acc;\n  }, {} as Record<string, { total: number; completed: number; inProgress: number }>);\n\n  // Executor stats\n  const executorStats = executors.map(exec => ({\n    ...exec,\n    requests: requests.filter(r => r.executorId === exec.id).length,\n    completedCount: requests.filter(r => r.executorId === exec.id && r.status === 'completed').length,\n  })).sort((a, b) => b.completedCount - a.completedCount);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Отчёты и аналитика</h1>\n          <p className=\"text-gray-500 mt-1\">Статистика и показатели эффективности</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <select\n            value={period}\n            onChange={(e) => setPeriod(e.target.value)}\n            className=\"glass-input w-40\"\n          >\n            <option value=\"day\">За сегодня</option>\n            <option value=\"week\">За неделю</option>\n            <option value=\"month\">За месяц</option>\n            <option value=\"year\">За год</option>\n          </select>\n          <button onClick={handleExportCSV} className=\"btn-secondary flex items-center gap-2\">\n            <Download className=\"w-4 h-4\" />\n            Скачать CSV\n          </button>\n        </div>\n      </div>\n\n      {/* Report Type Tabs */}\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => setReportType('general')}\n          className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n            reportType === 'general'\n              ? 'bg-primary-500 text-gray-900'\n              : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n          }`}\n        >\n          Общий отчёт\n        </button>\n        <button\n          onClick={() => setReportType('branch')}\n          className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n            reportType === 'branch'\n              ? 'bg-primary-500 text-gray-900'\n              : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n          }`}\n        >\n          По объектам\n        </button>\n      </div>\n\n      {/* Branch Reports Section - Interactive Dashboard */}\n      {reportType === 'branch' && (\n        <div className=\"space-y-6\">\n          {/* Object Selection */}\n          <div className=\"glass-card p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-lg font-semibold flex items-center gap-2\">\n                <Building2 className=\"w-5 h-5 text-gray-400\" />\n                Выберите объект для анализа\n              </h2>\n              <button\n                onClick={() => handleExportBranchCSV(selectedBranch === 'all' ? undefined : selectedBranch)}\n                className=\"btn-secondary flex items-center gap-2\"\n              >\n                <Download className=\"w-4 h-4\" />\n                Скачать отчёт\n              </button>\n            </div>\n\n            {branchStats.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                <Building2 className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\n                <p>Нет данных по объектам</p>\n                <p className=\"text-sm mt-1\">Добавьте здания в разделе \"Дома\"</p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n                <button\n                  onClick={() => setSelectedBranch('all')}\n                  className={`p-4 rounded-xl border-2 transition-all text-left ${\n                    selectedBranch === 'all'\n                      ? 'border-primary-500 bg-primary-50'\n                      : 'border-gray-200 hover:border-primary-300 bg-white'\n                  }`}\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-10 h-10 bg-gradient-to-br from-primary-400 to-primary-600 rounded-lg flex items-center justify-center\">\n                      <Building2 className=\"w-5 h-5 text-white\" />\n                    </div>\n                    <div>\n                      <div className=\"font-semibold\">Все объекты</div>\n                      <div className=\"text-xs text-gray-500\">{branchStats.length} объектов</div>\n                    </div>\n                  </div>\n                </button>\n                {branchStats.map((stat) => (\n                  <button\n                    key={stat.buildingId}\n                    onClick={() => setSelectedBranch(stat.branch)}\n                    className={`p-4 rounded-xl border-2 transition-all text-left ${\n                      selectedBranch === stat.branch\n                        ? 'border-primary-500 bg-primary-50'\n                        : 'border-gray-200 hover:border-primary-300 bg-white'\n                    }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-lg flex items-center justify-center\">\n                        <Home className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div className=\"min-w-0\">\n                        <div className=\"font-semibold truncate\">{stat.branch}</div>\n                        <div className=\"text-xs text-gray-500\">{stat.totalRequests} заявок</div>\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Detailed Stats for Selected Object */}\n          {selectedBranch && branchStats.length > 0 && (() => {\n            const selectedStats = selectedBranch === 'all'\n              ? branchStats\n              : branchStats.filter(s => s.branch === selectedBranch);\n\n            // Calculate totals for selected objects\n            const totalRequests = selectedStats.reduce((sum, s) => sum + s.totalRequests, 0);\n            const totalCompleted = selectedStats.reduce((sum, s) => sum + s.completed, 0);\n            const totalResidents = selectedStats.reduce((sum, s) => sum + s.residents, 0);\n\n            // Get all requests for selected objects\n            const selectedRequests = selectedBranch === 'all'\n              ? filteredRequests\n              : filteredRequests.filter(r => {\n                  const building = buildings.find(b => b.name === selectedBranch);\n                  return building && (r.address?.includes(building.address) || r.address?.includes(building.name));\n                });\n\n            // Status breakdown\n            const statusBreakdown = selectedRequests.reduce((acc, req) => {\n              acc[req.status] = (acc[req.status] || 0) + 1;\n              return acc;\n            }, {} as Record<string, number>);\n\n            // Category breakdown for selected\n            const catBreakdown = selectedRequests.reduce((acc, req) => {\n              acc[req.category] = (acc[req.category] || 0) + 1;\n              return acc;\n            }, {} as Record<string, number>);\n\n            // Priority breakdown\n            const priorityBreakdown = selectedRequests.reduce((acc, req) => {\n              acc[req.priority] = (acc[req.priority] || 0) + 1;\n              return acc;\n            }, {} as Record<string, number>);\n\n            // Cancelled/rejected breakdown\n            const cancelledRequests = selectedRequests.filter(r => r.status === 'cancelled');\n\n            // Average response time (time from created to assigned)\n            const assignedRequests = selectedRequests.filter(r => r.assignedAt);\n            const avgResponseTime = assignedRequests.length > 0\n              ? Math.round(assignedRequests.reduce((sum, r) => {\n                  const created = new Date(r.createdAt).getTime();\n                  const assigned = new Date(r.assignedAt!).getTime();\n                  return sum + (assigned - created) / 60000; // in minutes\n                }, 0) / assignedRequests.length)\n              : 0;\n\n            // Average completion time\n            const completedReqs = selectedRequests.filter(r => r.completedAt && r.startedAt);\n            const avgCompTime = completedReqs.length > 0\n              ? Math.round(completedReqs.reduce((sum, r) => sum + (r.workDuration || 0), 0) / completedReqs.length / 60)\n              : 0;\n\n            // Average rating\n            const ratedRequests = selectedRequests.filter(r => r.rating);\n            const avgRat = ratedRequests.length > 0\n              ? (ratedRequests.reduce((sum, r) => sum + (r.rating || 0), 0) / ratedRequests.length).toFixed(1)\n              : '—';\n\n            const statusLabels: Record<string, { label: string; color: string; barColor: string }> = {\n              new: { label: 'Новые', color: 'bg-blue-100 text-blue-700', barColor: 'from-blue-400 to-blue-500' },\n              assigned: { label: 'Назначены', color: 'bg-purple-100 text-purple-700', barColor: 'from-purple-400 to-purple-500' },\n              accepted: { label: 'Приняты', color: 'bg-indigo-100 text-indigo-700', barColor: 'from-indigo-400 to-indigo-500' },\n              in_progress: { label: 'В работе', color: 'bg-yellow-100 text-yellow-700', barColor: 'from-orange-400 to-amber-500' },\n              pending_approval: { label: 'На проверке', color: 'bg-orange-100 text-orange-700', barColor: 'from-orange-400 to-orange-500' },\n              completed: { label: 'Выполнены', color: 'bg-green-100 text-green-700', barColor: 'from-green-400 to-emerald-500' },\n              cancelled: { label: 'Отменены', color: 'bg-red-100 text-red-700', barColor: 'from-red-400 to-red-500' },\n            };\n\n            const priorityLabels: Record<string, { label: string; color: string }> = {\n              low: { label: 'Низкий', color: 'bg-gray-100 text-gray-600' },\n              medium: { label: 'Средний', color: 'bg-blue-100 text-blue-600' },\n              high: { label: 'Высокий', color: 'bg-orange-100 text-orange-600' },\n              urgent: { label: 'Срочный', color: 'bg-red-100 text-red-600' },\n            };\n\n            return (\n              <>\n                {/* Key Metrics Cards */}\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div className=\"glass-card p-5\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center\">\n                        <FileText className=\"w-6 h-6 text-white\" />\n                      </div>\n                      <div>\n                        <div className=\"text-3xl font-bold\">{totalRequests}</div>\n                        <div className=\"text-sm text-gray-500\">Всего заявок</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"glass-card p-5\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center\">\n                        <CheckCircle className=\"w-6 h-6 text-white\" />\n                      </div>\n                      <div>\n                        <div className=\"text-3xl font-bold\">{totalCompleted}</div>\n                        <div className=\"text-sm text-gray-500\">Выполнено</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"glass-card p-5\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl flex items-center justify-center\">\n                        <Star className=\"w-6 h-6 text-white\" />\n                      </div>\n                      <div>\n                        <div className=\"text-3xl font-bold\">{avgRat}</div>\n                        <div className=\"text-sm text-gray-500\">Средняя оценка</div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"glass-card p-5\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-purple-400 to-violet-500 rounded-xl flex items-center justify-center\">\n                        <Users className=\"w-6 h-6 text-white\" />\n                      </div>\n                      <div>\n                        <div className=\"text-3xl font-bold\">{totalResidents}</div>\n                        <div className=\"text-sm text-gray-500\">Жителей</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Time Metrics */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"glass-card p-5\">\n                    <div className=\"flex items-center gap-3 mb-4\">\n                      <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                        <Clock className=\"w-5 h-5 text-blue-600\" />\n                      </div>\n                      <div>\n                        <div className=\"font-semibold\">Время реакции</div>\n                        <div className=\"text-sm text-gray-500\">от создания до назначения</div>\n                      </div>\n                    </div>\n                    <div className=\"text-4xl font-bold text-blue-600\">{avgResponseTime} мин</div>\n                  </div>\n\n                  <div className=\"glass-card p-5\">\n                    <div className=\"flex items-center gap-3 mb-4\">\n                      <div className=\"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center\">\n                        <Clock className=\"w-5 h-5 text-green-600\" />\n                      </div>\n                      <div>\n                        <div className=\"font-semibold\">Время выполнения</div>\n                        <div className=\"text-sm text-gray-500\">среднее время работы</div>\n                      </div>\n                    </div>\n                    <div className=\"text-4xl font-bold text-green-600\">{avgCompTime} мин</div>\n                  </div>\n                </div>\n\n                {/* Status & Category Breakdown */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {/* Status Breakdown */}\n                  <div className=\"glass-card p-6\">\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n                      <Zap className=\"w-5 h-5 text-gray-400\" />\n                      Статусы заявок\n                    </h3>\n                    <div className=\"space-y-3\">\n                      {Object.entries(statusBreakdown)\n                        .sort((a, b) => b[1] - a[1])\n                        .map(([status, count]) => {\n                          const info = statusLabels[status] || { label: status, color: 'bg-gray-100 text-gray-600', barColor: 'from-gray-400 to-gray-500' };\n                          const percentage = totalRequests > 0 ? Math.round((count / totalRequests) * 100) : 0;\n                          return (\n                            <div key={status} className=\"flex items-center gap-3\">\n                              <div className=\"w-24\">\n                                <span className={`px-2 py-1 rounded-full text-xs font-medium ${info.color}`}>\n                                  {info.label}\n                                </span>\n                              </div>\n                              <div className=\"flex-1\">\n                                <div className=\"w-full h-3 bg-gray-100 rounded-full overflow-hidden\">\n                                  <div\n                                    className={`h-full bg-gradient-to-r ${info.barColor} rounded-full transition-all`}\n                                    style={{ width: `${percentage}%` }}\n                                  />\n                                </div>\n                              </div>\n                              <div className=\"w-16 text-right\">\n                                <span className=\"font-bold\">{count}</span>\n                                <span className=\"text-gray-400 text-sm ml-1\">({percentage}%)</span>\n                              </div>\n                            </div>\n                          );\n                        })}\n                    </div>\n                  </div>\n\n                  {/* Category Breakdown */}\n                  <div className=\"glass-card p-6\">\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n                      <PieChart className=\"w-5 h-5 text-gray-400\" />\n                      По категориям (специалистам)\n                    </h3>\n                    <div className=\"space-y-3\">\n                      {Object.entries(catBreakdown)\n                        .sort((a, b) => b[1] - a[1])\n                        .map(([category, count]) => {\n                          const label = SPECIALIZATION_LABELS[category as keyof typeof SPECIALIZATION_LABELS] || category;\n                          const percentage = totalRequests > 0 ? Math.round((count / totalRequests) * 100) : 0;\n                          const colors = {\n                            plumber: 'from-blue-400 to-blue-500',\n                            electrician: 'from-orange-400 to-orange-500',\n                            security: 'from-red-400 to-red-500',\n                            cleaning: 'from-green-400 to-emerald-500',\n                            elevator: 'from-purple-400 to-violet-500',\n                            intercom: 'from-indigo-400 to-indigo-500',\n                            carpenter: 'from-amber-400 to-amber-500',\n                            locksmith: 'from-gray-400 to-gray-500',\n                            other: 'from-pink-400 to-pink-500',\n                          };\n                          const color = colors[category as keyof typeof colors] || 'from-gray-400 to-gray-500';\n                          return (\n                            <div key={category} className=\"flex items-center gap-3\">\n                              <div className=\"w-28 truncate\">\n                                <span className=\"text-sm font-medium\">{label}</span>\n                              </div>\n                              <div className=\"flex-1\">\n                                <div className=\"w-full h-3 bg-gray-100 rounded-full overflow-hidden\">\n                                  <div\n                                    className={`h-full bg-gradient-to-r ${color} rounded-full transition-all`}\n                                    style={{ width: `${percentage}%` }}\n                                  />\n                                </div>\n                              </div>\n                              <div className=\"w-16 text-right\">\n                                <span className=\"font-bold\">{count}</span>\n                                <span className=\"text-gray-400 text-sm ml-1\">({percentage}%)</span>\n                              </div>\n                            </div>\n                          );\n                        })}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Priority Breakdown */}\n                <div className=\"glass-card p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n                    <AlertCircle className=\"w-5 h-5 text-gray-400\" />\n                    Приоритеты заявок\n                  </h3>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    {Object.entries(priorityLabels).map(([priority, info]) => {\n                      const count = priorityBreakdown[priority] || 0;\n                      return (\n                        <div key={priority} className={`p-4 rounded-xl ${info.color}`}>\n                          <div className=\"text-3xl font-bold\">{count}</div>\n                          <div className=\"text-sm font-medium mt-1\">{info.label}</div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n\n                {/* Cancelled Requests Details */}\n                {cancelledRequests.length > 0 && (\n                  <div className=\"glass-card p-6\">\n                    <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2 text-red-600\">\n                      <AlertCircle className=\"w-5 h-5\" />\n                      Отменённые заявки ({cancelledRequests.length})\n                    </h3>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"w-full text-sm\">\n                        <thead>\n                          <tr className=\"text-left text-gray-500 border-b\">\n                            <th className=\"pb-2 font-medium\">№</th>\n                            <th className=\"pb-2 font-medium\">Заявка</th>\n                            <th className=\"pb-2 font-medium\">Категория</th>\n                            <th className=\"pb-2 font-medium\">Адрес</th>\n                            <th className=\"pb-2 font-medium\">Дата</th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"divide-y divide-gray-100\">\n                          {cancelledRequests.slice(0, 10).map(req => (\n                            <tr key={req.id} className=\"hover:bg-white/50\">\n                              <td className=\"py-2 font-mono text-gray-500\">#{req.number}</td>\n                              <td className=\"py-2 font-medium\">{req.title}</td>\n                              <td className=\"py-2\">\n                                <span className=\"px-2 py-0.5 bg-gray-100 rounded text-xs\">\n                                  {SPECIALIZATION_LABELS[req.category as keyof typeof SPECIALIZATION_LABELS]}\n                                </span>\n                              </td>\n                              <td className=\"py-2 text-gray-500\">{req.address}, кв. {req.apartment}</td>\n                              <td className=\"py-2 text-gray-400\">\n                                {new Date(req.createdAt).toLocaleDateString('ru-RU')}\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                      {cancelledRequests.length > 10 && (\n                        <div className=\"text-center text-gray-400 text-sm mt-3\">\n                          И ещё {cancelledRequests.length - 10} отменённых заявок...\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </>\n            );\n          })()}\n        </div>\n      )}\n\n      {reportType === 'general' && (\n        <>\n          {/* Key Metrics */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center\">\n                  <FileText className=\"w-6 h-6 text-white\" />\n                </div>\n                <div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-3xl font-bold\">{filteredRequests.length}</span>\n                    {advancedMetrics.requestsTrend !== 0 && (\n                      <span className={`flex items-center text-sm ${advancedMetrics.requestsTrend > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {advancedMetrics.requestsTrend > 0 ? <TrendingUp className=\"w-4 h-4\" /> : <TrendingDown className=\"w-4 h-4\" />}\n                        {Math.abs(advancedMetrics.requestsTrend)}\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"text-sm text-gray-500\">Всего заявок</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center\">\n                  <Percent className=\"w-6 h-6 text-white\" />\n                </div>\n                <div>\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-3xl font-bold\">{advancedMetrics.completionRate}%</span>\n                    {advancedMetrics.completionTrend !== 0 && (\n                      <span className={`flex items-center text-sm ${advancedMetrics.completionTrend > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {advancedMetrics.completionTrend > 0 ? <TrendingUp className=\"w-4 h-4\" /> : <TrendingDown className=\"w-4 h-4\" />}\n                        {Math.abs(advancedMetrics.completionTrend)}%\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"text-sm text-gray-500\">Выполнено</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl flex items-center justify-center\">\n                  <Star className=\"w-6 h-6 text-white\" />\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold\">{avgRating}</div>\n                  <div className=\"text-sm text-gray-500\">Средний рейтинг</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-purple-400 to-violet-500 rounded-xl flex items-center justify-center\">\n                  <Timer className=\"w-6 h-6 text-white\" />\n                </div>\n                <div>\n                  <div className=\"text-3xl font-bold\">{advancedMetrics.avgResponseTime}</div>\n                  <div className=\"text-sm text-gray-500\">Время реакции (мин)</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Efficiency Metrics */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                  <span className=\"font-medium\">Выполнено</span>\n                </div>\n                <span className=\"text-2xl font-bold text-green-600\">{completedRequests.length}</span>\n              </div>\n              <div className=\"w-full h-2 bg-gray-200 rounded-full overflow-hidden\">\n                <div\n                  className=\"h-full bg-gradient-to-r from-green-400 to-green-500 rounded-full\"\n                  style={{ width: `${advancedMetrics.completionRate}%` }}\n                />\n              </div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center gap-2\">\n                  <Clock className=\"w-5 h-5 text-amber-500\" />\n                  <span className=\"font-medium\">Время выполнения</span>\n                </div>\n                <span className=\"text-2xl font-bold text-amber-600\">{avgCompletionTime} мин</span>\n              </div>\n              <div className=\"text-sm text-gray-500\">Среднее время работы над заявкой</div>\n            </div>\n\n            <div className=\"glass-card p-5\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <div className=\"flex items-center gap-2\">\n                  <AlertCircle className=\"w-5 h-5 text-red-500\" />\n                  <span className=\"font-medium\">Отменено</span>\n                </div>\n                <span className=\"text-2xl font-bold text-red-600\">{advancedMetrics.cancelledRate}%</span>\n              </div>\n              <div className=\"text-sm text-gray-500\">Процент отмененных заявок</div>\n            </div>\n          </div>\n\n          {/* Best Executor Card */}\n          {advancedMetrics.bestExecutor && advancedMetrics.bestExecutor.periodCompleted > 0 && (\n            <div className=\"glass-card p-5 bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-14 h-14 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center\">\n                  <Award className=\"w-7 h-7 text-white\" />\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"text-sm text-amber-700 font-medium\">Лучший исполнитель периода</div>\n                  <div className=\"text-xl font-bold text-gray-900\">{advancedMetrics.bestExecutor.name}</div>\n                  <div className=\"text-sm text-gray-600\">\n                    {SPECIALIZATION_LABELS[advancedMetrics.bestExecutor.specialization]} •\n                    {advancedMetrics.bestExecutor.periodCompleted} выполнено •\n                    <Star className=\"w-3 h-3 inline text-amber-500 ml-1\" />\n                    {advancedMetrics.bestExecutor.periodAvgRating.toFixed(1)}\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-3xl font-bold text-amber-600\">{advancedMetrics.bestExecutor.efficiency}%</div>\n                  <div className=\"text-sm text-amber-700\">эффективность</div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Charts Row */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Category Distribution */}\n            <div className=\"glass-card p-6\">\n              <h2 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n                <PieChart className=\"w-5 h-5 text-gray-400\" />\n                Распределение по категориям\n              </h2>\n              <div className=\"space-y-3\">\n                {Object.entries(categoryStats).map(([category, stats]) => (\n                  <div key={category} className=\"flex items-center gap-3\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"text-sm font-medium\">{SPECIALIZATION_LABELS[category as keyof typeof SPECIALIZATION_LABELS]}</span>\n                        <span className=\"text-sm text-gray-500\">{stats.total}</span>\n                      </div>\n                      <div className=\"w-full h-2 bg-gray-200 rounded-full overflow-hidden\">\n                        <div\n                          className=\"h-full bg-gradient-to-r from-primary-400 to-primary-500 rounded-full\"\n                          style={{ width: `${(stats.completed / stats.total) * 100}%` }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Status Distribution */}\n            <div className=\"glass-card p-6\">\n              <h2 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n                <BarChart3 className=\"w-5 h-5 text-gray-400\" />\n                Статусы заявок\n              </h2>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"bg-blue-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-blue-600\">\n                    {filteredRequests.filter(r => r.status === 'new').length}\n                  </div>\n                  <div className=\"text-sm text-blue-700\">Новых</div>\n                </div>\n                <div className=\"bg-indigo-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-indigo-600\">\n                    {filteredRequests.filter(r => r.status === 'assigned' || r.status === 'accepted').length}\n                  </div>\n                  <div className=\"text-sm text-indigo-700\">Назначено</div>\n                </div>\n                <div className=\"bg-amber-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-amber-600\">\n                    {filteredRequests.filter(r => r.status === 'in_progress').length}\n                  </div>\n                  <div className=\"text-sm text-amber-700\">В работе</div>\n                </div>\n                <div className=\"bg-green-50 rounded-xl p-4 text-center\">\n                  <div className=\"text-3xl font-bold text-green-600\">\n                    {filteredRequests.filter(r => r.status === 'completed').length}\n                  </div>\n                  <div className=\"text-sm text-green-700\">Выполнено</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Top Executors */}\n          <div className=\"glass-card p-6\">\n            <h2 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n              <TrendingUp className=\"w-5 h-5 text-gray-400\" />\n              Топ исполнителей\n            </h2>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead>\n                  <tr className=\"text-left text-sm text-gray-500 border-b border-gray-200\">\n                    <th className=\"pb-3 font-medium\">#</th>\n                    <th className=\"pb-3 font-medium\">Исполнитель</th>\n                    <th className=\"pb-3 font-medium\">Специализация</th>\n                    <th className=\"pb-3 font-medium text-center\">Заявок</th>\n                    <th className=\"pb-3 font-medium text-center\">Выполнено</th>\n                    <th className=\"pb-3 font-medium text-center\">Рейтинг</th>\n                    <th className=\"pb-3 font-medium text-center\">Статус</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-100\">\n                  {executorStats.slice(0, 10).map((executor, index) => (\n                    <tr key={executor.id} className=\"hover:bg-white/30\">\n                      <td className=\"py-3 text-gray-500\">{index + 1}</td>\n                      <td className=\"py-3\">\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-sm font-medium text-primary-700\">\n                            {executor.name.split(' ').map(n => n[0]).join('').slice(0, 2)}\n                          </div>\n                          <span className=\"font-medium\">{executor.name}</span>\n                        </div>\n                      </td>\n                      <td className=\"py-3 text-gray-600\">{SPECIALIZATION_LABELS[executor.specialization]}</td>\n                      <td className=\"py-3 text-center\">{executor.requests}</td>\n                      <td className=\"py-3 text-center\">\n                        <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded-full text-sm\">\n                          {executor.completedCount}\n                        </span>\n                      </td>\n                      <td className=\"py-3 text-center\">\n                        <div className=\"flex items-center justify-center gap-1\">\n                          <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" />\n                          <span className=\"font-medium\">{executor.rating}</span>\n                        </div>\n                      </td>\n                      <td className=\"py-3 text-center\">\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                          executor.status === 'available' ? 'bg-green-100 text-green-700' :\n                          executor.status === 'busy' ? 'bg-amber-100 text-amber-700' :\n                          'bg-gray-100 text-gray-600'\n                        }`}>\n                          {executor.status === 'available' ? 'Доступен' :\n                           executor.status === 'busy' ? 'Занят' : 'Оффлайн'}\n                        </span>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["ReportsPage","requests","executors","useDataStore","buildings","residents","useCRMStore","additionalUsers","useAuthStore","period","setPeriod","useState","selectedBranch","setSelectedBranch","reportType","setReportType","filteredRequests","now","startDate","r","branchStats","building","crmResidentsCount","additionalResidentsCount","u","buildingResidentsCount","buildingRequests","addr","buildingNum","completedRequests","avgRating","sum","categoryBreakdown","acc","req","handleExportBranchCSV","branch","periodLabels","statsToExport","s","headers","rows","csvContent","row","BOM","blob","url","link","handleExportCSV","SPECIALIZATION_LABELS","avgCompletionTime","advancedMetrics","useMemo","completionRate","assignedRequests","avgResponseTime","created","assigned","cancelledCount","cancelledRate","prevStart","prevEnd","prevRequests","date","prevCompleted","prevCompletionRate","completionTrend","requestsTrend","executorPerformance","exec","execRequests","execCompleted","execRated","execAvgRating","a","b","bestExecutor","categoryStats","executorStats","jsxs","jsx","e","Download","Building2","stat","Home","selectedStats","totalRequests","totalCompleted","totalResidents","selectedRequests","statusBreakdown","catBreakdown","priorityBreakdown","cancelledRequests","completedReqs","avgCompTime","ratedRequests","avgRat","statusLabels","priorityLabels","Fragment","FileText","CheckCircle","Star","Users","Clock","Zap","status","count","info","percentage","PieChart","category","label","color","AlertCircle","priority","TrendingUp","TrendingDown","Percent","Timer","Award","stats","BarChart3","executor","index","n"],"mappings":"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"}