import{r as n,F as _e,z as V,ae as ce,x as C,S as K,j as e,a5 as P,A as Ze,m as de,I as Je,af as Pe,ag as $e,ah as le,a0 as D,ai as ie,aj as ne,ak as Le,U as Q,l as T,a9 as Z,C as Me,J as re,al as Ue,am as Ee,X as $,an as Ae,ao as Xe}from"./react-vendor-1768650638000-BuN04sTN.js";import{b as Ge,u as qe,d as es,e as De,S as Ie,f as ss,R as A,c as as}from"./index-1768650638000-whvq43RX.js";import{f as oe}from"./formatAddress-1768650638000-OwpdX0o2.js";import"./vendor-1768650638000-HaoOR8eO.js";import"./qr-scanner-1768650638000-cr32YHjo.js";import"./zustand-1768650638000-wNUYBKDB.js";function gs(){const{user:s}=Ge(),{requests:d,executors:b,acceptRequest:t,startWork:l,pauseWork:r,resumeWork:x,completeWork:o,assignRequest:m,declineRequest:j,createRescheduleRequest:h,respondToRescheduleRequest:f,getPendingRescheduleForUser:N,fetchRequests:u,fetchPendingReschedules:R}=qe(),{language:i}=es(),[c,w]=n.useState("available"),[L,Oe]=n.useState(null),[M,me]=n.useState(!0),[J,xe]=n.useState([]),[Ye,he]=n.useState(!1),[ue,X]=n.useState(null),z=n.useCallback(async()=>{he(!0);try{const a=await De("/api/marketplace/executor/orders");xe(a.orders||[])}catch{}finally{he(!1)}},[]),pe=async(a,g)=>{try{await De(`/api/marketplace/executor/orders/${a}`,{method:"PATCH",body:JSON.stringify({status:g})}),xe(p=>p.map(v=>v.id===a?{...v,status:g}:v)),X(null),z()}catch(p){await z();const v=p?.message||"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°";alert(i==="ru"?v:"Status yangilashda xatolik")}};n.useEffect(()=>{u(),R(),s?.specialization==="courier"&&z();const a=setInterval(()=>{R(),s?.specialization==="courier"&&z()},3e4);return()=>clearInterval(a)},[u,R,z,s?.specialization]);const[k,S]=n.useState(null),[U,Be]=n.useState({}),[ge,E]=n.useState(!1),[I,O]=n.useState(null),[We,Y]=n.useState(!1),[G,B]=n.useState(null),[Fe,W]=n.useState(!1),[F,H]=n.useState(null),_=b.find(a=>a.login===s?.login);n.useEffect(()=>{const a=async()=>{if(s?.id){me(!0);try{const p=await ss.getStats(s.id);Oe(p.stats)}catch{}finally{me(!1)}}};a();const g=setInterval(a,3e4);return()=>clearInterval(g)},[s?.id]);const He=_?.specialization||s?.specialization,q=d.filter(a=>a.executorId===s?.id),be=d.filter(a=>a.status==="new"&&a.category===He),je=q.filter(a=>a.status==="assigned"||a.status==="accepted"),y=q.filter(a=>a.status==="in_progress"),fe=q.filter(a=>a.status==="completed"||a.status==="pending_approval"),Ne=s?.id?N(s.id):[],ee=n.useCallback(a=>{if(!a)return 0;const g=a.includes("Z")||a.includes("+")?a:a.replace(" ","T")+"Z";return new Date(g).getTime()},[]);n.useEffect(()=>{const a=setInterval(()=>{const g={};y.forEach(p=>{if(p.startedAt){const v=ee(p.startedAt),ze=p.totalPausedTime||0;if(p.isPaused&&p.pausedAt){const te=ee(p.pausedAt),Qe=Math.floor((te-v)/1e3)-ze;g[p.id]=Math.max(0,Qe)}else{const te=Math.floor((Date.now()-v)/1e3)-ze;g[p.id]=Math.max(0,te)}}}),Be(g)},1e3);return()=>clearInterval(a)},[y,ee]);const ye=[{id:"available",label:i==="ru"?"Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ":"Mavjud",count:be.length,color:"bg-purple-500",icon:_e},{id:"assigned",label:i==="ru"?"ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ðµ":"Tayinlangan",count:je.length,color:"bg-blue-500",icon:V},{id:"in_progress",label:i==="ru"?"Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ":"Ishda",count:y.length,color:"bg-amber-500",icon:ce},{id:"completed",label:i==="ru"?"Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ":"Bajarilgan",count:fe.length,color:"bg-green-500",icon:C}],Ke=s?.specialization==="courier"?[...ye,{id:"marketplace",label:i==="ru"?"ÐœÐ°Ð³Ð°Ð·Ð¸Ð½":"Do'kon",count:J.length,color:"bg-orange-500",icon:K}]:ye,ve=c==="marketplace"?[]:{available:be,assigned:je,in_progress:y,completed:fe}[c]||[],se=a=>{const g=Math.floor(a/3600),p=Math.floor(a%3600/60),v=a%60;return g>0?`${g}:${p.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`:`${p}:${v.toString().padStart(2,"0")}`},we=a=>{s?.id&&(m(a,s.id),w("assigned"))},ke=a=>{t(a)},Se=a=>{if(y.length>0){alert("Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚Ðµ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ");return}l(a)},Ce=a=>{r(a)},Re=a=>{x(a)},ae=a=>{const g=U[a]||0;o(a,g)},Te=a=>{O(a),E(!0)},Ve=async a=>{if(I)try{await j(I.id,a),E(!1),O(null),S(null)}catch{E(!1),O(null)}};return e.jsxs("div",{className:"space-y-4 md:space-y-6 pb-20 md:pb-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"ÐœÐ¾Ð¸ Ð·Ð°ÑÐ²ÐºÐ¸"}),e.jsxs("p",{className:"text-sm md:text-base text-gray-500 mt-1 truncate",children:[s?.name," â€¢ ",Ie[s?.specialization]||"Ð˜ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒ"]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`px-3 py-2 rounded-xl text-sm font-medium ${_?.status==="available"?"bg-green-100 text-green-700":_?.status==="busy"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:_?.status==="available"?"Ð”Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½":_?.status==="busy"?"Ð—Ð°Ð½ÑÑ‚":"ÐžÑ„Ñ„Ð»Ð°Ð¹Ð½"})})]}),Ne.length>0&&e.jsxs("div",{className:"glass-card p-4 border-2 border-amber-400 bg-amber-50/50 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(P,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-amber-800",children:i==="ru"?"Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° Ð¿ÐµÑ€ÐµÐ½Ð¾Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸":"Vaqtni o'zgartirish so'rovi"}),e.jsx("div",{className:"text-sm text-amber-600",children:i==="ru"?"Ð–Ð¸Ñ‚ÐµÐ»ÑŒ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸ Ð·Ð°ÑÐ²ÐºÑƒ":"Yashovchi arizani ko'chirishni taklif qiladi"})]})]}),Ne.map(a=>e.jsxs("button",{onClick:()=>{H(a),W(!0)},className:"w-full p-3 bg-white/60 rounded-xl text-left flex items-center justify-between active:bg-white/80 transition-colors",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-800",children:[i==="ru"?"Ð—Ð°ÑÐ²ÐºÐ°":"Ariza"," #",a.requestNumber]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[i==="ru"?"ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¾:":"Taklif:"," ",a.proposedDate," ",a.proposedTime]})]}),e.jsx(Ze,{className:"w-5 h-5 text-amber-500"})]},a.id))]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4 md:gap-4",children:[e.jsx("div",{className:"glass-card p-3 md:p-5",children:e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(de,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:M?"...":L?.rating||5}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:i==="ru"?"Ð ÐµÐ¹Ñ‚Ð¸Ð½Ð³":"Reyting"})]})]})}),e.jsx("div",{className:"glass-card p-3 md:p-5",children:e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:M?"...":L?.totalCompleted||0}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:i==="ru"?"Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾":"Bajarildi"})]})]})}),e.jsx("div",{className:"glass-card p-3 md:p-5",children:e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Je,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:M?"...":L?.thisWeek||0}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:i==="ru"?"Ð—Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ":"Hafta"})]})]})}),e.jsx("div",{className:"glass-card p-3 md:p-5",children:e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-purple-400 to-violet-500 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold",children:M?"...":L?.avgCompletionTime||0}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500 leading-tight",children:i==="ru"?"Ð¡Ñ€ÐµÐ´. Ð¼Ð¸Ð½":"O'rt. daq"})]})]})})]}),y.length>0&&e.jsxs("div",{className:`glass-card p-4 md:p-6 border-2 ${y[0]?.isPaused?"border-gray-400 bg-gray-50/50":"border-amber-400 bg-amber-50/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${y[0]?.isPaused?"bg-gray-500":"bg-amber-500 animate-pulse"}`}),e.jsx("span",{className:`font-medium ${y[0]?.isPaused?"text-gray-700":"text-amber-700"}`,children:y[0]?.isPaused?"Ð Ð°Ð±Ð¾Ñ‚Ð° Ð¿Ñ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°":"ÐÐºÑ‚Ð¸Ð²Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°"})]}),y.map(a=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"font-semibold text-base md:text-lg truncate",children:["#",a.number," - ",a.title]}),e.jsx("div",{className:"text-sm md:text-base text-gray-600 truncate",children:oe(a.address,a.apartment)})]}),e.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-3 md:gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-3xl md:text-4xl font-mono font-bold ${a.isPaused?"text-gray-500":"text-amber-600"}`,children:se(U[a.id]||0)}),e.jsx("div",{className:"text-xs md:text-sm text-gray-500",children:a.isPaused?"ÐŸÐ°ÑƒÐ·Ð°":"Ð’Ñ€ÐµÐ¼Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹"})]}),e.jsxs("div",{className:"flex gap-2",children:[a.isPaused?e.jsxs("button",{onClick:()=>Re(a.id),className:"py-3 px-4 md:px-5 rounded-xl font-semibold text-white flex items-center gap-2 active:scale-95 transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)"},children:[e.jsx($e,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:inline",children:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ"})]}):e.jsxs("button",{onClick:()=>Ce(a.id),className:"py-3 px-4 md:px-5 rounded-xl font-semibold text-gray-700 bg-white border-2 border-gray-300 flex items-center gap-2 active:scale-95 transition-transform touch-manipulation",children:[e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:inline",children:"ÐŸÐ°ÑƒÐ·Ð°"})]}),e.jsxs("button",{onClick:()=>ae(a.id),className:"py-3 px-4 md:px-5 rounded-xl font-semibold text-white flex items-center gap-2 active:scale-95 transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #10b981, #059669)"},children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:inline",children:"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ"}),e.jsx("span",{className:"md:hidden",children:"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾"})]})]})]})]},a.id))]}),e.jsx("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0",children:e.jsx("div",{className:"glass-card p-1.5 md:p-1 flex gap-1 min-w-max md:min-w-0 md:inline-flex",children:Ke.map(a=>e.jsxs("button",{onClick:()=>w(a.id),className:`px-4 py-3 md:py-2 rounded-xl font-medium transition-all flex items-center gap-2 whitespace-nowrap touch-manipulation ${c===a.id?"bg-primary-500 text-gray-900 shadow-md":"hover:bg-white/30 active:bg-white/50 text-gray-600"}`,children:[e.jsx("span",{className:"text-sm md:text-base",children:a.label}),a.count>0&&e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs text-white font-medium ${a.color}`,children:a.count})]},a.id))})}),c==="marketplace"?e.jsx("div",{className:"space-y-3",children:Ye?e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:i==="ru"?"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð·Ð°ÐºÐ°Ð·Ð¾Ð²...":"Buyurtmalar yuklanmoqda..."})]}):J.length===0?e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(K,{className:"w-8 h-8 text-orange-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-600",children:i==="ru"?"ÐÐµÑ‚ Ð·Ð°ÐºÐ°Ð·Ð¾Ð² Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð°":"Do'kon buyurtmalari yo'q"}),e.jsx("p",{className:"text-gray-400 mt-1",children:i==="ru"?"Ð’Ð°Ð¼ ÐµÑ‰Ñ‘ Ð½Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ñ‹ Ð·Ð°ÐºÐ°Ð·Ñ‹ Ð¸Ð· Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð°":"Sizga hali do'kon buyurtmalari tayinlanmagan"})]}):J.map(a=>e.jsx(cs,{order:a,onView:()=>X(a),onUpdateStatus:pe,language:i},a.id))}):e.jsx("div",{className:"space-y-3",children:ve.length===0?e.jsxs("div",{className:"glass-card p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(_e,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"ÐÐµÑ‚ Ð·Ð°ÑÐ²Ð¾Ðº"}),e.jsxs("p",{className:"text-gray-400 mt-1",children:[c==="available"&&"ÐÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… Ð·Ð°ÑÐ²Ð¾Ðº Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¹ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸",c==="assigned"&&"ÐÐµÑ‚ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð°ÑÐ²Ð¾Ðº",c==="in_progress"&&"ÐÐµÑ‚ Ð·Ð°ÑÐ²Ð¾Ðº Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ðµ",c==="completed"&&"ÐÐµÑ‚ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð°ÑÐ²Ð¾Ðº"]})]}):ve.map(a=>e.jsx(ts,{request:a,timerSeconds:U[a.id],hasActiveWork:y.length>0,onView:()=>S(a),onTakeRequest:()=>we(a.id),onAccept:()=>ke(a.id),onStartWork:()=>Se(a.id),onPauseWork:()=>Ce(a.id),onResumeWork:()=>Re(a.id),onComplete:()=>ae(a.id),onDecline:()=>Te(a),onReschedule:()=>{B(a),Y(!0)},formatTime:se},a.id))}),k&&!ge&&e.jsx(ls,{request:k,timerSeconds:U[k.id],onClose:()=>S(null),onTakeRequest:()=>{we(k.id),S(null)},onAccept:()=>{ke(k.id),S(null)},onStartWork:()=>{Se(k.id),S(null)},onComplete:()=>{ae(k.id),S(null)},onDecline:()=>Te(k),onReschedule:()=>{B(k),Y(!0),S(null)},formatTime:se}),ge&&I&&e.jsx(is,{request:I,onClose:()=>{E(!1),O(null)},onConfirm:Ve}),We&&G&&e.jsx(ns,{request:G,onClose:()=>{Y(!1),B(null)},onSubmit:a=>{h({requestId:G.id,...a}),Y(!1),B(null),S(null)},language:i}),Fe&&F&&e.jsx(rs,{reschedule:F,onClose:()=>{W(!1),H(null)},onAccept:()=>{f(F.id,!0),W(!1),H(null)},onReject:a=>{f(F.id,!1,a),W(!1),H(null)},language:i}),ue&&e.jsx(ds,{order:ue,onClose:()=>X(null),onUpdateStatus:pe,language:i})]})}function ts({request:s,timerSeconds:d,hasActiveWork:b,onView:t,onTakeRequest:l,onAccept:r,onStartWork:x,onPauseWork:o,onResumeWork:m,onComplete:j,onDecline:h,onReschedule:f,formatTime:N}){const u=["assigned","accepted","in_progress"].includes(s.status),R=c=>{switch(c){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-amber-500";default:return"bg-gray-400"}},i=c=>{const w="px-2 py-1 rounded-lg text-xs font-medium";switch(c){case"new":return e.jsx("span",{className:`${w} bg-purple-100 text-purple-700`,children:"ÐÐ¾Ð²Ð°Ñ"});case"assigned":return e.jsx("span",{className:`${w} bg-blue-100 text-blue-700`,children:"ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð°"});case"accepted":return e.jsx("span",{className:`${w} bg-cyan-100 text-cyan-700`,children:"ÐŸÑ€Ð¸Ð½ÑÑ‚Ð°"});case"in_progress":return e.jsx("span",{className:`${w} bg-amber-100 text-amber-700`,children:"Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ"});case"pending_approval":return e.jsx("span",{className:`${w} bg-purple-100 text-purple-700`,children:"ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚"});case"completed":return e.jsx("span",{className:`${w} bg-green-100 text-green-700`,children:"Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð°"});default:return e.jsx("span",{className:w,children:as[c]})}};return e.jsxs("div",{className:"glass-card p-4 cursor-pointer hover:bg-white/40 active:bg-white/60 active:scale-[0.99] transition-all touch-manipulation",onClick:t,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-2 h-full min-h-[20px] rounded-full ${R(s.priority)} flex-shrink-0`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["#",s.number]}),i(s.status),s.status==="in_progress"&&d!==void 0&&e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-lg font-mono text-xs ${s.isPaused?"bg-gray-100 text-gray-600":"bg-amber-100 text-amber-700"}`,children:[s.isPaused?e.jsx(le,{className:"w-3 h-3"}):e.jsx(Pe,{className:"w-3 h-3"}),N(d)]})]}),e.jsx("h3",{className:"font-semibold text-base md:text-lg leading-tight truncate",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mt-1",children:s.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 text-xs md:text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"truncate max-w-[100px]",children:s.residentName})]}),e.jsxs("a",{href:`tel:${s.residentPhone}`,onClick:c=>c.stopPropagation(),className:"flex items-center gap-1 text-primary-600 active:text-primary-800",children:[e.jsx(T,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ"})]})]}),e.jsx("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:e.jsxs("span",{className:"flex items-center gap-1 truncate",children:[e.jsx(Z,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:oe(s.address,s.apartment)})]})}),s.scheduledDate&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-2 py-1 bg-blue-50 text-blue-700 rounded-lg text-xs",children:[e.jsx(Me,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:new Date(s.scheduledDate).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})}),s.scheduledTime&&e.jsx("span",{children:s.scheduledTime})]}),["assigned","accepted","in_progress"].includes(s.status)&&e.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-gray-400",children:"ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚: "}),e.jsx("span",{className:`font-medium ${s.priority==="urgent"?"text-red-600":s.priority==="high"?"text-orange-600":s.priority==="medium"?"text-amber-600":"text-gray-600"}`,children:s.priority==="urgent"?"Ð¡Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¹":s.priority==="high"?"Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹":s.priority==="medium"?"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹":"ÐÐ¸Ð·ÐºÐ¸Ð¹"})]})}),["assigned","accepted","in_progress"].includes(s.status)&&e.jsxs("button",{onClick:c=>{c.stopPropagation(),f()},className:"mt-3 w-full py-2.5 bg-amber-100 hover:bg-amber-200 text-amber-700 rounded-xl font-medium flex items-center justify-center gap-2 transition-all active:scale-[0.98] touch-manipulation",children:[e.jsx(P,{className:"w-4 h-4"}),"ÐŸÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ"]}),s.status==="completed"&&s.rating&&e.jsx("div",{className:"flex items-center gap-1 mt-2",children:[1,2,3,4,5].map(c=>e.jsx(de,{className:`w-4 h-4 ${c<=s.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},c))}),s.status==="pending_approval"&&e.jsxs("div",{className:"mt-2 text-xs text-purple-600 flex items-center gap-1",children:[e.jsx(V,{className:"w-3.5 h-3.5"}),"ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ"]}),s.status==="in_progress"&&s.rejectionReason&&e.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-1 text-red-700 font-medium text-xs",children:[e.jsx(re,{className:"w-3.5 h-3.5"}),"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ð¾Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°"]}),e.jsx("p",{className:"text-xs text-red-600 mt-1 line-clamp-2",children:s.rejectionReason})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-200/50",onClick:c=>c.stopPropagation(),children:[u&&e.jsxs("button",{onClick:h,className:"py-3 px-4 text-red-600 bg-red-50 hover:bg-red-100 active:bg-red-200 rounded-xl font-medium text-sm flex items-center justify-center gap-2 transition-colors touch-manipulation",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:s.status==="in_progress"?"ÐžÑÐ²Ð¾Ð±Ð¾Ð´Ð¸Ñ‚ÑŒ":"ÐžÑ‚ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ"})]}),s.status==="new"&&e.jsxs("button",{onClick:l,className:"flex-1 py-3 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)"},children:[e.jsx(Ee,{className:"w-5 h-5"}),"Ð’Ð·ÑÑ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ"]}),s.status==="assigned"&&e.jsxs("button",{onClick:r,className:"flex-1 py-3 px-4 rounded-xl font-semibold bg-white border-2 border-gray-200 text-gray-700 flex items-center justify-center gap-2 active:scale-[0.98] active:bg-gray-50 transition-all touch-manipulation",children:[e.jsx(D,{className:"w-5 h-5"}),"ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ"]}),s.status==="accepted"&&(b?e.jsxs("div",{className:"flex-1 py-3 px-4 rounded-xl font-medium bg-gray-100 text-gray-500 flex items-center justify-center gap-2 text-sm",children:[e.jsx(re,{className:"w-4 h-4"}),"Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚Ðµ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ"]}):e.jsxs("button",{onClick:x,className:"flex-1 py-3 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #FFE500, #FFC700)",color:"#000"},children:[e.jsx(ce,{className:"w-5 h-5"}),"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ"]})),s.status==="in_progress"&&e.jsxs("div",{className:"flex-1 flex gap-2",children:[s.isPaused?e.jsxs("button",{onClick:m,className:"flex-1 py-3 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)"},children:[e.jsx($e,{className:"w-5 h-5"}),"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ"]}):e.jsx("button",{onClick:o,className:"py-3 px-4 rounded-xl font-semibold text-gray-700 bg-white border-2 border-gray-300 flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",children:e.jsx(le,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:j,className:"flex-1 py-3 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",style:{background:"linear-gradient(135deg, #10b981, #059669)"},children:[e.jsx(D,{className:"w-5 h-5"}),"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ"]})]})]})]})}function ls({request:s,timerSeconds:d,onClose:b,onTakeRequest:t,onAccept:l,onStartWork:r,onComplete:x,onDecline:o,onReschedule:m,formatTime:j}){const h=["assigned","accepted","in_progress"].includes(s.status),f=["assigned","accepted","in_progress"].includes(s.status),N=i=>new Date(i).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),R=(i=>{switch(i){case"urgent":return{label:"Ð¡Ñ€Ð¾Ñ‡Ð½Ð¾",color:"text-red-600 bg-red-50"};case"high":return{label:"Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹",color:"text-orange-600 bg-orange-50"};case"medium":return{label:"Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹",color:"text-amber-600 bg-amber-50"};default:return{label:"ÐÐ¸Ð·ÐºÐ¸Ð¹",color:"text-gray-600 bg-gray-50"}}})(s.priority);return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"modal-content p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Ð—Ð°ÑÐ²ÐºÐ° #",s.number]}),e.jsx("h2",{className:"text-xl font-bold",children:s.title})]}),e.jsx("button",{onClick:b,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx($,{className:"w-5 h-5"})})]}),s.status==="in_progress"&&d!==void 0&&e.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium text-amber-700",children:"Ð Ð°Ð±Ð¾Ñ‚Ð° Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ"})]}),e.jsx("div",{className:"text-3xl font-mono font-bold text-amber-600",children:j(d)})]})}),s.status==="in_progress"&&s.rejectionReason&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:"Ð Ð°Ð±Ð¾Ñ‚Ð° Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð° - Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ð¾Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°"}),s.rejectionCount&&s.rejectionCount>1&&e.jsxs("span",{className:"text-xs bg-red-100 px-2 py-0.5 rounded",children:[s.rejectionCount,"-Ð¹ Ñ€Ð°Ð·"]})]}),e.jsxs("p",{className:"text-red-600 mb-3",children:[e.jsx("span",{className:"font-medium",children:"ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ñ:"})," ",s.rejectionReason]}),e.jsx("p",{className:"text-sm text-red-600/80",children:'ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, ÑƒÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ ÑÐ½Ð¾Ð²Ð°. ÐŸÐ¾ÑÐ»Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ "Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ".'})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${R.color}`,children:R.label}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700",children:Ie[s.category]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ"}),e.jsx("p",{className:"text-gray-900",children:s.description})]}),s.scheduledDate&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-medium text-blue-800 flex items-center gap-2 mb-2",children:[e.jsx(Me,{className:"w-4 h-4"}),"Ð–ÐµÐ»Ð°ÐµÐ¼Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ"]}),e.jsxs("div",{className:"flex items-center gap-4 text-blue-700",children:[e.jsx("span",{children:new Date(s.scheduledDate).toLocaleDateString("ru-RU",{weekday:"long",day:"numeric",month:"long"})}),s.scheduledTime&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"w-4 h-4"}),s.scheduledTime]})]})]}),e.jsxs("div",{className:"bg-white/30 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"font-medium",children:"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¶Ð¸Ñ‚ÐµÐ»Ðµ"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:s.residentName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`tel:${s.residentPhone}`,className:"text-primary-600 hover:underline",children:s.residentPhone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:oe(s.address,s.apartment)})]}),s.accessInfo&&e.jsxs("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("div",{className:"text-xs text-amber-700 font-medium mb-1",children:"ðŸ”‘ Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð² ÐºÐ²Ð°Ñ€Ñ‚Ð¸Ñ€Ñƒ:"}),e.jsx("div",{className:"text-sm text-amber-900",children:s.accessInfo})]})]})]}),e.jsxs("div",{className:"bg-white/30 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"font-medium",children:"Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Ð¡Ð¾Ð·Ð´Ð°Ð½Ð°"}),e.jsx("span",{children:N(s.createdAt)})]}),s.assignedAt&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð°"}),e.jsx("span",{children:N(s.assignedAt)})]}),s.acceptedAt&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"ÐŸÑ€Ð¸Ð½ÑÑ‚Ð°"}),e.jsx("span",{children:N(s.acceptedAt)})]}),s.startedAt&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Ð Ð°Ð±Ð¾Ñ‚Ð° Ð½Ð°Ñ‡Ð°Ñ‚Ð°"}),e.jsx("span",{children:N(s.startedAt)})]}),s.completedAt&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Ð Ð°Ð±Ð¾Ñ‚Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°"}),e.jsx("span",{children:N(s.completedAt)})]}),s.approvedAt&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð°"}),e.jsx("span",{children:N(s.approvedAt)})]}),s.workDuration&&e.jsxs("div",{className:"flex items-center justify-between border-t pt-2 mt-2",children:[e.jsx("span",{className:"text-gray-500",children:"Ð’Ñ€ÐµÐ¼Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹"}),e.jsxs("span",{className:"font-medium",children:[Math.round(s.workDuration/60)," Ð¼Ð¸Ð½"]})]})]})]}),s.status==="completed"&&s.rating&&e.jsxs("div",{className:"bg-white/30 rounded-xl p-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:"ÐžÑ†ÐµÐ½ÐºÐ°"}),e.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(i=>e.jsx(de,{className:`w-6 h-6 ${i<=s.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},i)),e.jsxs("span",{className:"ml-2 text-lg font-semibold",children:[s.rating,"/5"]})]}),s.feedback&&e.jsxs("p",{className:"mt-2 text-gray-600 italic",children:['"',s.feedback,'"']})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("a",{href:`tel:${s.residentPhone}`,className:"btn-secondary flex-1 flex items-center justify-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ"]}),s.status==="new"&&e.jsxs("button",{onClick:t,className:"btn-primary flex-1 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #8b5cf6, #7c3aed)"},children:[e.jsx(Ee,{className:"w-4 h-4"}),"Ð’Ð·ÑÑ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ"]}),s.status==="assigned"&&e.jsxs("button",{onClick:l,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ"]}),s.status==="accepted"&&e.jsxs("button",{onClick:r,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ"]}),s.status==="in_progress"&&e.jsxs("button",{onClick:x,className:"btn-primary flex-1 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #10b981, #059669)"},children:[e.jsx(D,{className:"w-4 h-4"}),"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ"]})]}),f&&e.jsxs("button",{onClick:m,className:"w-full py-3 bg-amber-100 hover:bg-amber-200 text-amber-700 rounded-xl font-medium flex items-center justify-center gap-2 transition-all",children:[e.jsx(P,{className:"w-4 h-4"}),"ÐŸÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ"]}),h&&e.jsxs("button",{onClick:o,className:"w-full py-2 px-4 rounded-xl font-medium text-red-600 border border-red-300 hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),s.status==="in_progress"?"ÐžÑÐ²Ð¾Ð±Ð¾Ð´Ð¸Ñ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ":"ÐžÑ‚ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð·Ð°ÑÐ²ÐºÐ¸"]})]})]})})}function is({request:s,onClose:d,onConfirm:b}){const[t,l]=n.useState(""),r=s.status==="in_progress",x=r?["Ð—Ð°Ð±Ð¾Ð»ÐµÐ»/ÐÐµ Ð¼Ð¾Ð³Ñƒ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ","ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð° Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚Ð°","ÐÐµÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ñ… Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð² Ð´Ð»Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ","Ð¡Ñ€Ð¾Ñ‡Ð½Ñ‹Ðµ Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¾Ð±ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð°","Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð´Ñ€ÑƒÐ³Ð°Ñ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ"]:["ÐÐµ ÑÐ¼Ð¾Ð³Ñƒ Ð¿Ñ€Ð¸Ð±Ñ‹Ñ‚ÑŒ Ð² ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ","ÐÐµÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ñ… Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð²/Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²","Ð—Ð°Ð±Ð¾Ð»ÐµÐ»/ÐÐµ Ð¼Ð¾Ð³Ñƒ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ","Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð´Ð°Ð»ÐµÐºÐ¾ Ð¾Ñ‚ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð¼ÐµÑÑ‚Ð¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ","Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ Ð·Ð°ÑÐ²ÐºÐ°Ð¼Ð¸"];return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-red-600 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5"}),r?"ÐžÑÐ²Ð¾Ð±Ð¾Ð´Ð¸Ñ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ":"ÐžÑ‚ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð·Ð°ÑÐ²ÐºÐ¸"]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:["Ð—Ð°ÑÐ²ÐºÐ° ",e.jsxs("strong",{children:["#",s.number]})," Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰ÐµÐ½Ð° Ð² Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¼Ñƒ Ð¸ÑÐ¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŽ.",r&&" ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð±ÑƒÐ´ÐµÑ‚ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½."]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¾Ñ‚ÐºÐ°Ð·Ð°"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:x.map(o=>e.jsx("button",{type:"button",onClick:()=>l(o),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${t===o?"bg-red-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:o},o))}),e.jsx("textarea",{value:t,onChange:o=>l(o.target.value),className:"input-field min-h-[80px]",placeholder:"Ð˜Ð»Ð¸ ÑƒÐºÐ°Ð¶Ð¸Ñ‚Ðµ ÑÐ²Ð¾ÑŽ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñƒ..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:d,className:"btn-secondary flex-1",children:"ÐžÑ‚Ð¼ÐµÐ½Ð°"}),e.jsxs("button",{onClick:()=>t.trim()&&b(t),className:"flex-1 py-2 px-4 rounded-xl font-medium bg-red-500 text-white hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!t.trim(),children:[e.jsx(Ae,{className:"w-4 h-4 mr-2 inline"}),r?"ÐžÑÐ²Ð¾Ð±Ð¾Ð´Ð¸Ñ‚ÑŒ":"ÐžÑ‚ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ"]})]})]})]})})}function ns({request:s,onClose:d,onSubmit:b,language:t}){const[l,r]=n.useState(""),[x,o]=n.useState(""),[m,j]=n.useState("busy_time"),[h,f]=n.useState(""),N=new Date().toISOString().split("T")[0];return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-600 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),t==="ru"?"ÐŸÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸ Ð·Ð°ÑÐ²ÐºÑƒ":"Arizani ko'chirish"]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800",children:t==="ru"?`ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð·Ð°ÑÐ²ÐºÐ¸ #${s.number}. Ð–Ð¸Ñ‚ÐµÐ»ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ.`:`#${s.number} ariza uchun yangi vaqt taklif qiling.`})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ru"?"ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¿ÐµÑ€ÐµÐ½Ð¾ÑÐ°":"Ko'chirish sababi"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.keys(A).filter(u=>u!=="not_at_home").map(u=>e.jsx("button",{type:"button",onClick:()=>j(u),className:`px-3 py-2.5 text-sm rounded-xl transition-colors text-left ${m===u?"bg-amber-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:t==="ru"?A[u].label:A[u].labelUz},u))})]}),m==="other"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ru"?"Ð£Ñ‚Ð¾Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñƒ":"Sababni aniqlashtiring"}),e.jsx("textarea",{value:h,onChange:u=>f(u.target.value),className:"input-field min-h-[80px]",placeholder:t==="ru"?"ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñƒ...":"Sababni yozing..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ru"?"ÐÐ¾Ð²Ð°Ñ Ð´Ð°Ñ‚Ð°":"Yangi sana"}),e.jsx("input",{type:"date",min:N,value:l,onChange:u=>r(u.target.value),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ru"?"Ð’Ñ€ÐµÐ¼Ñ":"Vaqt"}),e.jsx("input",{type:"time",value:x,onChange:u=>o(u.target.value),className:"input-field"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:d,className:"btn-secondary flex-1",children:t==="ru"?"ÐžÑ‚Ð¼ÐµÐ½Ð°":"Bekor qilish"}),e.jsxs("button",{onClick:()=>l&&x&&b({proposedDate:l,proposedTime:x,reason:m,reasonText:m==="other"?h:void 0}),className:"flex-1 py-2.5 px-4 rounded-xl font-medium bg-amber-500 text-white hover:bg-amber-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:!l||!x||m==="other"&&!h.trim(),children:[e.jsx(Xe,{className:"w-4 h-4"}),t==="ru"?"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ":"Yuborish"]})]})]})]})})}function rs({reschedule:s,onClose:d,onAccept:b,onReject:t,language:l}){const[r,x]=n.useState(""),[o,m]=n.useState(!1);return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"glass-card p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-amber-600 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),l==="ru"?"Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° Ð¿ÐµÑ€ÐµÐ½Ð¾Ñ":"Ko'chirish so'rovi"]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl",children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[l==="ru"?"Ð—Ð°ÑÐ²ÐºÐ°":"Ariza"," #",s.requestNumber]}),e.jsxs("div",{className:"font-medium text-gray-800",children:[s.initiatorName," ",l==="ru"?"Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ½ÐµÑÑ‚Ð¸ Ð½Ð°:":"taklif qiladi:"]}),e.jsxs("div",{className:"text-xl font-bold text-amber-600 mt-2",children:[s.proposedDate," Ð² ",s.proposedTime]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("strong",{children:l==="ru"?"ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°:":"Sabab:"})," ",l==="ru"?A[s.reason].label:A[s.reason].labelUz,s.reasonText&&` - ${s.reasonText}`]})]}),s.currentDate&&e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[l==="ru"?"Ð¢ÐµÐºÑƒÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ:":"Hozirgi vaqt:"," ",s.currentDate," ",s.currentTime]}),o?e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:l==="ru"?"ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¾Ñ‚ÐºÐ°Ð·Ð° (Ð½ÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾)":"Rad etish sababi (ixtiyoriy)"}),e.jsx("textarea",{value:r,onChange:j=>x(j.target.value),className:"input-field min-h-[80px]",placeholder:l==="ru"?"Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñƒ...":"Sababni yozing..."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"btn-secondary flex-1",children:l==="ru"?"ÐÐ°Ð·Ð°Ð´":"Orqaga"}),e.jsx("button",{onClick:()=>t(r||void 0),className:"flex-1 py-2.5 px-4 rounded-xl font-medium bg-red-500 text-white hover:bg-red-600 transition-colors",children:l==="ru"?"ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ":"Rad etish"})]})]}):e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(!0),className:"flex-1 py-3 px-4 rounded-xl font-medium bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:l==="ru"?"ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ":"Rad etish"}),e.jsxs("button",{onClick:b,className:"flex-1 py-3 px-4 rounded-xl font-medium bg-green-500 text-white hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),l==="ru"?"ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ":"Qabul qilish"]})]})]})]})})}function cs({order:s,onView:d,onUpdateStatus:b,language:t}){const l={confirmed:{label:"ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½",labelUz:"Tayinlangan",color:"bg-indigo-100 text-indigo-700",icon:Le},preparing:{label:"Ð“Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑÑ",labelUz:"Tayyorlanmoqda",color:"bg-amber-100 text-amber-700",icon:ne},ready:{label:"Ð“Ð¾Ñ‚Ð¾Ð²",labelUz:"Tayyor",color:"bg-green-100 text-green-700",icon:C},delivering:{label:"Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ",labelUz:"Yetkazilmoqda",color:"bg-blue-100 text-blue-700",icon:ie},delivered:{label:"Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½",labelUz:"Yetkazildi",color:"bg-gray-100 text-gray-700",icon:C}},r=l[s.status]||l.confirmed,x=r.icon,o=()=>({confirmed:"preparing",preparing:"ready",ready:"delivering",delivering:"delivered"})[s.status],j=(()=>{const h={preparing:{ru:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ",uz:"Tayyorlashni boshlash"},ready:{ru:"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐµ",uz:"Yetkazishga tayyor"},delivering:{ru:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÑƒ",uz:"Yetkazishni boshlash"},delivered:{ru:"Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¾",uz:"Yetkazildi"}},f=o();return f?h[f]:null})();return e.jsxs("div",{className:"glass-card p-4 cursor-pointer hover:bg-white/40 active:bg-white/60 active:scale-[0.99] transition-all touch-manipulation",onClick:d,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["#",s.order_number]}),e.jsxs("span",{className:`px-2 py-0.5 rounded-lg text-xs font-medium flex items-center gap-1 ${r.color}`,children:[e.jsx(x,{className:"w-3 h-3"}),t==="ru"?r.label:r.labelUz]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[s.items_count," ",t==="ru"?"Ñ‚Ð¾Ð²Ð°Ñ€(Ð¾Ð²)":"mahsulot"," â€¢ ",s.total_amount.toLocaleString()," ÑÑƒÐ¼"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"truncate max-w-[120px]",children:s.user_name})]}),e.jsxs("a",{href:`tel:${s.user_phone}`,onClick:h=>h.stopPropagation(),className:"flex items-center gap-1 text-primary-600 active:text-primary-800",children:[e.jsx(T,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:t==="ru"?"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ":"Qo'ng'iroq"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-gray-500",children:[e.jsx(Z,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.delivery_address})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-400",children:[e.jsx(V,{className:"w-3 h-3"}),new Date(s.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]})]})]}),j&&e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200/50",onClick:h=>h.stopPropagation(),children:e.jsxs("button",{onClick:()=>b(s.id,o()),className:"w-full py-3 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform touch-manipulation",style:{background:s.status==="confirmed"?"linear-gradient(135deg, #f59e0b, #d97706)":s.status==="preparing"?"linear-gradient(135deg, #10b981, #059669)":s.status==="ready"?"linear-gradient(135deg, #3b82f6, #2563eb)":"linear-gradient(135deg, #10b981, #059669)"},children:[s.status==="confirmed"&&e.jsx(ne,{className:"w-5 h-5"}),s.status==="preparing"&&e.jsx(C,{className:"w-5 h-5"}),s.status==="ready"&&e.jsx(ie,{className:"w-5 h-5"}),s.status==="delivering"&&e.jsx(C,{className:"w-5 h-5"}),t==="ru"?j.ru:j.uz]})})]})}function ds({order:s,onClose:d,onUpdateStatus:b,language:t}){const l={confirmed:{label:"ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½",labelUz:"Tayinlangan",color:"bg-indigo-100 text-indigo-700"},preparing:{label:"Ð“Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑÑ",labelUz:"Tayyorlanmoqda",color:"bg-amber-100 text-amber-700"},ready:{label:"Ð“Ð¾Ñ‚Ð¾Ð²",labelUz:"Tayyor",color:"bg-green-100 text-green-700"},delivering:{label:"Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ",labelUz:"Yetkazilmoqda",color:"bg-blue-100 text-blue-700"},delivered:{label:"Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½",labelUz:"Yetkazildi",color:"bg-gray-100 text-gray-700"}},r=l[s.status]||l.confirmed,x=()=>({confirmed:"preparing",preparing:"ready",ready:"delivering",delivering:"delivered"})[s.status],m=(()=>{const h={preparing:{ru:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ",uz:"Tayyorlashni boshlash",icon:ne},ready:{ru:"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐµ",uz:"Yetkazishga tayyor",icon:C},delivering:{ru:"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÑƒ",uz:"Yetkazishni boshlash",icon:ie},delivered:{ru:"Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¾",uz:"Yetkazildi",icon:C}},f=x();return f?h[f]:null})(),j=m?.icon||Le;return e.jsx("div",{className:"modal-backdrop",children:e.jsxs("div",{className:"modal-content p-6 w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[t==="ru"?"Ð—Ð°ÐºÐ°Ð· Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð°":"Do'kon buyurtmasi"," #",s.order_number]}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-sm font-medium ${r.color}`,children:t==="ru"?r.label:r.labelUz})})]}),e.jsx("button",{onClick:d,className:"p-2 hover:bg-white/30 rounded-lg",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-amber-500 rounded-xl flex items-center justify-center",children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[s.items_count," ",t==="ru"?"Ñ‚Ð¾Ð²Ð°Ñ€(Ð¾Ð²)":"mahsulot"]}),e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[s.total_amount.toLocaleString()," ÑÑƒÐ¼"]})]})]})}),e.jsxs("div",{className:"bg-white/30 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"font-medium",children:t==="ru"?"Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ðµ":"Mijoz haqida"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:s.user_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-gray-400"}),e.jsx("a",{href:`tel:${s.user_phone}`,className:"text-primary-600 hover:underline",children:s.user_phone})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-gray-400 mt-0.5"}),e.jsx("span",{children:s.delivery_address})]})]})]}),s.delivery_notes&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[e.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:t==="ru"?"ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ Ðº Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐµ":"Yetkazish uchun eslatma"}),e.jsx("p",{className:"text-sm text-amber-700",children:s.delivery_notes})]}),e.jsxs("div",{className:"bg-white/30 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"font-medium",children:t==="ru"?"Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ":"Tarix"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:t==="ru"?"Ð¡Ð¾Ð·Ð´Ð°Ð½":"Yaratildi"}),e.jsx("span",{children:new Date(s.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.assigned_at&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:t==="ru"?"ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½":"Tayinlandi"}),e.jsx("span",{children:new Date(s.assigned_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[e.jsx("div",{className:"flex gap-3",children:e.jsxs("a",{href:`tel:${s.user_phone}`,className:"btn-secondary flex-1 flex items-center justify-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),t==="ru"?"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ":"Qo'ng'iroq"]})}),m&&e.jsxs("button",{onClick:()=>{b(s.id,x())},className:"w-full py-3 px-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 active:scale-[0.98] transition-transform",style:{background:s.status==="confirmed"?"linear-gradient(135deg, #f59e0b, #d97706)":s.status==="preparing"?"linear-gradient(135deg, #10b981, #059669)":s.status==="ready"?"linear-gradient(135deg, #3b82f6, #2563eb)":"linear-gradient(135deg, #10b981, #059669)"},children:[e.jsx(j,{className:"w-5 h-5"}),t==="ru"?m.ru:m.uz]})]})]})})}export{gs as ExecutorDashboard};
//# sourceMappingURL=ExecutorDashboard-1768650638000-DHB97SmH.js.map
