{"version":3,"file":"AdminDashboard-1769428875114-CNGCAsjH.js","sources":["../../src/pages/AdminDashboard.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport {\r\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend,\r\n  ResponsiveContainer, PieChart, Pie, Cell, AreaChart, Area\r\n} from '../components/LazyCharts';\r\nimport {\r\n  Users, FileText, Clock, CheckCircle, AlertTriangle,\r\n  RefreshCw, UserCheck, ShoppingBag, Download, Calendar,\r\n  Package, DollarSign, Star, TrendingUp, Briefcase, Activity\r\n} from 'lucide-react';\r\nimport { useDataStore } from '../stores/dataStore';\r\nimport { SPECIALIZATION_LABELS } from '../types';\r\nimport { apiRequest } from '../services/api';\r\nimport ExcelJS from 'exceljs';\r\n\r\ninterface MarketplaceReport {\r\n  period: { start_date: string; end_date: string };\r\n  overall: {\r\n    total_orders: number;\r\n    delivered_orders: number;\r\n    cancelled_orders: number;\r\n    total_revenue: number;\r\n    total_delivery_fees: number;\r\n    avg_rating: number;\r\n    rated_orders: number;\r\n  };\r\n  top_products: Array<{\r\n    product_id: string;\r\n    product_name: string;\r\n    image_url: string;\r\n    total_sold: number;\r\n    total_revenue: number;\r\n    order_count: number;\r\n  }>;\r\n  categories: Array<{\r\n    category_name: string;\r\n    total_sold: number;\r\n    total_revenue: number;\r\n    order_count: number;\r\n  }>;\r\n  daily_sales: Array<{\r\n    date: string;\r\n    orders: number;\r\n    revenue: number;\r\n  }>;\r\n  orders_by_status: Array<{\r\n    status: string;\r\n    count: number;\r\n  }>;\r\n  top_customers: Array<{\r\n    user_id: string;\r\n    user_name: string;\r\n    user_phone: string;\r\n    order_count: number;\r\n    total_spent: number;\r\n  }>;\r\n  executor_stats: Array<{\r\n    executor_id: string;\r\n    executor_name: string;\r\n    delivered_count: number;\r\n    avg_rating: number;\r\n  }>;\r\n}\r\n\r\ntype TabType = 'overview' | 'marketplace';\r\n\r\nexport function AdminDashboard() {\r\n  const { requests, executors, getStats } = useDataStore();\r\n\r\n  const stats = getStats();\r\n\r\n  const [activeTab, setActiveTab] = useState<TabType>('overview');\r\n  const [marketplaceReport, setMarketplaceReport] = useState<MarketplaceReport | null>(null);\r\n  const [isLoadingReport, setIsLoadingReport] = useState(false);\r\n  const [reportStartDate, setReportStartDate] = useState(() => {\r\n    const d = new Date();\r\n    d.setDate(d.getDate() - 30);\r\n    return d.toISOString().slice(0, 10);\r\n  });\r\n  const [reportEndDate, setReportEndDate] = useState(() => new Date().toISOString().slice(0, 10));\r\n\r\n  // Get pending approval requests that need attention\r\n  const pendingApprovalRequests = requests.filter(r => r.status === 'pending_approval');\r\n\r\n  // Get requests where resident hasn't approved for more than 24 hours\r\n  const staleApprovals = pendingApprovalRequests.filter(r => {\r\n    if (!r.completedAt) return false;\r\n    const completedTime = new Date(r.completedAt).getTime();\r\n    const hoursSinceCompletion = (Date.now() - completedTime) / (1000 * 60 * 60);\r\n    return hoursSinceCompletion > 24;\r\n  });\r\n\r\n  // Load marketplace report when tab changes or dates change\r\n  useEffect(() => {\r\n    if (activeTab === 'marketplace') {\r\n      loadMarketplaceReport();\r\n    }\r\n  }, [activeTab, reportStartDate, reportEndDate]);\r\n\r\n  const loadMarketplaceReport = async () => {\r\n    setIsLoadingReport(true);\r\n    try {\r\n      const data = await apiRequest<MarketplaceReport>(\r\n        `/api/marketplace/admin/reports?start_date=${reportStartDate}&end_date=${reportEndDate}`\r\n      );\r\n      setMarketplaceReport(data);\r\n    } catch (err) {\r\n      console.error('Failed to load marketplace report:', err);\r\n    } finally {\r\n      setIsLoadingReport(false);\r\n    }\r\n  };\r\n\r\n  const exportMarketplaceReport = async () => {\r\n    if (!marketplaceReport) return;\r\n\r\n    const workbook = new ExcelJS.Workbook();\r\n    workbook.creator = 'Kamizo';\r\n    workbook.created = new Date();\r\n\r\n    const formatCurrency = (value: number) => `${value.toLocaleString('ru-RU')} сум`;\r\n\r\n    // Common styles\r\n    const headerStyle: Partial<ExcelJS.Style> = {\r\n      font: { bold: true, size: 11 },\r\n      alignment: { horizontal: 'center', vertical: 'middle' },\r\n      fill: { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FFE0E0E0' } },\r\n      border: {\r\n        top: { style: 'thin' },\r\n        bottom: { style: 'thin' },\r\n        left: { style: 'thin' },\r\n        right: { style: 'thin' },\r\n      },\r\n    };\r\n    const cellStyle: Partial<ExcelJS.Style> = {\r\n      alignment: { horizontal: 'left', vertical: 'middle' },\r\n      border: {\r\n        top: { style: 'thin' },\r\n        bottom: { style: 'thin' },\r\n        left: { style: 'thin' },\r\n        right: { style: 'thin' },\r\n      },\r\n    };\r\n    const centerStyle: Partial<ExcelJS.Style> = {\r\n      alignment: { horizontal: 'center', vertical: 'middle' },\r\n      border: {\r\n        top: { style: 'thin' },\r\n        bottom: { style: 'thin' },\r\n        left: { style: 'thin' },\r\n        right: { style: 'thin' },\r\n      },\r\n    };\r\n    const currencyStyle: Partial<ExcelJS.Style> = {\r\n      alignment: { horizontal: 'right', vertical: 'middle' },\r\n      border: {\r\n        top: { style: 'thin' },\r\n        bottom: { style: 'thin' },\r\n        left: { style: 'thin' },\r\n        right: { style: 'thin' },\r\n      },\r\n    };\r\n\r\n    // ============ Sheet 1: Summary ============\r\n    const ws1 = workbook.addWorksheet('Сводный отчёт');\r\n    ws1.columns = [\r\n      { width: 25 }, { width: 35 }, { width: 18 }, { width: 22 }, { width: 15 }\r\n    ];\r\n\r\n    // Title - merged and centered\r\n    const titleRow = ws1.addRow(['ОТЧЁТ ПО МАРКЕТПЛЕЙСУ']);\r\n    ws1.mergeCells(`A${titleRow.number}:E${titleRow.number}`);\r\n    titleRow.getCell(1).style = { font: { bold: true, size: 16 }, alignment: { horizontal: 'center' } };\r\n    ws1.addRow([]);\r\n    ws1.addRow(['Период:', `${marketplaceReport.period.start_date} — ${marketplaceReport.period.end_date}`]);\r\n    ws1.addRow(['Дата формирования:', new Date().toLocaleDateString('ru-RU')]);\r\n    ws1.addRow([]);\r\n\r\n    // Overall Stats Section\r\n    const statsTitle = ws1.addRow(['ОБЩАЯ СТАТИСТИКА']);\r\n    ws1.mergeCells(`A${statsTitle.number}:E${statsTitle.number}`);\r\n    statsTitle.getCell(1).style = { font: { bold: true, size: 12 }, alignment: { horizontal: 'center' } };\r\n    ws1.addRow([]);\r\n    const statsHeader = ws1.addRow(['Показатель', 'Значение']);\r\n    statsHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    const statsData = [\r\n      ['Всего заказов', marketplaceReport.overall.total_orders],\r\n      ['Доставлено заказов', marketplaceReport.overall.delivered_orders],\r\n      ['Отменено заказов', marketplaceReport.overall.cancelled_orders],\r\n      ['Общая выручка', formatCurrency(marketplaceReport.overall.total_revenue)],\r\n      ['Доход от доставки', formatCurrency(marketplaceReport.overall.total_delivery_fees)],\r\n      ['Средний рейтинг', `${marketplaceReport.overall.avg_rating.toFixed(1)} ⭐`],\r\n      ['Количество оценок', marketplaceReport.overall.rated_orders],\r\n    ];\r\n    statsData.forEach(row => {\r\n      const r = ws1.addRow(row);\r\n      r.getCell(1).style = cellStyle;\r\n      r.getCell(2).style = centerStyle;\r\n    });\r\n\r\n    ws1.addRow([]);\r\n    ws1.addRow([]);\r\n\r\n    // Top Products Section\r\n    const prodTitle = ws1.addRow(['ТОП-10 ТОВАРОВ ПО ПРОДАЖАМ']);\r\n    ws1.mergeCells(`A${prodTitle.number}:E${prodTitle.number}`);\r\n    prodTitle.getCell(1).style = { font: { bold: true, size: 12 }, alignment: { horizontal: 'center' } };\r\n    ws1.addRow([]);\r\n    const prodHeader = ws1.addRow(['№', 'Название товара', 'Продано (шт)', 'Выручка', 'Заказов']);\r\n    prodHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.top_products.forEach((p, i) => {\r\n      const r = ws1.addRow([i + 1, p.product_name, p.total_sold, formatCurrency(p.total_revenue), p.order_count]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = cellStyle;\r\n      r.getCell(3).style = centerStyle;\r\n      r.getCell(4).style = currencyStyle;\r\n      r.getCell(5).style = centerStyle;\r\n    });\r\n\r\n    ws1.addRow([]);\r\n    ws1.addRow([]);\r\n\r\n    // Categories Section\r\n    const catTitle = ws1.addRow(['ПРОДАЖИ ПО КАТЕГОРИЯМ']);\r\n    ws1.mergeCells(`A${catTitle.number}:E${catTitle.number}`);\r\n    catTitle.getCell(1).style = { font: { bold: true, size: 12 }, alignment: { horizontal: 'center' } };\r\n    ws1.addRow([]);\r\n    const catHeader = ws1.addRow(['№', 'Категория', 'Продано (шт)', 'Выручка', 'Заказов']);\r\n    catHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.categories.forEach((c, i) => {\r\n      const r = ws1.addRow([i + 1, c.category_name, c.total_sold, formatCurrency(c.total_revenue), c.order_count]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = cellStyle;\r\n      r.getCell(3).style = centerStyle;\r\n      r.getCell(4).style = currencyStyle;\r\n      r.getCell(5).style = centerStyle;\r\n    });\r\n\r\n    ws1.addRow([]);\r\n    ws1.addRow([]);\r\n\r\n    // Couriers Stats Section on Summary sheet\r\n    const courSummaryTitle = ws1.addRow(['СТАТИСТИКА КУРЬЕРОВ']);\r\n    ws1.mergeCells(`A${courSummaryTitle.number}:E${courSummaryTitle.number}`);\r\n    courSummaryTitle.getCell(1).style = { font: { bold: true, size: 12 }, alignment: { horizontal: 'center' } };\r\n    ws1.addRow([]);\r\n    const courSummaryHeader = ws1.addRow(['№', 'Имя курьера', 'Доставлено заказов', 'Средний рейтинг']);\r\n    courSummaryHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.executor_stats.forEach((e, i) => {\r\n      const r = ws1.addRow([i + 1, e.executor_name, e.delivered_count, `${e.avg_rating.toFixed(1)} ⭐`]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = cellStyle;\r\n      r.getCell(3).style = centerStyle;\r\n      r.getCell(4).style = centerStyle;\r\n    });\r\n\r\n    ws1.addRow([]);\r\n    ws1.addRow([]);\r\n\r\n    // Top Customers Section on Summary sheet\r\n    const custSummaryTitle = ws1.addRow(['ТОП-10 ПОКУПАТЕЛЕЙ']);\r\n    ws1.mergeCells(`A${custSummaryTitle.number}:E${custSummaryTitle.number}`);\r\n    custSummaryTitle.getCell(1).style = { font: { bold: true, size: 12 }, alignment: { horizontal: 'center' } };\r\n    ws1.addRow([]);\r\n    const custSummaryHeader = ws1.addRow(['№', 'Имя клиента', 'Телефон', 'Заказов', 'Сумма покупок']);\r\n    custSummaryHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.top_customers.forEach((c, i) => {\r\n      const r = ws1.addRow([i + 1, c.user_name, c.user_phone, c.order_count, formatCurrency(c.total_spent)]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = cellStyle;\r\n      r.getCell(3).style = cellStyle;\r\n      r.getCell(4).style = centerStyle;\r\n      r.getCell(5).style = currencyStyle;\r\n    });\r\n\r\n    // ============ Sheet 2: Daily Sales ============\r\n    const ws2 = workbook.addWorksheet('По дням');\r\n    ws2.columns = [{ width: 18 }, { width: 22 }, { width: 25 }];\r\n\r\n    const dailyTitle = ws2.addRow(['ПРОДАЖИ ПО ДНЯМ']);\r\n    ws2.mergeCells(`A${dailyTitle.number}:C${dailyTitle.number}`);\r\n    dailyTitle.getCell(1).style = { font: { bold: true, size: 14 }, alignment: { horizontal: 'center' } };\r\n    ws2.addRow([]);\r\n    const dailyHeader = ws2.addRow(['Дата', 'Количество заказов', 'Выручка']);\r\n    dailyHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.daily_sales.forEach(d => {\r\n      const r = ws2.addRow([d.date, d.orders, formatCurrency(d.revenue)]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = centerStyle;\r\n      r.getCell(3).style = currencyStyle;\r\n    });\r\n\r\n    ws2.addRow([]);\r\n    const totalRow = ws2.addRow([\r\n      'ИТОГО:',\r\n      marketplaceReport.daily_sales.reduce((sum, d) => sum + d.orders, 0),\r\n      formatCurrency(marketplaceReport.daily_sales.reduce((sum, d) => sum + d.revenue, 0))\r\n    ]);\r\n    totalRow.getCell(1).style = { ...cellStyle, font: { bold: true } };\r\n    totalRow.getCell(2).style = { ...centerStyle, font: { bold: true } };\r\n    totalRow.getCell(3).style = { ...currencyStyle, font: { bold: true } };\r\n\r\n    // ============ Sheet 3: Products ============\r\n    const ws3 = workbook.addWorksheet('Товары');\r\n    ws3.columns = [{ width: 6 }, { width: 45 }, { width: 16 }, { width: 22 }, { width: 12 }];\r\n\r\n    const prodListTitle = ws3.addRow(['ДЕТАЛЬНЫЙ ОТЧЁТ ПО ТОВАРАМ']);\r\n    ws3.mergeCells(`A${prodListTitle.number}:E${prodListTitle.number}`);\r\n    prodListTitle.getCell(1).style = { font: { bold: true, size: 14 }, alignment: { horizontal: 'center' } };\r\n    ws3.addRow([]);\r\n    const prodListHeader = ws3.addRow(['№', 'Название товара', 'Продано (шт)', 'Выручка', 'Заказов']);\r\n    prodListHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.top_products.forEach((p, i) => {\r\n      const r = ws3.addRow([i + 1, p.product_name, p.total_sold, formatCurrency(p.total_revenue), p.order_count]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = cellStyle;\r\n      r.getCell(3).style = centerStyle;\r\n      r.getCell(4).style = currencyStyle;\r\n      r.getCell(5).style = centerStyle;\r\n    });\r\n\r\n    // ============ Sheet 4: Customers ============\r\n    const ws4 = workbook.addWorksheet('Покупатели');\r\n    ws4.columns = [{ width: 6 }, { width: 30 }, { width: 18 }, { width: 20 }, { width: 25 }];\r\n\r\n    const custTitle = ws4.addRow(['ДЕТАЛЬНЫЙ ОТЧЁТ ПО ПОКУПАТЕЛЯМ']);\r\n    ws4.mergeCells(`A${custTitle.number}:E${custTitle.number}`);\r\n    custTitle.getCell(1).style = { font: { bold: true, size: 14 }, alignment: { horizontal: 'center' } };\r\n    ws4.addRow([]);\r\n    const custHeader = ws4.addRow(['№', 'Имя клиента', 'Телефон', 'Количество заказов', 'Сумма покупок']);\r\n    custHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.top_customers.forEach((c, i) => {\r\n      const r = ws4.addRow([i + 1, c.user_name, c.user_phone, c.order_count, formatCurrency(c.total_spent)]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = cellStyle;\r\n      r.getCell(3).style = centerStyle;\r\n      r.getCell(4).style = centerStyle;\r\n      r.getCell(5).style = currencyStyle;\r\n    });\r\n\r\n    // ============ Sheet 5: Couriers ============\r\n    const ws5 = workbook.addWorksheet('Курьеры');\r\n    ws5.columns = [{ width: 6 }, { width: 30 }, { width: 22 }, { width: 18 }];\r\n\r\n    const courTitle = ws5.addRow(['ОТЧЁТ ПО КУРЬЕРАМ']);\r\n    ws5.mergeCells(`A${courTitle.number}:D${courTitle.number}`);\r\n    courTitle.getCell(1).style = { font: { bold: true, size: 14 }, alignment: { horizontal: 'center' } };\r\n    ws5.addRow([]);\r\n    const courHeader = ws5.addRow(['№', 'Имя курьера', 'Доставлено заказов', 'Средний рейтинг']);\r\n    courHeader.eachCell((cell) => { cell.style = headerStyle; });\r\n\r\n    marketplaceReport.executor_stats.forEach((e, i) => {\r\n      const r = ws5.addRow([i + 1, e.executor_name, e.delivered_count, `${e.avg_rating.toFixed(1)} ⭐`]);\r\n      r.getCell(1).style = centerStyle;\r\n      r.getCell(2).style = cellStyle;\r\n      r.getCell(3).style = centerStyle;\r\n      r.getCell(4).style = centerStyle;\r\n    });\r\n\r\n    // Generate and download file\r\n    const buffer = await workbook.xlsx.writeBuffer();\r\n    const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `Отчёт_маркетплейс_${reportStartDate}_${reportEndDate}.xlsx`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 md:space-y-6\">\r\n      {/* Header - mobile optimized */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"min-w-0 flex-1\">\r\n          <h1 className=\"text-xl md:text-2xl font-bold text-gray-900 truncate\">Панель администратора</h1>\r\n          <p className=\"text-gray-500 text-sm md:text-base mt-0.5 md:mt-1\">Мониторинг системы</p>\r\n        </div>\r\n        <button className=\"btn-secondary flex items-center gap-2 flex-shrink-0 py-2 px-3 md:py-2.5 md:px-4 touch-manipulation\">\r\n          <RefreshCw className=\"w-4 h-4\" />\r\n          <span className=\"hidden sm:inline\">Обновить</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex gap-2 border-b border-gray-200\">\r\n        <button\r\n          onClick={() => setActiveTab('overview')}\r\n          className={`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${\r\n            activeTab === 'overview'\r\n              ? 'border-orange-500 text-orange-600'\r\n              : 'border-transparent text-gray-500 hover:text-gray-700'\r\n          }`}\r\n        >\r\n          <Activity className=\"w-4 h-4 inline mr-2\" />\r\n          Обзор\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('marketplace')}\r\n          className={`px-4 py-2 font-medium text-sm border-b-2 transition-colors ${\r\n            activeTab === 'marketplace'\r\n              ? 'border-orange-500 text-orange-600'\r\n              : 'border-transparent text-gray-500 hover:text-gray-700'\r\n          }`}\r\n        >\r\n          <ShoppingBag className=\"w-4 h-4 inline mr-2\" />\r\n          Маркетплейс\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === 'overview' && (\r\n        <>\r\n          {/* Alerts - mobile optimized */}\r\n          {(staleApprovals.length > 0 || pendingApprovalRequests.length > 0) && (\r\n            <div className=\"space-y-2 md:space-y-3\">\r\n              {staleApprovals.length > 0 && (\r\n                <div className=\"glass-card p-3 md:p-4 border-2 border-red-400 bg-red-50/50 w-full text-left\">\r\n                  <div className=\"flex items-center gap-2 md:gap-3\">\r\n                    <AlertTriangle className=\"w-5 h-5 md:w-6 md:h-6 text-red-600 flex-shrink-0\" />\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"font-medium text-red-800 text-sm md:text-base\">\r\n                        {staleApprovals.length} заявок &gt;24ч\r\n                      </div>\r\n                      <div className=\"text-xs md:text-sm text-red-600 hidden sm:block\">\r\n                        Ожидают подтверждения\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {pendingApprovalRequests.length > 0 && staleApprovals.length === 0 && (\r\n                <div className=\"glass-card p-3 md:p-4 border-2 border-purple-400 bg-purple-50/50\">\r\n                  <div className=\"flex items-center gap-2 md:gap-3\">\r\n                    <Clock className=\"w-5 h-5 md:w-6 md:h-6 text-purple-600 flex-shrink-0\" />\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"font-medium text-purple-800 text-sm md:text-base\">\r\n                        {pendingApprovalRequests.length} ожидают подтверждения\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Stats Cards - mobile optimized */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4\">\r\n            <div className=\"glass-card p-3 md:p-5\">\r\n              <div className=\"flex items-center gap-2 md:gap-3\">\r\n                <div className=\"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-xl flex items-center justify-center flex-shrink-0\">\r\n                  <FileText className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"text-2xl md:text-3xl font-bold\">{stats.totalRequests}</div>\r\n                  <div className=\"text-xs md:text-sm text-gray-500 truncate\">Всего</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-3 md:p-5\">\r\n              <div className=\"flex items-center gap-2 md:gap-3\">\r\n                <div className=\"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center flex-shrink-0\">\r\n                  <Clock className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"text-2xl md:text-3xl font-bold\">{stats.inProgress}</div>\r\n                  <div className=\"text-xs md:text-sm text-gray-500 truncate\">В работе</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-3 md:p-5\">\r\n              <div className=\"flex items-center gap-2 md:gap-3\">\r\n                <div className=\"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-purple-400 to-violet-500 rounded-xl flex items-center justify-center flex-shrink-0\">\r\n                  <UserCheck className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"text-2xl md:text-3xl font-bold\">{stats.pendingApproval}</div>\r\n                  <div className=\"text-xs md:text-sm text-gray-500 truncate\">Ожидание</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"glass-card p-3 md:p-5\">\r\n              <div className=\"flex items-center gap-2 md:gap-3\">\r\n                <div className=\"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center flex-shrink-0\">\r\n                  <CheckCircle className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\r\n                </div>\r\n                <div className=\"min-w-0\">\r\n                  <div className=\"text-2xl md:text-3xl font-bold\">{stats.completedWeek}</div>\r\n                  <div className=\"text-xs md:text-sm text-gray-500 truncate\">За неделю</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content Grid */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6\">\r\n            {/* Executors Status */}\r\n            <div className=\"glass-card p-4 md:p-5\">\r\n              <div className=\"flex items-center justify-between mb-3 md:mb-4\">\r\n                <h3 className=\"font-semibold text-base md:text-lg flex items-center gap-2\">\r\n                  <Users className=\"w-5 h-5 text-blue-500\" />\r\n                  Исполнители\r\n                </h3>\r\n                <span className=\"text-sm text-gray-500\">{executors.length} всего</span>\r\n              </div>\r\n              <div className=\"space-y-2 md:space-y-3\">\r\n                {executors.slice(0, 6).map((executor) => (\r\n                  <div key={executor.id} className=\"flex items-center justify-between p-2 md:p-3 bg-white/30 rounded-lg\">\r\n                    <div className=\"flex items-center gap-2 md:gap-3 min-w-0\">\r\n                      <div className={`w-2.5 h-2.5 md:w-3 md:h-3 rounded-full flex-shrink-0 ${\r\n                        executor.status === 'available' ? 'bg-green-500' :\r\n                        executor.status === 'busy' ? 'bg-amber-500' : 'bg-gray-400'\r\n                      }`} />\r\n                      <div className=\"min-w-0\">\r\n                        <div className=\"font-medium text-sm md:text-base truncate\">{executor.name}</div>\r\n                        <div className=\"text-xs md:text-sm text-gray-500 truncate\">\r\n                          {SPECIALIZATION_LABELS[executor.specialization]}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-right flex-shrink-0 ml-2\">\r\n                      <div className=\"font-semibold text-sm md:text-base\">{executor.activeRequests}</div>\r\n                      <div className=\"text-xs md:text-sm text-gray-500\">заявок</div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {executors.length === 0 && (\r\n                  <div className=\"text-center text-gray-500 py-4 text-sm\">\r\n                    Нет исполнителей\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Requests by Status */}\r\n            <div className=\"glass-card p-4 md:p-5\">\r\n              <h3 className=\"font-semibold text-base md:text-lg mb-3 md:mb-4 flex items-center gap-2\">\r\n                <FileText className=\"w-5 h-5 text-purple-500\" />\r\n                Заявки по статусам\r\n              </h3>\r\n              <div className=\"space-y-3 md:space-y-4\">\r\n                {[\r\n                  { status: 'new', label: 'Новые', color: 'bg-blue-500', gradientFrom: 'from-blue-400', gradientTo: 'to-blue-500' },\r\n                  { status: 'assigned', label: 'Назначенные', color: 'bg-indigo-500', gradientFrom: 'from-indigo-400', gradientTo: 'to-indigo-500' },\r\n                  { status: 'in_progress', label: 'В работе', color: 'bg-amber-500', gradientFrom: 'from-amber-400', gradientTo: 'to-amber-500' },\r\n                  { status: 'pending_approval', label: 'Ожидают', color: 'bg-purple-500', gradientFrom: 'from-purple-400', gradientTo: 'to-purple-500' },\r\n                  { status: 'completed', label: 'Выполненные', color: 'bg-green-500', gradientFrom: 'from-green-400', gradientTo: 'to-green-500' },\r\n                ].map(({ status, label, gradientFrom, gradientTo }) => {\r\n                  const count = requests.filter(r => r.status === status).length;\r\n                  const percentage = stats.totalRequests > 0 ? (count / stats.totalRequests) * 100 : 0;\r\n                  return (\r\n                    <div key={status}>\r\n                      <div className=\"flex items-center justify-between text-xs md:text-sm mb-1.5\">\r\n                        <span className=\"text-gray-700\">{label}</span>\r\n                        <span className=\"font-semibold\">{count}</span>\r\n                      </div>\r\n                      <div className=\"h-2 md:h-2.5 bg-gray-200 rounded-full overflow-hidden\">\r\n                        <div\r\n                          className={`h-full bg-gradient-to-r ${gradientFrom} ${gradientTo} transition-all duration-500`}\r\n                          style={{ width: `${percentage}%` }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Top Performers */}\r\n            <div className=\"glass-card p-4 md:p-5\">\r\n              <h3 className=\"font-semibold text-base md:text-lg mb-3 md:mb-4 flex items-center gap-2\">\r\n                <span className=\"text-yellow-500\">★</span>\r\n                Лучшие исполнители\r\n              </h3>\r\n              <div className=\"space-y-2 md:space-y-3\">\r\n                {[...executors]\r\n                  .sort((a, b) => b.completedCount - a.completedCount)\r\n                  .slice(0, 5)\r\n                  .map((executor, index) => (\r\n                    <div key={executor.id} className=\"flex items-center p-2 md:p-3 bg-white/30 rounded-lg\">\r\n                      <div className=\"flex items-center gap-2 md:gap-3 min-w-0 flex-1\">\r\n                        <div className={`w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center font-bold text-white text-sm flex-shrink-0 ${\r\n                          index === 0 ? 'bg-orange-500' :\r\n                          index === 1 ? 'bg-gray-400' :\r\n                          index === 2 ? 'bg-amber-600' : 'bg-gray-300'\r\n                        }`}>\r\n                          {index + 1}\r\n                        </div>\r\n                        <div className=\"min-w-0\">\r\n                          <div className=\"font-medium text-sm md:text-base truncate\">{executor.name}</div>\r\n                          <div className=\"flex items-center gap-1 md:gap-2 text-xs md:text-sm text-gray-500\">\r\n                            <span>★ {executor.rating}</span>\r\n                            <span className=\"hidden sm:inline\">•</span>\r\n                            <span className=\"hidden sm:inline\">{executor.completedCount} заявок</span>\r\n                            <span className=\"sm:hidden\">{executor.completedCount}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                {executors.length === 0 && (\r\n                  <div className=\"text-center text-gray-500 py-4 text-sm\">\r\n                    Нет данных\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Quick Stats */}\r\n            <div className=\"glass-card p-4 md:p-5\">\r\n              <h3 className=\"font-semibold text-base md:text-lg mb-3 md:mb-4 flex items-center gap-2\">\r\n                <CheckCircle className=\"w-5 h-5 text-green-500\" />\r\n                Сводка\r\n              </h3>\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div className=\"bg-white/30 rounded-lg p-3\">\r\n                  <div className=\"text-gray-500 text-xs md:text-sm\">Всего заявок</div>\r\n                  <div className=\"font-bold text-xl md:text-2xl\">{stats.totalRequests}</div>\r\n                </div>\r\n                <div className=\"bg-white/30 rounded-lg p-3\">\r\n                  <div className=\"text-gray-500 text-xs md:text-sm\">Исполнителей</div>\r\n                  <div className=\"font-bold text-xl md:text-2xl\">{executors.length}</div>\r\n                </div>\r\n                <div className=\"bg-white/30 rounded-lg p-3\">\r\n                  <div className=\"text-gray-500 text-xs md:text-sm\">Выполнено</div>\r\n                  <div className=\"font-bold text-xl md:text-2xl text-green-600\">{stats.completedWeek}</div>\r\n                </div>\r\n                <div className=\"bg-white/30 rounded-lg p-3\">\r\n                  <div className=\"text-gray-500 text-xs md:text-sm\">Активных</div>\r\n                  <div className=\"font-bold text-xl md:text-2xl text-amber-600\">{stats.inProgress}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Marketplace Tab */}\r\n      {activeTab === 'marketplace' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Period selector and download button */}\r\n          <div className=\"glass-card p-4\">\r\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n              <div className=\"flex items-center gap-2 flex-wrap\">\r\n                <Calendar className=\"w-5 h-5 text-gray-500\" />\r\n                <span className=\"text-sm text-gray-600\">Период:</span>\r\n                <input\r\n                  type=\"date\"\r\n                  value={reportStartDate}\r\n                  onChange={(e) => setReportStartDate(e.target.value)}\r\n                  className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm\"\r\n                />\r\n                <span className=\"text-gray-400\">—</span>\r\n                <input\r\n                  type=\"date\"\r\n                  value={reportEndDate}\r\n                  onChange={(e) => setReportEndDate(e.target.value)}\r\n                  className=\"px-3 py-1.5 border border-gray-300 rounded-lg text-sm\"\r\n                />\r\n              </div>\r\n              <button\r\n                onClick={exportMarketplaceReport}\r\n                disabled={!marketplaceReport || isLoadingReport}\r\n                className=\"btn-primary flex items-center gap-2\"\r\n              >\r\n                <Download className=\"w-4 h-4\" />\r\n                Скачать Excel\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {isLoadingReport ? (\r\n            <div className=\"flex items-center justify-center py-20\">\r\n              <RefreshCw className=\"w-8 h-8 animate-spin text-orange-500\" />\r\n              <span className=\"ml-3 text-gray-600\">Загрузка...</span>\r\n            </div>\r\n          ) : marketplaceReport ? (\r\n            <>\r\n              {/* Overall Stats */}\r\n              <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                <div className=\"glass-card p-5\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <ShoppingBag className=\"w-8 h-8 text-blue-500\" />\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold\">{marketplaceReport.overall.total_orders}</div>\r\n                  <div className=\"text-sm text-gray-500\">Всего заказов</div>\r\n                  <div className=\"mt-2 text-xs\">\r\n                    <span className=\"text-green-600\">{marketplaceReport.overall.delivered_orders} доставлено</span>\r\n                    <span className=\"text-gray-400 mx-1\">|</span>\r\n                    <span className=\"text-red-600\">{marketplaceReport.overall.cancelled_orders} отменено</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"glass-card p-5\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <DollarSign className=\"w-8 h-8 text-green-500\" />\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold\">{marketplaceReport.overall.total_revenue.toLocaleString()}</div>\r\n                  <div className=\"text-sm text-gray-500\">Выручка (сум)</div>\r\n                  <div className=\"mt-2 text-xs text-gray-600\">\r\n                    Доставка: {marketplaceReport.overall.total_delivery_fees.toLocaleString()} сум\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"glass-card p-5\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <Star className=\"w-8 h-8 text-yellow-500\" />\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold\">{marketplaceReport.overall.avg_rating.toFixed(1)}</div>\r\n                  <div className=\"text-sm text-gray-500\">Средний рейтинг</div>\r\n                  <div className=\"mt-2 text-xs text-gray-600\">\r\n                    {marketplaceReport.overall.rated_orders} оценок\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"glass-card p-5\">\r\n                  <div className=\"flex items-center gap-3 mb-2\">\r\n                    <Package className=\"w-8 h-8 text-purple-500\" />\r\n                  </div>\r\n                  <div className=\"text-2xl font-bold\">\r\n                    {marketplaceReport.top_products.reduce((sum, p) => sum + p.total_sold, 0)}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-500\">Продано (шт)</div>\r\n                  <div className=\"mt-2 text-xs text-gray-600\">\r\n                    {marketplaceReport.top_products.length} товаров\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Sales Chart */}\r\n              <div className=\"glass-card p-5\">\r\n                <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\r\n                  <TrendingUp className=\"w-5 h-5 text-blue-500\" />\r\n                  Динамика продаж\r\n                </h3>\r\n                <ResponsiveContainer width=\"100%\" height={280}>\r\n                  <AreaChart data={marketplaceReport.daily_sales}>\r\n                    <defs>\r\n                      <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                        <stop offset=\"5%\" stopColor=\"#10B981\" stopOpacity={0.3}/>\r\n                        <stop offset=\"95%\" stopColor=\"#10B981\" stopOpacity={0}/>\r\n                      </linearGradient>\r\n                    </defs>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\r\n                    <XAxis\r\n                      dataKey=\"date\"\r\n                      tick={{ fontSize: 10 }}\r\n                      tickFormatter={(val: string) => new Date(val).toLocaleDateString('ru-RU', { day: 'numeric', month: 'short' })}\r\n                    />\r\n                    <YAxis tick={{ fontSize: 12 }} />\r\n                    <Tooltip\r\n                      formatter={(value: number, name: string) => [\r\n                        name === 'revenue' ? `${value.toLocaleString()} сум` : value,\r\n                        name === 'revenue' ? 'Выручка' : 'Заказов'\r\n                      ]}\r\n                      labelFormatter={(label: string) => new Date(label).toLocaleDateString('ru-RU')}\r\n                    />\r\n                    <Legend />\r\n                    <Area\r\n                      type=\"monotone\"\r\n                      dataKey=\"revenue\"\r\n                      stroke=\"#10B981\"\r\n                      strokeWidth={2}\r\n                      fill=\"url(#colorRevenue)\"\r\n                      name=\"Выручка\"\r\n                    />\r\n                    <Area\r\n                      type=\"monotone\"\r\n                      dataKey=\"orders\"\r\n                      stroke=\"#3B82F6\"\r\n                      strokeWidth={2}\r\n                      fill=\"none\"\r\n                      name=\"Заказов\"\r\n                    />\r\n                  </AreaChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n\r\n              {/* Two column layout */}\r\n              <div className=\"grid lg:grid-cols-2 gap-6\">\r\n                {/* Top Products */}\r\n                <div className=\"glass-card p-5\">\r\n                  <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\r\n                    <Package className=\"w-5 h-5 text-purple-500\" />\r\n                    Топ товаров\r\n                  </h3>\r\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n                    {marketplaceReport.top_products.slice(0, 10).map((product, idx) => (\r\n                      <div key={product.product_id} className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-xl\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center font-bold text-purple-600\">\r\n                          {idx + 1}\r\n                        </div>\r\n                        {product.image_url ? (\r\n                          <img src={product.image_url} alt=\"\" className=\"w-10 h-10 object-cover rounded-lg\" />\r\n                        ) : (\r\n                          <div className=\"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center\">\r\n                            <Package className=\"w-5 h-5 text-gray-400\" />\r\n                          </div>\r\n                        )}\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"font-medium text-sm truncate\">{product.product_name}</div>\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            {product.total_sold} шт • {product.order_count} заказов\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <div className=\"font-semibold text-sm text-green-600\">\r\n                            {product.total_revenue.toLocaleString()}\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-400\">сум</div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                    {marketplaceReport.top_products.length === 0 && (\r\n                      <div className=\"text-center text-gray-400 py-8\">Нет данных</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Categories */}\r\n                <div className=\"glass-card p-5\">\r\n                  <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\r\n                    <Briefcase className=\"w-5 h-5 text-orange-500\" />\r\n                    По категориям\r\n                  </h3>\r\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n                    {marketplaceReport.categories.map((cat) => (\r\n                      <div key={cat.category_name} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-xl\">\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"font-medium text-sm\">{cat.category_name}</div>\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            {cat.total_sold} шт • {cat.order_count} заказов\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <div className=\"font-semibold text-sm text-green-600\">\r\n                            {cat.total_revenue.toLocaleString()}\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-400\">сум</div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                    {marketplaceReport.categories.length === 0 && (\r\n                      <div className=\"text-center text-gray-400 py-8\">Нет данных</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Bottom section */}\r\n              <div className=\"grid lg:grid-cols-2 gap-6\">\r\n                {/* Top Customers */}\r\n                <div className=\"glass-card p-5\">\r\n                  <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\r\n                    <Users className=\"w-5 h-5 text-blue-500\" />\r\n                    Топ покупателей\r\n                  </h3>\r\n                  <div className=\"space-y-3 max-h-80 overflow-y-auto\">\r\n                    {marketplaceReport.top_customers.map((customer, idx) => (\r\n                      <div key={customer.user_id} className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-xl\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center font-bold text-blue-600\">\r\n                          {idx + 1}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"font-medium text-sm\">{customer.user_name}</div>\r\n                          <div className=\"text-xs text-gray-500\">{customer.user_phone}</div>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <div className=\"font-semibold text-sm\">{customer.order_count} заказов</div>\r\n                          <div className=\"text-xs text-green-600\">{customer.total_spent.toLocaleString()} сум</div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                    {marketplaceReport.top_customers.length === 0 && (\r\n                      <div className=\"text-center text-gray-400 py-8\">Нет данных</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Couriers */}\r\n                <div className=\"glass-card p-5\">\r\n                  <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\r\n                    <UserCheck className=\"w-5 h-5 text-green-500\" />\r\n                    Курьеры\r\n                  </h3>\r\n                  <div className=\"space-y-3 max-h-80 overflow-y-auto\">\r\n                    {marketplaceReport.executor_stats.map((executor) => (\r\n                      <div key={executor.executor_id} className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-xl\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center text-white font-bold\">\r\n                          {executor.executor_name.charAt(0)}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"font-medium text-sm\">{executor.executor_name}</div>\r\n                          <div className=\"text-xs text-gray-500\">\r\n                            {executor.delivered_count} доставок\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1 text-yellow-600\">\r\n                          <Star className=\"w-4 h-4\" />\r\n                          <span className=\"font-medium\">{executor.avg_rating.toFixed(1)}</span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                    {marketplaceReport.executor_stats.length === 0 && (\r\n                      <div className=\"text-center text-gray-400 py-8\">Нет данных</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Orders by Status pie chart */}\r\n              <div className=\"glass-card p-5\">\r\n                <h3 className=\"font-semibold text-lg mb-4 flex items-center gap-2\">\r\n                  <FileText className=\"w-5 h-5 text-purple-500\" />\r\n                  Заказы по статусам\r\n                </h3>\r\n                <ResponsiveContainer width=\"100%\" height={240}>\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={marketplaceReport.orders_by_status.map(s => ({\r\n                        name: {\r\n                          new: 'Новые',\r\n                          confirmed: 'Подтверждённые',\r\n                          preparing: 'Готовятся',\r\n                          ready: 'Готовы',\r\n                          delivering: 'В доставке',\r\n                          delivered: 'Доставлены',\r\n                          cancelled: 'Отменены',\r\n                        }[s.status] || s.status,\r\n                        value: s.count,\r\n                        color: {\r\n                          new: '#3B82F6',\r\n                          confirmed: '#8B5CF6',\r\n                          preparing: '#F59E0B',\r\n                          ready: '#06B6D4',\r\n                          delivering: '#F97316',\r\n                          delivered: '#10B981',\r\n                          cancelled: '#EF4444',\r\n                        }[s.status] || '#9CA3AF',\r\n                      }))}\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      labelLine={false}\r\n                      outerRadius={80}\r\n                      dataKey=\"value\"\r\n                      label={({ name, percent }: { name: string; percent: number }) => `${name} ${(percent * 100).toFixed(0)}%`}\r\n                    >\r\n                      {marketplaceReport.orders_by_status.map((entry, index) => (\r\n                        <Cell key={`cell-${index}`} fill={{\r\n                          new: '#3B82F6',\r\n                          confirmed: '#8B5CF6',\r\n                          preparing: '#F59E0B',\r\n                          ready: '#06B6D4',\r\n                          delivering: '#F97316',\r\n                          delivered: '#10B981',\r\n                          cancelled: '#EF4444',\r\n                        }[entry.status] || '#9CA3AF'} />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip />\r\n                    <Legend />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"text-center text-gray-400 py-20\">Нет данных</div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AdminDashboard","requests","executors","getStats","useDataStore","stats","activeTab","setActiveTab","useState","marketplaceReport","setMarketplaceReport","isLoadingReport","setIsLoadingReport","reportStartDate","setReportStartDate","d","reportEndDate","setReportEndDate","pendingApprovalRequests","r","staleApprovals","completedTime","useEffect","loadMarketplaceReport","data","apiRequest","exportMarketplaceReport","workbook","ExcelJS","formatCurrency","value","headerStyle","cellStyle","centerStyle","currencyStyle","ws1","titleRow","statsTitle","cell","row","prodTitle","p","catTitle","c","courSummaryTitle","e","custSummaryTitle","ws2","dailyTitle","totalRow","sum","ws3","prodListTitle","ws4","custTitle","ws5","courTitle","buffer","blob","url","a","jsxs","jsx","RefreshCw","Activity","ShoppingBag","Fragment","AlertTriangle","Clock","FileText","UserCheck","CheckCircle","Users","executor","SPECIALIZATION_LABELS","status","label","gradientFrom","gradientTo","count","percentage","b","index","Calendar","Download","DollarSign","Star","Package","TrendingUp","ResponsiveContainer","AreaChart","CartesianGrid","XAxis","val","YAxis","Tooltip","name","Legend","Area","product","idx","Briefcase","cat","customer","PieChart","Pie","percent","entry","Cell"],"mappings":"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"}