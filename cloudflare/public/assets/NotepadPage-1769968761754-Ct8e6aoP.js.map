{"version":3,"file":"NotepadPage-1769968761754-Ct8e6aoP.js","sources":["../../src/components/Notepad.tsx","../../src/pages/NotepadPage.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { StickyNote, Plus, Save, Trash2, X, Edit3 } from 'lucide-react';\r\n\r\ninterface Note {\r\n  id: string;\r\n  title: string;\r\n  content: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface NotepadProps {\r\n  userId: string;\r\n}\r\n\r\nexport function Notepad({ userId }: NotepadProps) {\r\n  const [notes, setNotes] = useState<Note[]>([]);\r\n  const [editingNote, setEditingNote] = useState<Note | null>(null);\r\n  const [newNoteTitle, setNewNoteTitle] = useState('');\r\n  const [newNoteContent, setNewNoteContent] = useState('');\r\n  const [showNoteEditor, setShowNoteEditor] = useState(false);\r\n\r\n  // Load notes from localStorage\r\n  useEffect(() => {\r\n    const savedNotes = localStorage.getItem(`notes_${userId}`);\r\n    if (savedNotes) {\r\n      try {\r\n        setNotes(JSON.parse(savedNotes));\r\n      } catch (e) {\r\n        console.error('Failed to parse notes:', e);\r\n      }\r\n    }\r\n  }, [userId]);\r\n\r\n  // Save notes to localStorage\r\n  const saveNotes = (updatedNotes: Note[]) => {\r\n    setNotes(updatedNotes);\r\n    localStorage.setItem(`notes_${userId}`, JSON.stringify(updatedNotes));\r\n  };\r\n\r\n  const addNote = () => {\r\n    if (!newNoteTitle.trim()) return;\r\n    const newNote: Note = {\r\n      id: Date.now().toString(),\r\n      title: newNoteTitle,\r\n      content: newNoteContent,\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString(),\r\n    };\r\n    saveNotes([newNote, ...notes]);\r\n    setNewNoteTitle('');\r\n    setNewNoteContent('');\r\n    setShowNoteEditor(false);\r\n  };\r\n\r\n  const updateNote = () => {\r\n    if (!editingNote) return;\r\n    const updatedNotes = notes.map(n =>\r\n      n.id === editingNote.id\r\n        ? { ...editingNote, updatedAt: new Date().toISOString() }\r\n        : n\r\n    );\r\n    saveNotes(updatedNotes);\r\n    setEditingNote(null);\r\n  };\r\n\r\n  const deleteNote = (id: string) => {\r\n    if (confirm('Удалить эту заметку?')) {\r\n      saveNotes(notes.filter(n => n.id !== id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Header with Add Button */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <StickyNote className=\"w-5 h-5 text-amber-500\" />\r\n          <h3 className=\"font-semibold\">Мои заметки</h3>\r\n          <span className=\"text-sm text-gray-500\">({notes.length})</span>\r\n        </div>\r\n        <button\r\n          onClick={() => setShowNoteEditor(true)}\r\n          className=\"btn-primary flex items-center gap-2 py-2 px-3 text-sm\"\r\n        >\r\n          <Plus className=\"w-4 h-4\" />\r\n          Добавить\r\n        </button>\r\n      </div>\r\n\r\n      {/* Notes Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {notes.map((note) => (\r\n          <div\r\n            key={note.id}\r\n            className=\"glass-card p-4 hover:shadow-lg transition-shadow group\"\r\n          >\r\n            <div className=\"flex items-start justify-between gap-2\">\r\n              <h4 className=\"font-semibold text-gray-900 line-clamp-1\">{note.title}</h4>\r\n              <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                <button\r\n                  onClick={() => setEditingNote(note)}\r\n                  className=\"p-1.5 hover:bg-white/50 rounded-lg text-gray-500 hover:text-blue-600\"\r\n                  title=\"Редактировать\"\r\n                >\r\n                  <Edit3 className=\"w-4 h-4\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => deleteNote(note.id)}\r\n                  className=\"p-1.5 hover:bg-red-50 rounded-lg text-gray-500 hover:text-red-600\"\r\n                  title=\"Удалить\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <p className=\"text-sm text-gray-600 mt-2 whitespace-pre-wrap line-clamp-4\">\r\n              {note.content || <span className=\"italic text-gray-400\">Нет содержимого</span>}\r\n            </p>\r\n            <div className=\"text-xs text-gray-400 mt-3 pt-2 border-t border-gray-100\">\r\n              {new Date(note.updatedAt).toLocaleDateString('ru-RU', {\r\n                day: 'numeric',\r\n                month: 'short',\r\n                hour: '2-digit',\r\n                minute: '2-digit'\r\n              })}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Empty State */}\r\n      {notes.length === 0 && (\r\n        <div className=\"glass-card p-8 text-center\">\r\n          <div className=\"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\r\n            <StickyNote className=\"w-8 h-8 text-amber-500\" />\r\n          </div>\r\n          <h4 className=\"font-semibold text-gray-900 mb-1\">Нет заметок</h4>\r\n          <p className=\"text-gray-500 text-sm mb-4\">\r\n            Создавайте заметки для планирования задач и важных записей\r\n          </p>\r\n          <button\r\n            onClick={() => setShowNoteEditor(true)}\r\n            className=\"btn-primary inline-flex items-center gap-2\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            Создать первую заметку\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add/Edit Note Modal */}\r\n      {(showNoteEditor || editingNote) && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden\">\r\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-100\">\r\n              <h2 className=\"text-lg font-bold\">\r\n                {editingNote ? 'Редактировать заметку' : 'Новая заметка'}\r\n              </h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowNoteEditor(false);\r\n                  setEditingNote(null);\r\n                  setNewNoteTitle('');\r\n                  setNewNoteContent('');\r\n                }}\r\n                className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\"\r\n              >\r\n                <X className=\"w-5 h-5 text-gray-500\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-4 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n                  Заголовок <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editingNote ? editingNote.title : newNoteTitle}\r\n                  onChange={(e) => editingNote\r\n                    ? setEditingNote({ ...editingNote, title: e.target.value })\r\n                    : setNewNoteTitle(e.target.value)\r\n                  }\r\n                  placeholder=\"Название заметки...\"\r\n                  className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all\"\r\n                  autoFocus\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n                  Содержание\r\n                </label>\r\n                <textarea\r\n                  value={editingNote ? editingNote.content : newNoteContent}\r\n                  onChange={(e) => editingNote\r\n                    ? setEditingNote({ ...editingNote, content: e.target.value })\r\n                    : setNewNoteContent(e.target.value)\r\n                  }\r\n                  placeholder=\"Ваши заметки, задачи, планы...\"\r\n                  rows={8}\r\n                  className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all resize-none\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 p-4 border-t border-gray-100 bg-gray-50\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowNoteEditor(false);\r\n                  setEditingNote(null);\r\n                  setNewNoteTitle('');\r\n                  setNewNoteContent('');\r\n                }}\r\n                className=\"flex-1 py-2.5 px-4 bg-white border border-gray-200 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors\"\r\n              >\r\n                Отмена\r\n              </button>\r\n              <button\r\n                onClick={() => editingNote ? updateNote() : addNote()}\r\n                disabled={editingNote ? !editingNote.title.trim() : !newNoteTitle.trim()}\r\n                className=\"flex-1 py-2.5 px-4 bg-orange-400 hover:bg-orange-500 rounded-xl font-medium text-gray-900 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                <Save className=\"w-4 h-4\" />\r\n                Сохранить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useAuthStore } from '../stores/authStore';\r\nimport { Notepad } from '../components/Notepad';\r\nimport { StickyNote } from 'lucide-react';\r\n\r\nexport function NotepadPage() {\r\n  const { user } = useAuthStore();\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"glass-card p-8 text-center\">\r\n        <StickyNote className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-semibold text-gray-700\">Требуется авторизация</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <h1 className=\"text-xl md:text-2xl font-bold text-gray-900\">Заметки</h1>\r\n        <p className=\"text-gray-500 text-sm mt-1\">Ваши личные заметки и напоминания</p>\r\n      </div>\r\n      <Notepad userId={user.id} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Notepad","userId","notes","setNotes","useState","editingNote","setEditingNote","newNoteTitle","setNewNoteTitle","newNoteContent","setNewNoteContent","showNoteEditor","setShowNoteEditor","useEffect","savedNotes","saveNotes","updatedNotes","addNote","newNote","updateNote","n","deleteNote","id","jsxs","jsx","StickyNote","Plus","note","Edit3","Trash2","X","e","Save","NotepadPage","user","useAuthStore"],"mappings":"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"}