{"version":3,"file":"TenantDashboard-1768650097760-DOmu_eZG.js","sources":["../../src/pages/tenant/TenantDashboard.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Key, Calendar, ChevronLeft, ChevronRight, Users, Home, DollarSign, TrendingUp, Clock, MapPin, Loader2 } from 'lucide-react';\r\nimport { useAuthStore } from '../../stores/authStore';\r\nimport { useDataStore } from '../../stores/dataStore';\r\n\r\nexport function TenantDashboard() {\r\n  const { user } = useAuthStore();\r\n  const { rentalApartments, rentalRecords, fetchMyRentals } = useDataStore();\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\r\n  const [selectedApartment, setSelectedApartment] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Fetch my apartments on mount\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        await fetchMyRentals();\r\n      } catch (error) {\r\n        console.error('Failed to fetch my rentals:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadData();\r\n  }, [fetchMyRentals]);\r\n\r\n  // Get apartments owned by this tenant (now filtered by ownerId = user.id from backend)\r\n  const myApartments = rentalApartments;\r\n\r\n  // Get all records for all my apartments (already filtered from backend)\r\n  const allMyRecords = rentalRecords;\r\n\r\n  const getApartmentRecords = (apartmentId: string) => {\r\n    return rentalRecords.filter(r => r.apartmentId === apartmentId).sort((a, b) =>\r\n      new Date(b.checkInDate).getTime() - new Date(a.checkInDate).getTime()\r\n    );\r\n  };\r\n\r\n  const formatDate = (date: string) => {\r\n    return new Date(date).toLocaleDateString('ru-RU', { day: 'numeric', month: 'short' });\r\n  };\r\n\r\n  const formatAmount = (amount: number, currency: string) => {\r\n    if (currency === 'UZS') {\r\n      return amount.toLocaleString('ru-RU') + ' сум';\r\n    }\r\n    return '$' + amount.toLocaleString('en-US');\r\n  };\r\n\r\n  const totalEarnings = myApartments.reduce((sum, apt) => {\r\n    const aptRecords = getApartmentRecords(apt.id);\r\n    return sum + aptRecords.reduce((s, r) => s + (r.currency === 'UZS' ? r.amount : r.amount * 12500), 0);\r\n  }, 0);\r\n\r\n\r\n  // Count total guests\r\n  const totalGuests = allMyRecords.reduce((count, record) => {\r\n    const guestCount = record.guestNames.split(',').length;\r\n    return count + guestCount;\r\n  }, 0);\r\n\r\n  // Get active bookings count\r\n  const activeBookings = allMyRecords.filter(r => {\r\n    const now = new Date();\r\n    return new Date(r.checkInDate) <= now && new Date(r.checkOutDate) >= now;\r\n  }).length;\r\n\r\n  // Calendar helpers\r\n  const getDaysInMonth = (date: Date) => {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const firstDay = new Date(year, month, 1);\r\n    const lastDay = new Date(year, month + 1, 0);\r\n    const daysInMonth = lastDay.getDate();\r\n    const startingDay = firstDay.getDay() || 7;\r\n\r\n    return { daysInMonth, startingDay, year, month };\r\n  };\r\n\r\n  const getRecordsForDate = (date: Date) => {\r\n    const filteredRecords = selectedApartment\r\n      ? allMyRecords.filter(r => r.apartmentId === selectedApartment)\r\n      : allMyRecords;\r\n\r\n    return filteredRecords.filter(record => {\r\n      const checkIn = new Date(record.checkInDate);\r\n      const checkOut = new Date(record.checkOutDate);\r\n      checkIn.setHours(0, 0, 0, 0);\r\n      checkOut.setHours(23, 59, 59, 999);\r\n      const compareDate = new Date(date);\r\n      compareDate.setHours(12, 0, 0, 0);\r\n      return compareDate >= checkIn && compareDate <= checkOut;\r\n    });\r\n  };\r\n\r\n  const { daysInMonth, startingDay, year, month } = getDaysInMonth(currentMonth);\r\n  const monthName = currentMonth.toLocaleDateString('ru-RU', { month: 'long', year: 'numeric' });\r\n\r\n  const prevMonth = () => setCurrentMonth(new Date(year, month - 1, 1));\r\n  const nextMonth = () => setCurrentMonth(new Date(year, month + 1, 1));\r\n\r\n  const isCommercialOwner = user?.role === 'commercial_owner';\r\n\r\n  // Get records for selected date\r\n  const selectedDateRecords = selectedDate ? getRecordsForDate(selectedDate) : [];\r\n\r\n  // Get upcoming check-ins (next 7 days)\r\n  const upcomingCheckIns = allMyRecords.filter(r => {\r\n    const checkIn = new Date(r.checkInDate);\r\n    const now = new Date();\r\n    const weekLater = new Date();\r\n    weekLater.setDate(weekLater.getDate() + 7);\r\n    return checkIn >= now && checkIn <= weekLater;\r\n  }).slice(0, 3);\r\n\r\n  // Get current guests\r\n  const currentGuests = allMyRecords.filter(r => {\r\n    const now = new Date();\r\n    return new Date(r.checkInDate) <= now && new Date(r.checkOutDate) >= now;\r\n  });\r\n\r\n  const renderCalendar = () => {\r\n    const days = [];\r\n    const dayNames = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];\r\n\r\n    for (let i = 1; i < startingDay; i++) {\r\n      days.push(<div key={`empty-${i}`} className=\"h-12 md:h-16\" />);\r\n    }\r\n\r\n    for (let day = 1; day <= daysInMonth; day++) {\r\n      const date = new Date(year, month, day);\r\n      const records = getRecordsForDate(date);\r\n      const isToday = date.toDateString() === new Date().toDateString();\r\n      const isSelected = selectedDate?.toDateString() === date.toDateString();\r\n      const hasCheckIn = (selectedApartment\r\n        ? allMyRecords.filter(r => r.apartmentId === selectedApartment)\r\n        : allMyRecords\r\n      ).some(r => new Date(r.checkInDate).toDateString() === date.toDateString());\r\n      const hasCheckOut = (selectedApartment\r\n        ? allMyRecords.filter(r => r.apartmentId === selectedApartment)\r\n        : allMyRecords\r\n      ).some(r => new Date(r.checkOutDate).toDateString() === date.toDateString());\r\n\r\n      days.push(\r\n        <button\r\n          key={day}\r\n          onClick={() => setSelectedDate(date)}\r\n          className={`h-12 md:h-16 p-1 rounded-xl border-2 transition-all relative ${\r\n            isSelected ? 'border-primary-500 bg-primary-50 ring-2 ring-primary-200' :\r\n            isToday ? 'border-primary-300 bg-primary-50/50' :\r\n            records.length > 0 ? 'border-green-200 bg-green-50 hover:border-green-300' :\r\n            'border-transparent hover:bg-gray-50'\r\n          }`}\r\n        >\r\n          <div className=\"flex flex-col items-center justify-center h-full\">\r\n            <span className={`text-sm font-medium ${\r\n              isSelected ? 'text-primary-700' :\r\n              isToday ? 'text-primary-600' :\r\n              records.length > 0 ? 'text-green-700' : 'text-gray-700'\r\n            }`}>\r\n              {day}\r\n            </span>\r\n            <div className=\"flex gap-0.5 mt-0.5\">\r\n              {hasCheckIn && <div className=\"w-1.5 h-1.5 rounded-full bg-blue-500\" />}\r\n              {hasCheckOut && <div className=\"w-1.5 h-1.5 rounded-full bg-orange-500\" />}\r\n              {records.length > 0 && !hasCheckIn && !hasCheckOut && (\r\n                <div className=\"w-1.5 h-1.5 rounded-full bg-green-500\" />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </button>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"glass-card p-4\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <button onClick={prevMonth} className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\">\r\n            <ChevronLeft className=\"w-5 h-5\" />\r\n          </button>\r\n          <h3 className=\"font-semibold capitalize text-lg\">{monthName}</h3>\r\n          <button onClick={nextMonth} className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\">\r\n            <ChevronRight className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Apartment filter */}\r\n        {myApartments.length > 1 && (\r\n          <div className=\"flex gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide\">\r\n            <button\r\n              onClick={() => setSelectedApartment(null)}\r\n              className={`px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${\r\n                !selectedApartment ? 'bg-primary-500 text-black' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n              }`}\r\n            >\r\n              Все квартиры\r\n            </button>\r\n            {myApartments.map(apt => (\r\n              <button\r\n                key={apt.id}\r\n                onClick={() => setSelectedApartment(apt.id)}\r\n                className={`px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${\r\n                  selectedApartment === apt.id ? 'bg-primary-500 text-black' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                }`}\r\n              >\r\n                {apt.name}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-7 gap-1 mb-2\">\r\n          {dayNames.map(day => (\r\n            <div key={day} className=\"text-center text-xs font-medium text-gray-500 py-2\">\r\n              {day}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"grid grid-cols-7 gap-1\">\r\n          {days}\r\n        </div>\r\n\r\n        {/* Legend */}\r\n        <div className=\"flex items-center justify-center gap-4 mt-4 text-xs text-gray-500\">\r\n          <div className=\"flex items-center gap-1\">\r\n            <div className=\"w-2 h-2 rounded-full bg-blue-500\" />\r\n            <span>Заезд</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <div className=\"w-2 h-2 rounded-full bg-orange-500\" />\r\n            <span>Выезд</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <div className=\"w-2 h-2 rounded-full bg-green-500\" />\r\n            <span>Занято</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Show loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Мои квартиры</h1>\r\n          <p className=\"text-gray-500\">Добро пожаловать, {user?.name}</p>\r\n        </div>\r\n        <div className=\"glass-card p-8 text-center\">\r\n          <Loader2 className=\"w-12 h-12 text-primary-500 mx-auto mb-4 animate-spin\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Загрузка данных...</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (myApartments.length === 0) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">\r\n            {isCommercialOwner ? 'Моя недвижимость' : 'Мои квартиры'}\r\n          </h1>\r\n          <p className=\"text-gray-500\">Добро пожаловать, {user?.name}</p>\r\n        </div>\r\n        <div className=\"glass-card p-8 text-center\">\r\n          <Key className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Нет назначенных квартир</h3>\r\n          <p className=\"text-gray-500\">Обратитесь к менеджеру для добавления квартиры</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">\r\n          {isCommercialOwner ? 'Моя недвижимость' : 'Мои квартиры'}\r\n        </h1>\r\n        <p className=\"text-gray-500\">\r\n          Добро пожаловать, {user?.name}\r\n          {isCommercialOwner && (\r\n            <span className=\"ml-2 text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full\">\r\n              Коммерческий владелец\r\n            </span>\r\n          )}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-primary-100 rounded-xl\">\r\n              <Home className=\"w-5 h-5 text-primary-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold text-gray-900\">{myApartments.length}</div>\r\n              <div className=\"text-xs text-gray-500\">Квартир</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-green-100 rounded-xl\">\r\n              <Users className=\"w-5 h-5 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold text-gray-900\">{activeBookings}</div>\r\n              <div className=\"text-xs text-gray-500\">Проживают сейчас</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-purple-100 rounded-xl\">\r\n              <TrendingUp className=\"w-5 h-5 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold text-gray-900\">{totalGuests}</div>\r\n              <div className=\"text-xs text-gray-500\">Гостей всего</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-amber-100 rounded-xl\">\r\n              <DollarSign className=\"w-5 h-5 text-amber-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-lg font-bold text-gray-900\">{(totalEarnings / 1000000).toFixed(1)}М</div>\r\n              <div className=\"text-xs text-gray-500\">Доход (сум)</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content - Two columns on desktop */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Calendar - Takes 2 columns */}\r\n        <div className=\"lg:col-span-2\">\r\n          {renderCalendar()}\r\n\r\n          {/* Selected Date Details */}\r\n          {selectedDate && (\r\n            <div className=\"mt-4 glass-card p-4\">\r\n              <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n                <Calendar className=\"w-4 h-4\" />\r\n                {selectedDate.toLocaleDateString('ru-RU', {\r\n                  weekday: 'long',\r\n                  day: 'numeric',\r\n                  month: 'long'\r\n                })}\r\n              </h4>\r\n              {selectedDateRecords.length === 0 ? (\r\n                <p className=\"text-gray-500 text-sm py-4 text-center\">Нет бронирований на эту дату</p>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {selectedDateRecords.map(record => {\r\n                    const apartment = myApartments.find(a => a.id === record.apartmentId);\r\n                    const isCheckIn = new Date(record.checkInDate).toDateString() === selectedDate.toDateString();\r\n                    const isCheckOut = new Date(record.checkOutDate).toDateString() === selectedDate.toDateString();\r\n\r\n                    return (\r\n                      <div key={record.id} className=\"p-3 bg-white/60 rounded-xl border border-gray-100\">\r\n                        <div className=\"flex items-start justify-between\">\r\n                          <div>\r\n                            <div className=\"font-medium text-sm\">{record.guestNames}</div>\r\n                            <div className=\"text-xs text-gray-500 flex items-center gap-1 mt-1\">\r\n                              <MapPin className=\"w-3 h-3\" />\r\n                              {apartment?.name}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-right\">\r\n                            {isCheckIn && (\r\n                              <span className=\"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full\">\r\n                                Заезд\r\n                              </span>\r\n                            )}\r\n                            {isCheckOut && (\r\n                              <span className=\"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full\">\r\n                                Выезд\r\n                              </span>\r\n                            )}\r\n                            {!isCheckIn && !isCheckOut && (\r\n                              <span className=\"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full\">\r\n                                Проживание\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between mt-2 text-xs text-gray-500\">\r\n                          <span>{formatDate(record.checkInDate)} - {formatDate(record.checkOutDate)}</span>\r\n                          <span className=\"font-semibold text-green-600\">\r\n                            {formatAmount(record.amount, record.currency)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Right sidebar */}\r\n        <div className=\"space-y-4\">\r\n          {/* Current Guests */}\r\n          <div className=\"glass-card p-4\">\r\n            <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n              <Users className=\"w-4 h-4 text-green-600\" />\r\n              Текущие гости\r\n            </h4>\r\n            {currentGuests.length === 0 ? (\r\n              <p className=\"text-gray-500 text-sm text-center py-4\">Нет активных бронирований</p>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {currentGuests.map(record => {\r\n                  const apartment = myApartments.find(a => a.id === record.apartmentId);\r\n                  const daysLeft = Math.ceil(\r\n                    (new Date(record.checkOutDate).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24)\r\n                  );\r\n\r\n                  return (\r\n                    <div key={record.id} className=\"p-3 bg-green-50 rounded-xl border border-green-100\">\r\n                      <div className=\"font-medium text-sm\">{record.guestNames}</div>\r\n                      <div className=\"text-xs text-gray-500 mt-1\">{apartment?.name}</div>\r\n                      <div className=\"flex items-center justify-between mt-2\">\r\n                        <span className=\"text-xs text-green-600 flex items-center gap-1\">\r\n                          <Clock className=\"w-3 h-3\" />\r\n                          {daysLeft} {daysLeft === 1 ? 'день' : daysLeft < 5 ? 'дня' : 'дней'} до выезда\r\n                        </span>\r\n                        <span className=\"text-xs font-semibold text-green-700\">\r\n                          {formatAmount(record.amount, record.currency)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Upcoming Check-ins */}\r\n          <div className=\"glass-card p-4\">\r\n            <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n              <Clock className=\"w-4 h-4 text-blue-600\" />\r\n              Ближайшие заезды\r\n            </h4>\r\n            {upcomingCheckIns.length === 0 ? (\r\n              <p className=\"text-gray-500 text-sm text-center py-4\">Нет запланированных заездов</p>\r\n            ) : (\r\n              <div className=\"space-y-2\">\r\n                {upcomingCheckIns.map(record => {\r\n                  const apartment = myApartments.find(a => a.id === record.apartmentId);\r\n                  const checkInDate = new Date(record.checkInDate);\r\n                  const isToday = checkInDate.toDateString() === new Date().toDateString();\r\n                  const isTomorrow = checkInDate.toDateString() ===\r\n                    new Date(Date.now() + 86400000).toDateString();\r\n\r\n                  return (\r\n                    <div key={record.id} className=\"p-3 bg-blue-50 rounded-xl border border-blue-100\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div>\r\n                          <div className=\"font-medium text-sm\">{record.guestNames}</div>\r\n                          <div className=\"text-xs text-gray-500 mt-1\">{apartment?.name}</div>\r\n                        </div>\r\n                        <span className={`text-xs px-2 py-0.5 rounded-full ${\r\n                          isToday ? 'bg-red-100 text-red-700' :\r\n                          isTomorrow ? 'bg-orange-100 text-orange-700' :\r\n                          'bg-blue-100 text-blue-700'\r\n                        }`}>\r\n                          {isToday ? 'Сегодня' : isTomorrow ? 'Завтра' : formatDate(record.checkInDate)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Apartments Quick View */}\r\n          <div className=\"glass-card p-4\">\r\n            <h4 className=\"font-semibold mb-3 flex items-center gap-2\">\r\n              <Home className=\"w-4 h-4 text-primary-600\" />\r\n              Мои квартиры\r\n            </h4>\r\n            <div className=\"space-y-2\">\r\n              {myApartments.map(apartment => {\r\n                const records = getApartmentRecords(apartment.id);\r\n                const activeRecord = records.find(r =>\r\n                  new Date(r.checkOutDate) >= new Date() && new Date(r.checkInDate) <= new Date()\r\n                );\r\n\r\n                return (\r\n                  <div\r\n                    key={apartment.id}\r\n                    className={`p-3 rounded-xl border transition-colors cursor-pointer ${\r\n                      activeRecord\r\n                        ? 'bg-green-50 border-green-200 hover:bg-green-100'\r\n                        : 'bg-gray-50 border-gray-100 hover:bg-gray-100'\r\n                    }`}\r\n                    onClick={() => setSelectedApartment(\r\n                      selectedApartment === apartment.id ? null : apartment.id\r\n                    )}\r\n                  >\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <div className=\"font-medium text-sm\">{apartment.name}</div>\r\n                        <div className=\"text-xs text-gray-500\">{apartment.address}</div>\r\n                      </div>\r\n                      <span className={`text-xs px-2 py-0.5 rounded-full ${\r\n                        activeRecord ? 'bg-green-200 text-green-800' : 'bg-gray-200 text-gray-600'\r\n                      }`}>\r\n                        {activeRecord ? 'Занята' : 'Свободна'}\r\n                      </span>\r\n                    </div>\r\n                    {activeRecord && (\r\n                      <div className=\"mt-2 text-xs text-green-700\">\r\n                        {activeRecord.guestNames} • до {formatDate(activeRecord.checkOutDate)}\r\n                      </div>\r\n                    )}\r\n                    <div className=\"mt-2 flex items-center gap-3 text-xs text-gray-500\">\r\n                      <span>{records.length} бронирований</span>\r\n                      <span>•</span>\r\n                      <span>{records.reduce((s, r) => s + r.guestNames.split(',').length, 0)} гостей</span>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["TenantDashboard","user","useAuthStore","rentalApartments","rentalRecords","fetchMyRentals","useDataStore","currentMonth","setCurrentMonth","useState","selectedDate","setSelectedDate","selectedApartment","setSelectedApartment","isLoading","setIsLoading","useEffect","myApartments","allMyRecords","getApartmentRecords","apartmentId","r","b","formatDate","date","formatAmount","amount","currency","totalEarnings","sum","apt","aptRecords","s","totalGuests","count","record","guestCount","activeBookings","now","getDaysInMonth","year","month","firstDay","daysInMonth","startingDay","getRecordsForDate","checkIn","checkOut","compareDate","monthName","prevMonth","nextMonth","isCommercialOwner","selectedDateRecords","upcomingCheckIns","weekLater","currentGuests","renderCalendar","days","dayNames","i","day","records","isToday","isSelected","hasCheckIn","hasCheckOut","jsx","jsxs","ChevronLeft","ChevronRight","Loader2","Key","Home","Users","TrendingUp","DollarSign","Calendar","apartment","a","isCheckIn","isCheckOut","MapPin","daysLeft","Clock","checkInDate","isTomorrow","activeRecord"],"mappings":"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"}