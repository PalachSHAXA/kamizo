{"version":3,"file":"ResidentUsefulContactsPage-1768595343090-CUQdr6ex.js","sources":["../../src/pages/ResidentUsefulContactsPage.tsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Phone, MapPin, Clock, Search, ArrowLeft,\r\n  Ticket, CheckCircle, Loader2, Flame, Sparkles,\r\n  Tag, Eye, Gift, Globe, ChevronRight\r\n} from 'lucide-react';\r\nimport { useAuthStore } from '../stores/authStore';\r\nimport { useLanguageStore } from '../stores/languageStore';\r\n\r\ninterface AdCategory {\r\n  id: string;\r\n  name_ru: string;\r\n  name_uz: string;\r\n  icon: string;\r\n  active_ads_count: number;\r\n}\r\n\r\ninterface Ad {\r\n  id: string;\r\n  category_id: string;\r\n  category_name: string;\r\n  category_name_uz: string;\r\n  category_icon: string;\r\n  title: string;\r\n  description: string;\r\n  phone: string;\r\n  phone2?: string;\r\n  telegram?: string;\r\n  instagram?: string;\r\n  facebook?: string;\r\n  website?: string;\r\n  address?: string;\r\n  work_hours?: string;\r\n  work_days?: string;\r\n  logo_url?: string;\r\n  photos: string[];\r\n  discount_percent: number;\r\n  badges: { recommended?: boolean; new?: boolean; hot?: boolean; verified?: boolean };\r\n  views_count: number;\r\n  starts_at: string;\r\n  expires_at: string;\r\n  user_has_coupon: number;\r\n}\r\n\r\ninterface Coupon {\r\n  id: string;\r\n  code: string;\r\n  discount_percent: number;\r\n  status: string;\r\n  issued_at: string;\r\n  expires_at: string;\r\n}\r\n\r\nconst categoryIcons: Record<string, string> = {\r\n  'cleaning': 'üßπ',\r\n  'renovation': 'üè†',\r\n  'minor_repair': 'üîß',\r\n  'electrical': '‚ö°',\r\n  'plumbing': 'üöø',\r\n  'moving': 'üöö',\r\n  'auto': 'üöó',\r\n  'construction': 'üß±',\r\n  'ac': '‚ùÑÔ∏è',\r\n  'beauty': 'üíÑ',\r\n  'tailoring': 'üßµ',\r\n  'it': 'üíª',\r\n  'domestic': 'üë©‚Äçüç≥',\r\n  'pest_control': 'ü¶†',\r\n  'dry_cleaning': 'üß¥',\r\n  'delivery': 'üì¶',\r\n  'other': 'üìã'\r\n};\r\n\r\n// Instagram-style verified badge component\r\nconst VerifiedBadge = ({ size = 'md' }: { size?: 'sm' | 'md' | 'lg' }) => {\r\n  const sizes = {\r\n    sm: 'w-4 h-4',\r\n    md: 'w-5 h-5',\r\n    lg: 'w-6 h-6'\r\n  };\r\n  return (\r\n    <svg className={`${sizes[size]} text-[#1DA1F2]`} viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n      <path d=\"M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z\"/>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default function ResidentUsefulContactsPage() {\r\n  const { token } = useAuthStore();\r\n  const { language } = useLanguageStore();\r\n  const [categories, setCategories] = useState<AdCategory[]>([]);\r\n  const [ads, setAds] = useState<Ad[]>([]);\r\n  const [selectedAd, setSelectedAd] = useState<Ad | null>(null);\r\n  const [userCoupon, setUserCoupon] = useState<Coupon | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingCoupon, setLoadingCoupon] = useState(false);\r\n  const [copiedCode, setCopiedCode] = useState(false);\r\n\r\n  const API_BASE = import.meta.env.VITE_API_URL || '';\r\n\r\n  const fetchCategories = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/ads/categories`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setCategories(data.categories || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching categories:', err);\r\n    }\r\n  }, [token, API_BASE]);\r\n\r\n  const fetchAds = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/ads`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setAds(data.ads || []);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching ads:', err);\r\n    }\r\n  }, [token, API_BASE]);\r\n\r\n  const fetchAdDetails = useCallback(async (adId: string) => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/ads/${adId}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setSelectedAd(data.ad);\r\n        setUserCoupon(data.userCoupon);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching ad details:', err);\r\n    }\r\n  }, [token, API_BASE]);\r\n\r\n  const getCoupon = async () => {\r\n    if (!selectedAd) return;\r\n\r\n    setLoadingCoupon(true);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/ads/${selectedAd.id}/get-coupon`, {\r\n        method: 'POST',\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        setUserCoupon(data.coupon);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error getting coupon:', err);\r\n    } finally {\r\n      setLoadingCoupon(false);\r\n    }\r\n  };\r\n\r\n  const copyCode = () => {\r\n    if (userCoupon) {\r\n      navigator.clipboard.writeText(userCoupon.code);\r\n      setCopiedCode(true);\r\n      setTimeout(() => setCopiedCode(false), 2000);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const init = async () => {\r\n      setLoading(true);\r\n      await Promise.all([fetchCategories(), fetchAds()]);\r\n      setLoading(false);\r\n    };\r\n    init();\r\n  }, [fetchCategories, fetchAds]);\r\n\r\n  const getCategoryName = (cat: AdCategory) => {\r\n    return language === 'uz' ? cat.name_uz : cat.name_ru;\r\n  };\r\n\r\n  // Group ads by category\r\n  const adsByCategory = categories\r\n    .filter(cat => cat.active_ads_count > 0)\r\n    .map(cat => ({\r\n      category: cat,\r\n      ads: ads.filter(ad => ad.category_id === cat.id)\r\n    }))\r\n    .filter(group => group.ads.length > 0);\r\n\r\n  // Filter by search\r\n  const filteredGroups = searchQuery\r\n    ? adsByCategory.map(group => ({\r\n        ...group,\r\n        ads: group.ads.filter(ad =>\r\n          ad.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n          ad.description?.toLowerCase().includes(searchQuery.toLowerCase())\r\n        )\r\n      })).filter(group => group.ads.length > 0)\r\n    : adsByCategory;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-blue-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Full Page View for Ad Details (OLX style)\r\n  if (selectedAd) {\r\n    // Check if there are any contacts to show\r\n    const hasContacts = selectedAd.phone2 || selectedAd.telegram || selectedAd.instagram || selectedAd.facebook || selectedAd.website;\r\n\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 -m-4 sm:-m-6 overflow-x-hidden\">\r\n        {/* Top Navigation Bar */}\r\n        <div className=\"sticky top-0 z-10 bg-white border-b shadow-sm\">\r\n          <div className=\"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between\">\r\n            <button\r\n              onClick={() => { setSelectedAd(null); setUserCoupon(null); }}\r\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"w-5 h-5\" />\r\n              <span className=\"font-medium\">–ù–∞–∑–∞–¥</span>\r\n            </button>\r\n            <span className=\"flex items-center gap-1 text-xs text-gray-400\">\r\n              <Eye className=\"w-4 h-4\" /> {selectedAd.views_count}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"max-w-4xl mx-auto overflow-hidden\">\r\n          {/* Main Content */}\r\n          <div className=\"bg-white\">\r\n            {/* Logo/Image Section - Full width like button */}\r\n            <div className=\"px-4 pt-6 pb-4 bg-gradient-to-b from-gray-50 to-white\">\r\n              {selectedAd.logo_url ? (\r\n                <div className=\"w-full h-36 sm:h-44 rounded-2xl bg-white shadow-lg overflow-hidden flex items-center justify-center border border-gray-100\">\r\n                  <img src={selectedAd.logo_url} alt=\"\" className=\"max-w-full max-h-full object-contain p-4\" />\r\n                </div>\r\n              ) : (\r\n                <div className=\"w-full h-36 sm:h-44 rounded-2xl bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center shadow-lg\">\r\n                  <span className=\"text-7xl sm:text-8xl\">{categoryIcons[selectedAd.category_icon] || 'üìã'}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Title & Category */}\r\n            <div className=\"px-4 pb-4 text-center\">\r\n              <div className=\"flex items-center justify-center gap-2 flex-wrap\">\r\n                <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900 break-words\">{selectedAd.title}</h1>\r\n                {selectedAd.badges?.verified && <VerifiedBadge size=\"lg\" />}\r\n              </div>\r\n              <p className=\"text-gray-500 mt-1\">{categoryIcons[selectedAd.category_icon]} {selectedAd.category_name}</p>\r\n            </div>\r\n\r\n            {/* Badges */}\r\n            {(selectedAd.badges?.hot || selectedAd.badges?.new || selectedAd.discount_percent > 0) && (\r\n              <div className=\"flex flex-wrap justify-center gap-2 px-4 pb-4\">\r\n                {selectedAd.badges?.new && (\r\n                  <span className=\"px-4 py-1.5 bg-emerald-100 text-emerald-700 rounded-full text-sm font-semibold flex items-center gap-1.5\">\r\n                    <Sparkles className=\"w-4 h-4\" /> –ù–æ–≤—ã–π\r\n                  </span>\r\n                )}\r\n                {selectedAd.badges?.hot && (\r\n                  <span className=\"px-4 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-semibold flex items-center gap-1.5\">\r\n                    <Flame className=\"w-4 h-4\" /> –¢–æ–ø\r\n                  </span>\r\n                )}\r\n                {selectedAd.discount_percent > 0 && (\r\n                  <span className=\"px-4 py-1.5 bg-red-100 text-red-700 rounded-full text-sm font-bold flex items-center gap-1.5\">\r\n                    <Tag className=\"w-4 h-4\" /> –°–∫–∏–¥–∫–∞ {selectedAd.discount_percent}%\r\n                  </span>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Contact Icons Row - Under badges */}\r\n            {hasContacts && (\r\n              <div className=\"flex flex-wrap justify-center gap-3 px-4 pb-4\">\r\n                {selectedAd.phone2 && (\r\n                  <a href={`tel:${selectedAd.phone2}`} className=\"w-11 h-11 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors\" title={`–î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω: ${selectedAd.phone2}`}>\r\n                    <Phone className=\"w-5 h-5 text-gray-600\" />\r\n                  </a>\r\n                )}\r\n                {selectedAd.telegram && (\r\n                  <a href={`https://t.me/${selectedAd.telegram.replace('@', '')}`} target=\"_blank\" rel=\"noopener noreferrer\"\r\n                     className=\"w-11 h-11 rounded-full bg-[#0088cc] hover:bg-[#0077b5] flex items-center justify-center transition-colors\" title=\"Telegram\">\r\n                    <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z\"/>\r\n                    </svg>\r\n                  </a>\r\n                )}\r\n                {selectedAd.instagram && (\r\n                  <a href={`https://instagram.com/${selectedAd.instagram.replace('@', '')}`} target=\"_blank\" rel=\"noopener noreferrer\"\r\n                     className=\"w-11 h-11 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 flex items-center justify-center transition-all\" title=\"Instagram\">\r\n                    <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\r\n                    </svg>\r\n                  </a>\r\n                )}\r\n                {selectedAd.facebook && (\r\n                  <a href={selectedAd.facebook.startsWith('http') ? selectedAd.facebook : `https://facebook.com/${selectedAd.facebook}`} target=\"_blank\" rel=\"noopener noreferrer\"\r\n                     className=\"w-11 h-11 rounded-full bg-[#1877f2] hover:bg-[#166fe5] flex items-center justify-center transition-colors\" title=\"Facebook\">\r\n                    <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n                    </svg>\r\n                  </a>\r\n                )}\r\n                {selectedAd.website && (\r\n                  <a href={selectedAd.website.startsWith('http') ? selectedAd.website : `https://${selectedAd.website}`} target=\"_blank\" rel=\"noopener noreferrer\"\r\n                     className=\"w-11 h-11 rounded-full bg-indigo-500 hover:bg-indigo-600 flex items-center justify-center transition-colors\" title=\"–í–µ–±-—Å–∞–π—Ç\">\r\n                    <Globe className=\"w-5 h-5 text-white\" />\r\n                  </a>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Call Button */}\r\n            <div className=\"px-4 pb-4\">\r\n              <a\r\n                href={`tel:${selectedAd.phone}`}\r\n                className=\"flex items-center justify-center gap-3 w-full py-4 bg-green-500 hover:bg-green-600 rounded-2xl text-white font-semibold text-lg transition-colors shadow-lg shadow-green-200\"\r\n              >\r\n                <Phone className=\"w-6 h-6\" />\r\n                <span>–ü–æ–∑–≤–æ–Ω–∏—Ç—å: {selectedAd.phone}</span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Description Section - Multi-line */}\r\n          {selectedAd.description && (\r\n            <div className=\"bg-white mt-2 px-4 py-5\">\r\n              <h2 className=\"text-lg font-bold text-gray-900 mb-3\">–û–ø–∏—Å–∞–Ω–∏–µ</h2>\r\n              <p className=\"text-gray-700 whitespace-pre-line leading-relaxed break-words\">{selectedAd.description}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Info Cards */}\r\n          {(selectedAd.address || selectedAd.work_hours) && (\r\n            <div className=\"bg-white mt-2 px-4 py-5\">\r\n              <h2 className=\"text-lg font-bold text-gray-900 mb-3\">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>\r\n              <div className=\"space-y-3\">\r\n                {selectedAd.address && (\r\n                  <div className=\"flex items-start gap-3 p-4 bg-gray-50 rounded-xl\">\r\n                    <MapPin className=\"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5\" />\r\n                    <div className=\"min-w-0 flex-1\">\r\n                      <div className=\"text-xs text-gray-500 mb-0.5\">–ê–¥—Ä–µ—Å</div>\r\n                      <div className=\"text-gray-900 break-words\">{selectedAd.address}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {selectedAd.work_hours && (\r\n                  <div className=\"flex items-start gap-3 p-4 bg-gray-50 rounded-xl\">\r\n                    <Clock className=\"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5\" />\r\n                    <div className=\"min-w-0 flex-1\">\r\n                      <div className=\"text-xs text-gray-500 mb-0.5\">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã</div>\r\n                      <div className=\"text-gray-900 break-words\">{selectedAd.work_hours} {selectedAd.work_days && `‚Ä¢ ${selectedAd.work_days}`}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Coupon Section - Compact */}\r\n          {selectedAd.discount_percent > 0 && (\r\n            <div className=\"bg-white mt-2 px-4 py-4\">\r\n              <div className=\"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl p-4 text-white\">\r\n                {userCoupon ? (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <CheckCircle className=\"w-10 h-10 text-green-300 flex-shrink-0\" />\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"text-xs opacity-80\">–í–∞—à –ø—Ä–æ–º–æ–∫–æ–¥</div>\r\n                      <div\r\n                        onClick={copyCode}\r\n                        className=\"bg-white/20 rounded-lg px-3 py-1.5 mt-1 cursor-pointer hover:bg-white/30 transition-colors inline-block\"\r\n                      >\r\n                        <code className=\"text-lg font-mono font-bold tracking-wider\">{userCoupon.code}</code>\r\n                      </div>\r\n                      <div className=\"text-xs mt-1 opacity-70\">\r\n                        {copiedCode ? '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!' : '–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å'} ‚Ä¢ –¥–æ {new Date(userCoupon.expires_at).toLocaleDateString('ru-RU')}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Gift className=\"w-10 h-10 flex-shrink-0\" />\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"text-lg font-bold\">–°–∫–∏–¥–∫–∞ {selectedAd.discount_percent}%</div>\r\n                      <div className=\"text-xs opacity-80\">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ –¥–ª—è –∂–∏—Ç–µ–ª–µ–π</div>\r\n                    </div>\r\n                    <button\r\n                      onClick={getCoupon}\r\n                      disabled={loadingCoupon}\r\n                      className=\"px-4 py-2 bg-white text-purple-600 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors disabled:opacity-50 shadow flex-shrink-0\"\r\n                    >\r\n                      {loadingCoupon ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : '–ü–æ–ª—É—á–∏—Ç—å'}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Bottom padding */}\r\n          <div className=\"h-8\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main View - OLX style cards\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"mb-5 px-1\">\r\n        <h1 className=\"text-xl sm:text-2xl font-bold text-gray-900\">\r\n          {language === 'ru' ? '–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã' : 'Foydali kontaktlar'}\r\n        </h1>\r\n        <p className=\"text-gray-500 text-sm mt-1\">\r\n          {language === 'ru'\r\n            ? '–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –¥–ª—è –∂–∏—Ç–µ–ª–µ–π –∫–æ–º–ø–ª–µ–∫—Å–∞'\r\n            : 'Majmua aholisi uchun tekshirilgan mutaxassislar'}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"relative mb-5 px-1\">\r\n        <Search className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder={language === 'ru' ? '–ü–æ–∏—Å–∫ —É—Å–ª—É–≥...' : 'Xizmatlarni qidirish...'}\r\n          value={searchQuery}\r\n          onChange={e => setSearchQuery(e.target.value)}\r\n          className=\"w-full pl-11 pr-4 py-3 text-sm border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 focus:bg-white transition-colors\"\r\n        />\r\n      </div>\r\n\r\n      {/* Contacts by Category */}\r\n      {filteredGroups.length > 0 ? (\r\n        <div className=\"space-y-6\">\r\n          {filteredGroups.map(group => (\r\n            <div key={group.category.id}>\r\n              {/* Category Header */}\r\n              <div className=\"flex items-center gap-2 mb-3 px-1\">\r\n                <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\">\r\n                  <span className=\"text-lg\">{categoryIcons[group.category.icon] || 'üìã'}</span>\r\n                </div>\r\n                <h2 className=\"font-semibold text-gray-900\">{getCategoryName(group.category)}</h2>\r\n                <span className=\"text-xs text-gray-400\">({group.ads.length})</span>\r\n              </div>\r\n\r\n              {/* OLX-style Cards */}\r\n              <div className=\"space-y-2\">\r\n                {group.ads.map(ad => (\r\n                  <button\r\n                    key={ad.id}\r\n                    onClick={() => fetchAdDetails(ad.id)}\r\n                    className=\"w-full flex bg-white rounded-xl border border-gray-100 hover:border-blue-200 hover:shadow-lg transition-all text-left group overflow-hidden\"\r\n                  >\r\n                    {/* Image/Logo - left side with object-contain */}\r\n                    <div className=\"w-32 sm:w-40 h-32 sm:h-36 bg-gray-50 flex-shrink-0 flex items-center justify-center relative p-2\">\r\n                      {ad.logo_url ? (\r\n                        <img\r\n                          src={ad.logo_url}\r\n                          alt=\"\"\r\n                          className=\"max-w-full max-h-full object-contain\"\r\n                          onError={(e) => {\r\n                            (e.target as HTMLImageElement).style.display = 'none';\r\n                            (e.target as HTMLImageElement).nextElementSibling?.classList.remove('hidden');\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                      <div className={`flex items-center justify-center ${ad.logo_url ? 'hidden' : ''}`}>\r\n                        <span className=\"text-5xl\">{categoryIcons[ad.category_icon] || 'üìã'}</span>\r\n                      </div>\r\n\r\n                      {/* Verified ribbon */}\r\n                      {ad.badges?.verified && (\r\n                        <div className=\"absolute top-0 left-0 bg-[#1DA1F2] text-white text-[9px] font-bold px-2 py-0.5 rounded-br-lg flex items-center gap-0.5\">\r\n                          <svg className=\"w-2.5 h-2.5\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                            <path d=\"M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z\"/>\r\n                          </svg>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Discount badge */}\r\n                      {ad.discount_percent > 0 && (\r\n                        <div className=\"absolute bottom-2 left-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded\">\r\n                          -{ad.discount_percent}%\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Content - right side */}\r\n                    <div className=\"flex-1 p-3 sm:p-4 flex flex-col min-w-0\">\r\n                      {/* Title row */}\r\n                      <div className=\"flex items-start justify-between gap-2\">\r\n                        <div className=\"min-w-0\">\r\n                          <div className=\"flex items-center gap-1.5\">\r\n                            <h3 className=\"font-semibold text-gray-900 truncate text-sm sm:text-base\">{ad.title}</h3>\r\n                            {ad.badges?.verified && <VerifiedBadge size=\"sm\" />}\r\n                          </div>\r\n\r\n                          {/* Badges */}\r\n                          <div className=\"flex items-center gap-1.5 mt-1\">\r\n                            {ad.badges?.new && (\r\n                              <span className=\"px-2 py-0.5 bg-emerald-100 text-emerald-700 rounded text-[10px] font-semibold\">–ù–æ–≤—ã–π</span>\r\n                            )}\r\n                            {ad.badges?.hot && (\r\n                              <span className=\"px-2 py-0.5 bg-orange-100 text-orange-700 rounded text-[10px] font-semibold\">–¢–æ–ø</span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Contact icons - top right */}\r\n                        <div className=\"flex items-center gap-1 flex-shrink-0\">\r\n                          {ad.phone2 && (\r\n                            <div className=\"w-7 h-7 rounded-full bg-gray-100 flex items-center justify-center\" title={ad.phone2}>\r\n                              <Phone className=\"w-3.5 h-3.5 text-gray-600\" />\r\n                            </div>\r\n                          )}\r\n                          {ad.telegram && (\r\n                            <div className=\"w-7 h-7 rounded-full bg-[#0088cc]/10 flex items-center justify-center\">\r\n                              <svg className=\"w-4 h-4 text-[#0088cc]\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                <path d=\"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z\"/>\r\n                              </svg>\r\n                            </div>\r\n                          )}\r\n                          {ad.instagram && (\r\n                            <div className=\"w-7 h-7 rounded-full bg-pink-50 flex items-center justify-center\">\r\n                              <svg className=\"w-4 h-4 text-pink-600\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                                <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\r\n                              </svg>\r\n                            </div>\r\n                          )}\r\n                          {ad.website && (\r\n                            <div className=\"w-7 h-7 rounded-full bg-indigo-50 flex items-center justify-center\">\r\n                              <Globe className=\"w-4 h-4 text-indigo-600\" />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Description */}\r\n                      {ad.description && (\r\n                        <p className=\"text-xs sm:text-sm text-gray-500 line-clamp-2 mt-2 flex-1\">{ad.description}</p>\r\n                      )}\r\n\r\n                      {/* Bottom row */}\r\n                      <div className=\"flex items-center justify-between mt-auto pt-2\">\r\n                        {/* Phone */}\r\n                        <div className=\"flex items-center gap-1.5 text-green-600 font-medium text-sm\">\r\n                          <Phone className=\"w-4 h-4\" />\r\n                          {ad.phone}\r\n                        </div>\r\n\r\n                        {/* Has coupon indicator */}\r\n                        {ad.user_has_coupon > 0 && (\r\n                          <span className=\"flex items-center gap-1 text-[10px] text-green-600 bg-green-50 px-2 py-0.5 rounded-full font-medium\">\r\n                            <Ticket className=\"w-3 h-3\" /> –ï—Å—Ç—å –∫—É–ø–æ–Ω\r\n                          </span>\r\n                        )}\r\n\r\n                        {/* Arrow */}\r\n                        <ChevronRight className=\"w-5 h-5 text-gray-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all\" />\r\n                      </div>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        /* Empty State */\r\n        <div className=\"text-center py-16 px-4\">\r\n          <div className=\"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-3xl flex items-center justify-center mx-auto mb-4\">\r\n            <Ticket className=\"w-10 h-10 text-blue-500\" />\r\n          </div>\r\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\r\n            {searchQuery\r\n              ? (language === 'ru' ? '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ' : 'Hech narsa topilmadi')\r\n              : (language === 'ru' ? '–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è' : 'Tez orada takliflar paydo bo\\'ladi')\r\n            }\r\n          </h3>\r\n          <p className=\"text-gray-500 text-sm max-w-xs mx-auto\">\r\n            {searchQuery\r\n              ? (language === 'ru' ? '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å' : 'So\\'rovni o\\'zgartirib ko\\'ring')\r\n              : (language === 'ru'\r\n                  ? '–ú—ã –ø–æ–¥–±–∏—Ä–∞–µ–º –ª—É—á—à–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –¥–ª—è –∂–∏—Ç–µ–ª–µ–π –∫–æ–º–ø–ª–µ–∫—Å–∞'\r\n                  : 'Majmua aholisi uchun eng yaxshi mutaxassislarni tanlamoqdamiz')\r\n            }\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["categoryIcons","VerifiedBadge","size","sizes","jsx","ResidentUsefulContactsPage","token","useAuthStore","language","useLanguageStore","categories","setCategories","useState","ads","setAds","selectedAd","setSelectedAd","userCoupon","setUserCoupon","searchQuery","setSearchQuery","loading","setLoading","loadingCoupon","setLoadingCoupon","copiedCode","setCopiedCode","API_BASE","fetchCategories","useCallback","res","data","fetchAds","fetchAdDetails","adId","getCoupon","copyCode","useEffect","getCategoryName","cat","adsByCategory","ad","group","filteredGroups","Loader2","hasContacts","jsxs","ArrowLeft","Eye","Sparkles","Flame","Tag","Phone","Globe","MapPin","Clock","CheckCircle","Gift","Search","e","Ticket","ChevronRight"],"mappings":"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"}