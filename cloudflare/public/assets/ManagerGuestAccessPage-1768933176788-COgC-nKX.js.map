{"version":3,"file":"ManagerGuestAccessPage-1768933176788-COgC-nKX.js","sources":["../../src/pages/ManagerGuestAccessPage.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport {\r\n  QrCode, Search, Filter, X, Clock, CheckCircle, Ban, Package, Users, Car, User,\r\n  AlertTriangle, Calendar, Phone, MapPin, Eye, History\r\n} from 'lucide-react';\r\nimport { useAuthStore } from '../stores/authStore';\r\nimport { useDataStore } from '../stores/dataStore';\r\nimport { useLanguageStore } from '../stores/languageStore';\r\nimport {\r\n  VISITOR_TYPE_LABELS, GUEST_ACCESS_STATUS_LABELS,\r\n  type GuestAccessCode, type VisitorType, type GuestAccessStatus\r\n} from '../types';\r\n\r\nexport function ManagerGuestAccessPage() {\r\n  const { user } = useAuthStore();\r\n  const { getAllGuestAccessCodes, revokeGuestAccessCode, getGuestAccessStats, getGuestAccessLogs } = useDataStore();\r\n  const { language } = useLanguageStore();\r\n\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState<GuestAccessStatus | 'all'>('all');\r\n  const [typeFilter, setTypeFilter] = useState<VisitorType | 'all'>('all');\r\n  const [selectedCode, setSelectedCode] = useState<GuestAccessCode | null>(null);\r\n  const [showRevokeModal, setShowRevokeModal] = useState<GuestAccessCode | null>(null);\r\n  const [revokeReason, setRevokeReason] = useState('');\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  const allCodes = getAllGuestAccessCodes();\r\n  const stats = getGuestAccessStats();\r\n  const recentLogs = getGuestAccessLogs().slice(0, 10);\r\n\r\n  // Filter codes\r\n  const filteredCodes = allCodes.filter(code => {\r\n    // Status filter\r\n    if (statusFilter !== 'all' && code.status !== statusFilter) return false;\r\n\r\n    // Type filter\r\n    if (typeFilter !== 'all' && code.visitorType !== typeFilter) return false;\r\n\r\n    // Search filter\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      const matchesResident = code.residentName.toLowerCase().includes(query) ||\r\n                              code.residentApartment.toLowerCase().includes(query);\r\n      const matchesVisitor = (code.visitorName?.toLowerCase().includes(query)) ||\r\n                             (code.visitorPhone?.toLowerCase().includes(query));\r\n      if (!matchesResident && !matchesVisitor) return false;\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  const handleRevoke = () => {\r\n    if (!showRevokeModal || !user || !revokeReason.trim()) return;\r\n    revokeGuestAccessCode(\r\n      showRevokeModal.id,\r\n      user.id,\r\n      user.name,\r\n      user.role,\r\n      revokeReason.trim()\r\n    );\r\n    setShowRevokeModal(null);\r\n    setRevokeReason('');\r\n  };\r\n\r\n  const getVisitorIcon = (type: VisitorType) => {\r\n    switch (type) {\r\n      case 'courier': return <Package className=\"w-5 h-5\" />;\r\n      case 'guest': return <Users className=\"w-5 h-5\" />;\r\n      case 'taxi': return <Car className=\"w-5 h-5\" />;\r\n      default: return <User className=\"w-5 h-5\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 md:space-y-6 pb-20 md:pb-0\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-xl md:text-2xl font-bold text-gray-900\">\r\n          {language === 'ru' ? 'Гостевые пропуска' : 'Mehmon ruxsatnomalari'}\r\n        </h1>\r\n        <p className=\"text-sm text-gray-500 mt-1\">\r\n          {language === 'ru'\r\n            ? 'Мониторинг и управление пропусками посетителей'\r\n            : 'Tashrif buyuruvchilar ruxsatnomalarini monitoring va boshqarish'}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center\">\r\n              <CheckCircle className=\"w-5 h-5 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold text-green-600\">{stats.totalActive}</div>\r\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Активных' : 'Faol'}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center\">\r\n              <QrCode className=\"w-5 h-5 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold text-blue-600\">{stats.totalUsedToday}</div>\r\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Сегодня' : 'Bugun'}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center\">\r\n              <Calendar className=\"w-5 h-5 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold text-purple-600\">{stats.totalCreatedToday}</div>\r\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Создано' : 'Yaratilgan'}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-4\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center\">\r\n              <History className=\"w-5 h-5 text-gray-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold text-gray-600\">{allCodes.length}</div>\r\n              <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Всего' : 'Jami'}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* By visitor type */}\r\n      <div className=\"grid grid-cols-4 gap-2\">\r\n        {(['courier', 'guest', 'taxi', 'other'] as VisitorType[]).map((type) => {\r\n          const label = VISITOR_TYPE_LABELS[type];\r\n          const count = stats.byVisitorType[type];\r\n          return (\r\n            <button\r\n              key={type}\r\n              onClick={() => setTypeFilter(typeFilter === type ? 'all' : type)}\r\n              className={`glass-card p-3 text-center transition-all ${\r\n                typeFilter === type ? 'ring-2 ring-primary-500' : ''\r\n              }`}\r\n            >\r\n              <div className=\"text-2xl mb-1\">{label.icon}</div>\r\n              <div className=\"font-bold\">{count}</div>\r\n              <div className=\"text-xs text-gray-500 truncate\">\r\n                {language === 'ru' ? label.label : label.labelUz}\r\n              </div>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Search and filters */}\r\n      <div className=\"flex flex-col sm:flex-row gap-3\">\r\n        <div className=\"relative flex-1\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder={language === 'ru' ? 'Поиск по жителю или гостю...' : 'Turar joy egasi yoki mehmon bo\\'yicha qidirish...'}\r\n            className=\"w-full pl-10 pr-4 py-3 bg-white/50 border-2 border-gray-200 rounded-xl focus:border-primary-500 focus:ring-0\"\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={() => setShowFilters(!showFilters)}\r\n          className={`px-4 py-3 rounded-xl font-medium flex items-center gap-2 transition-colors ${\r\n            showFilters || statusFilter !== 'all' || typeFilter !== 'all'\r\n              ? 'bg-primary-500 text-gray-900'\r\n              : 'bg-white/50 text-gray-600 hover:bg-white'\r\n          }`}\r\n        >\r\n          <Filter className=\"w-5 h-5\" />\r\n          <span className=\"hidden sm:inline\">{language === 'ru' ? 'Фильтры' : 'Filtrlar'}</span>\r\n          {(statusFilter !== 'all' || typeFilter !== 'all') && (\r\n            <span className=\"w-5 h-5 bg-white/30 rounded-full text-xs flex items-center justify-center\">\r\n              {(statusFilter !== 'all' ? 1 : 0) + (typeFilter !== 'all' ? 1 : 0)}\r\n            </span>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Filter panel */}\r\n      {showFilters && (\r\n        <div className=\"glass-card p-4 space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"font-medium\">{language === 'ru' ? 'Фильтры' : 'Filtrlar'}</h3>\r\n            <button\r\n              onClick={() => {\r\n                setStatusFilter('all');\r\n                setTypeFilter('all');\r\n              }}\r\n              className=\"text-sm text-primary-600 hover:underline\"\r\n            >\r\n              {language === 'ru' ? 'Сбросить' : 'Tozalash'}\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm text-gray-500 mb-2 block\">\r\n              {language === 'ru' ? 'Статус' : 'Status'}\r\n            </label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {[\r\n                { value: 'all' as const, label: language === 'ru' ? 'Все' : 'Barchasi' },\r\n                { value: 'active' as const, label: language === 'ru' ? 'Активные' : 'Faol' },\r\n                { value: 'used' as const, label: language === 'ru' ? 'Использованные' : 'Ishlatilgan' },\r\n                { value: 'expired' as const, label: language === 'ru' ? 'Истекшие' : 'Muddati tugagan' },\r\n                { value: 'revoked' as const, label: language === 'ru' ? 'Отменённые' : 'Bekor qilingan' },\r\n              ].map(({ value, label }) => (\r\n                <button\r\n                  key={value}\r\n                  onClick={() => setStatusFilter(value)}\r\n                  className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\r\n                    statusFilter === value\r\n                      ? 'bg-primary-500 text-gray-900'\r\n                      : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                  }`}\r\n                >\r\n                  {label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm text-gray-500 mb-2 block\">\r\n              {language === 'ru' ? 'Тип посетителя' : 'Tashrif buyuruvchi turi'}\r\n            </label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              <button\r\n                onClick={() => setTypeFilter('all')}\r\n                className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\r\n                  typeFilter === 'all'\r\n                    ? 'bg-primary-500 text-gray-900'\r\n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                }`}\r\n              >\r\n                {language === 'ru' ? 'Все' : 'Barchasi'}\r\n              </button>\r\n              {(['courier', 'guest', 'taxi', 'other'] as VisitorType[]).map((type) => {\r\n                const label = VISITOR_TYPE_LABELS[type];\r\n                return (\r\n                  <button\r\n                    key={type}\r\n                    onClick={() => setTypeFilter(type)}\r\n                    className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center gap-1 ${\r\n                      typeFilter === type\r\n                        ? 'bg-primary-500 text-gray-900'\r\n                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                    }`}\r\n                  >\r\n                    <span>{label.icon}</span>\r\n                    {language === 'ru' ? label.label : label.labelUz}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Codes list */}\r\n      <div className=\"glass-card overflow-hidden\">\r\n        <div className=\"p-4 border-b flex items-center justify-between\">\r\n          <h3 className=\"font-bold\">\r\n            {language === 'ru' ? 'Пропуска' : 'Ruxsatnomalar'} ({filteredCodes.length})\r\n          </h3>\r\n        </div>\r\n\r\n        {filteredCodes.length === 0 ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            {language === 'ru' ? 'Пропуска не найдены' : 'Ruxsatnomalar topilmadi'}\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y max-h-[600px] overflow-y-auto\">\r\n            {filteredCodes.map((code) => {\r\n              const visitorLabel = VISITOR_TYPE_LABELS[code.visitorType];\r\n              const statusLabel = GUEST_ACCESS_STATUS_LABELS[code.status];\r\n              const isActive = code.status === 'active';\r\n\r\n              return (\r\n                <div key={code.id} className=\"p-4 hover:bg-gray-50/50\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    {/* Icon */}\r\n                    <div className={`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${\r\n                      isActive ? 'bg-green-100 text-green-600' :\r\n                      code.status === 'used' ? 'bg-blue-100 text-blue-600' :\r\n                      code.status === 'revoked' ? 'bg-red-100 text-red-600' :\r\n                      'bg-gray-100 text-gray-600'\r\n                    }`}>\r\n                      {getVisitorIcon(code.visitorType)}\r\n                    </div>\r\n\r\n                    {/* Info */}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <span className=\"font-medium truncate\">{code.residentName}</span>\r\n                        <span className={`px-2 py-0.5 text-xs rounded-full font-medium ${\r\n                          isActive ? 'bg-green-100 text-green-700' :\r\n                          code.status === 'used' ? 'bg-blue-100 text-blue-700' :\r\n                          code.status === 'revoked' ? 'bg-red-100 text-red-700' :\r\n                          'bg-gray-100 text-gray-700'\r\n                        }`}>\r\n                          {language === 'ru' ? statusLabel.label : statusLabel.labelUz}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className=\"text-sm text-gray-600 flex items-center gap-1\">\r\n                        <MapPin className=\"w-3.5 h-3.5\" />\r\n                        {code.residentAddress}, {language === 'ru' ? 'кв.' : 'xona'} {code.residentApartment}\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center gap-4 mt-1 text-sm text-gray-500\">\r\n                        <span className=\"flex items-center gap-1\">\r\n                          <span className=\"text-base\">{visitorLabel.icon}</span>\r\n                          {code.visitorName || (language === 'ru' ? visitorLabel.label : visitorLabel.labelUz)}\r\n                        </span>\r\n                        <span className=\"flex items-center gap-1\">\r\n                          <Clock className=\"w-3.5 h-3.5\" />\r\n                          {new Date(code.validUntil).toLocaleDateString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {code.revocationReason && (\r\n                        <div className=\"mt-2 text-xs text-red-600 bg-red-50 px-2 py-1 rounded inline-block\">\r\n                          {language === 'ru' ? 'Причина' : 'Sabab'}: {code.revocationReason}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <button\r\n                        onClick={() => setSelectedCode(code)}\r\n                        className=\"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                        title={language === 'ru' ? 'Подробнее' : 'Batafsil'}\r\n                      >\r\n                        <Eye className=\"w-4 h-4\" />\r\n                      </button>\r\n                      {isActive && (\r\n                        <button\r\n                          onClick={() => setShowRevokeModal(code)}\r\n                          className=\"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\r\n                          title={language === 'ru' ? 'Отменить' : 'Bekor qilish'}\r\n                        >\r\n                          <Ban className=\"w-4 h-4\" />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Recent activity */}\r\n      {recentLogs.length > 0 && (\r\n        <div className=\"glass-card overflow-hidden\">\r\n          <div className=\"p-4 border-b\">\r\n            <h3 className=\"font-bold\">{language === 'ru' ? 'Последняя активность' : 'So\\'nggi faoliyat'}</h3>\r\n          </div>\r\n          <div className=\"divide-y\">\r\n            {recentLogs.slice(0, 5).map((log) => {\r\n              const isAllowed = log.action === 'entry_allowed';\r\n              const isDenied = log.action === 'entry_denied';\r\n\r\n              return (\r\n                <div key={log.id} className=\"p-3 flex items-center gap-3\">\r\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${\r\n                    isAllowed ? 'bg-green-100 text-green-600' :\r\n                    isDenied ? 'bg-red-100 text-red-600' :\r\n                    'bg-amber-100 text-amber-600'\r\n                  }`}>\r\n                    {isAllowed ? <CheckCircle className=\"w-4 h-4\" /> :\r\n                     isDenied ? <Ban className=\"w-4 h-4\" /> :\r\n                     <AlertTriangle className=\"w-4 h-4\" />}\r\n                  </div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"text-sm\">\r\n                      <span className=\"font-medium\">{log.residentName}</span>\r\n                      <span className=\"text-gray-500\"> - {language === 'ru' ? 'кв.' : 'xona'} {log.residentApartment}</span>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-400\">\r\n                      {new Date(log.timestamp).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"text-lg\">{VISITOR_TYPE_LABELS[log.visitorType].icon}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Detail modal */}\r\n      {selectedCode && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-4 border-b flex items-center justify-between\">\r\n              <h2 className=\"text-lg font-bold\">\r\n                {language === 'ru' ? 'Детали пропуска' : 'Ruxsatnoma tafsilotlari'}\r\n              </h2>\r\n              <button onClick={() => setSelectedCode(null)} className=\"p-2 hover:bg-gray-100 rounded-xl\">\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-4 space-y-4\">\r\n              {/* Status */}\r\n              <div className={`p-4 rounded-xl ${\r\n                selectedCode.status === 'active' ? 'bg-green-50' :\r\n                selectedCode.status === 'used' ? 'bg-blue-50' :\r\n                selectedCode.status === 'revoked' ? 'bg-red-50' :\r\n                'bg-gray-50'\r\n              }`}>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\r\n                    selectedCode.status === 'active' ? 'bg-green-200 text-green-700' :\r\n                    selectedCode.status === 'used' ? 'bg-blue-200 text-blue-700' :\r\n                    selectedCode.status === 'revoked' ? 'bg-red-200 text-red-700' :\r\n                    'bg-gray-200 text-gray-700'\r\n                  }`}>\r\n                    {getVisitorIcon(selectedCode.visitorType)}\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-bold\">\r\n                      {language === 'ru'\r\n                        ? VISITOR_TYPE_LABELS[selectedCode.visitorType].label\r\n                        : VISITOR_TYPE_LABELS[selectedCode.visitorType].labelUz}\r\n                    </div>\r\n                    <div className={`text-sm ${\r\n                      selectedCode.status === 'active' ? 'text-green-600' :\r\n                      selectedCode.status === 'used' ? 'text-blue-600' :\r\n                      selectedCode.status === 'revoked' ? 'text-red-600' :\r\n                      'text-gray-600'\r\n                    }`}>\r\n                      {language === 'ru'\r\n                        ? GUEST_ACCESS_STATUS_LABELS[selectedCode.status].label\r\n                        : GUEST_ACCESS_STATUS_LABELS[selectedCode.status].labelUz}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Resident */}\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n                  {language === 'ru' ? 'Житель' : 'Turar joy egasi'}\r\n                </h4>\r\n                <div className=\"bg-gray-50 rounded-xl p-3 space-y-1\">\r\n                  <div className=\"font-medium\">{selectedCode.residentName}</div>\r\n                  <div className=\"text-sm text-gray-600 flex items-center gap-1\">\r\n                    <MapPin className=\"w-4 h-4\" />\r\n                    {selectedCode.residentAddress}, {language === 'ru' ? 'кв.' : 'xona'} {selectedCode.residentApartment}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-600 flex items-center gap-1\">\r\n                    <Phone className=\"w-4 h-4\" />\r\n                    {selectedCode.residentPhone}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Visitor */}\r\n              {(selectedCode.visitorName || selectedCode.visitorPhone || selectedCode.visitorVehiclePlate) && (\r\n                <div>\r\n                  <h4 className=\"text-sm font-medium text-gray-500 mb-2\">\r\n                    {language === 'ru' ? 'Посетитель' : 'Tashrif buyuruvchi'}\r\n                  </h4>\r\n                  <div className=\"bg-gray-50 rounded-xl p-3 space-y-1\">\r\n                    {selectedCode.visitorName && (\r\n                      <div className=\"font-medium\">{selectedCode.visitorName}</div>\r\n                    )}\r\n                    {selectedCode.visitorPhone && (\r\n                      <div className=\"text-sm text-gray-600 flex items-center gap-1\">\r\n                        <Phone className=\"w-4 h-4\" />\r\n                        {selectedCode.visitorPhone}\r\n                      </div>\r\n                    )}\r\n                    {selectedCode.visitorVehiclePlate && (\r\n                      <div className=\"text-sm text-gray-600 flex items-center gap-1\">\r\n                        <Car className=\"w-4 h-4\" />\r\n                        {selectedCode.visitorVehiclePlate}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Dates */}\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div className=\"bg-gray-50 rounded-xl p-3\">\r\n                  <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Создан' : 'Yaratilgan'}</div>\r\n                  <div className=\"font-medium text-sm\">\r\n                    {new Date(selectedCode.createdAt).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\r\n                  </div>\r\n                </div>\r\n                <div className=\"bg-gray-50 rounded-xl p-3\">\r\n                  <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Действует до' : 'Gacha amal qiladi'}</div>\r\n                  <div className=\"font-medium text-sm\">\r\n                    {new Date(selectedCode.validUntil).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Usage */}\r\n              {selectedCode.accessType !== 'single_use' && (\r\n                <div className=\"bg-gray-50 rounded-xl p-3\">\r\n                  <div className=\"text-xs text-gray-500\">{language === 'ru' ? 'Использований' : 'Ishlatilgan'}</div>\r\n                  <div className=\"font-medium\">\r\n                    {selectedCode.currentUses} / {selectedCode.maxUses === 999 ? '∞' : selectedCode.maxUses}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Revocation info */}\r\n              {selectedCode.status === 'revoked' && (\r\n                <div className=\"bg-red-50 rounded-xl p-3 space-y-1\">\r\n                  <div className=\"text-xs text-red-500\">{language === 'ru' ? 'Отменено' : 'Bekor qilingan'}</div>\r\n                  <div className=\"font-medium text-red-700\">{selectedCode.revokedByName}</div>\r\n                  <div className=\"text-sm text-red-600\">{selectedCode.revocationReason}</div>\r\n                  {selectedCode.revokedAt && (\r\n                    <div className=\"text-xs text-red-400\">\r\n                      {new Date(selectedCode.revokedAt).toLocaleString(language === 'ru' ? 'ru-RU' : 'uz-UZ')}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Notes */}\r\n              {selectedCode.notes && (\r\n                <div className=\"bg-blue-50 rounded-xl p-3\">\r\n                  <div className=\"text-xs text-blue-500\">{language === 'ru' ? 'Примечание' : 'Izoh'}</div>\r\n                  <div className=\"text-sm text-blue-700\">{selectedCode.notes}</div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Actions */}\r\n              {selectedCode.status === 'active' && (\r\n                <button\r\n                  onClick={() => {\r\n                    setSelectedCode(null);\r\n                    setShowRevokeModal(selectedCode);\r\n                  }}\r\n                  className=\"w-full py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-bold flex items-center justify-center gap-2\"\r\n                >\r\n                  <Ban className=\"w-5 h-5\" />\r\n                  {language === 'ru' ? 'Отменить пропуск' : 'Ruxsatnomani bekor qilish'}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Revoke modal */}\r\n      {showRevokeModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl max-w-md w-full p-6\">\r\n            <div className=\"text-center mb-4\">\r\n              <div className=\"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center\">\r\n                <AlertTriangle className=\"w-8 h-8 text-red-600\" />\r\n              </div>\r\n              <h3 className=\"text-lg font-bold mb-2\">\r\n                {language === 'ru' ? 'Отменить пропуск?' : 'Ruxsatnomani bekor qilasizmi?'}\r\n              </h3>\r\n              <p className=\"text-gray-600 text-sm mb-4\">\r\n                {language === 'ru'\r\n                  ? `Пропуск для ${showRevokeModal.residentName} (кв. ${showRevokeModal.residentApartment})`\r\n                  : `${showRevokeModal.residentName} (${showRevokeModal.residentApartment}-xona) uchun ruxsatnoma`}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                {language === 'ru' ? 'Причина отмены *' : 'Bekor qilish sababi *'}\r\n              </label>\r\n              <textarea\r\n                value={revokeReason}\r\n                onChange={(e) => setRevokeReason(e.target.value)}\r\n                placeholder={language === 'ru' ? 'Укажите причину...' : 'Sababni kiriting...'}\r\n                rows={3}\r\n                className=\"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-red-500 focus:ring-0 resize-none\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={() => {\r\n                  setShowRevokeModal(null);\r\n                  setRevokeReason('');\r\n                }}\r\n                className=\"flex-1 py-3 border-2 border-gray-200 rounded-xl font-medium hover:bg-gray-50\"\r\n              >\r\n                {language === 'ru' ? 'Отмена' : 'Bekor qilish'}\r\n              </button>\r\n              <button\r\n                onClick={handleRevoke}\r\n                disabled={!revokeReason.trim()}\r\n                className=\"flex-1 py-3 bg-red-500 hover:bg-red-600 disabled:bg-gray-300 text-white rounded-xl font-bold\"\r\n              >\r\n                {language === 'ru' ? 'Отменить пропуск' : 'Bekor qilish'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ManagerGuestAccessPage","user","useAuthStore","getAllGuestAccessCodes","revokeGuestAccessCode","getGuestAccessStats","getGuestAccessLogs","useDataStore","language","useLanguageStore","searchQuery","setSearchQuery","useState","statusFilter","setStatusFilter","typeFilter","setTypeFilter","selectedCode","setSelectedCode","showRevokeModal","setShowRevokeModal","revokeReason","setRevokeReason","showFilters","setShowFilters","allCodes","stats","recentLogs","filteredCodes","code","query","matchesResident","matchesVisitor","handleRevoke","getVisitorIcon","type","jsx","Package","Users","Car","User","jsxs","CheckCircle","QrCode","Calendar","History","label","VISITOR_TYPE_LABELS","count","Search","e","Filter","value","visitorLabel","statusLabel","GUEST_ACCESS_STATUS_LABELS","isActive","MapPin","Clock","Eye","Ban","log","isAllowed","isDenied","AlertTriangle","X","Phone"],"mappings":"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"}