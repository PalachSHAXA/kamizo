{"version":3,"file":"ResidentVehiclesPage-1768381324153-D9VSkg5t.js","sources":["../../src/pages/ResidentVehiclesPage.tsx"],"sourcesContent":["import { useState, useRef, useEffect, useMemo } from 'react';\nimport { Car, Plus, X, Edit2, Trash2, AlertTriangle, AlertCircle, Search, MapPin, Calendar, Building2, User, Phone, Home } from 'lucide-react';\nimport { useAuthStore } from '../stores/authStore';\nimport { useDataStore } from '../stores/dataStore';\nimport { useLanguageStore } from '../stores/languageStore';\nimport type { Vehicle, VehicleType, VehicleOwnerType } from '../types';\nimport { VEHICLE_TYPE_LABELS, VEHICLE_OWNER_TYPE_LABELS } from '../types';\n\n// Uzbekistan plate number formats:\n// Individual (Физ. лицо): 01 A 123 EA (region + 1 letter + 3 digits + 2 letters)\n// Legal entity (Юр. лицо): 01 123 EAA (region + 3 digits + 3 letters)\n\n// Region codes of Uzbekistan\nconst UZ_REGIONS = [\n  { code: '01', name: 'Ташкент', nameUz: 'Toshkent' },\n  { code: '10', name: 'Ташкентская область', nameUz: 'Toshkent viloyati' },\n  { code: '20', name: 'Сырдарьинская область', nameUz: 'Sirdaryo viloyati' },\n  { code: '25', name: 'Джизакская область', nameUz: 'Jizzax viloyati' },\n  { code: '30', name: 'Самаркандская область', nameUz: 'Samarqand viloyati' },\n  { code: '40', name: 'Ферганская область', nameUz: 'Farg\\'ona viloyati' },\n  { code: '50', name: 'Наманганская область', nameUz: 'Namangan viloyati' },\n  { code: '60', name: 'Андижанская область', nameUz: 'Andijon viloyati' },\n  { code: '70', name: 'Кашкадарьинская область', nameUz: 'Qashqadaryo viloyati' },\n  { code: '75', name: 'Сурхандарьинская область', nameUz: 'Surxondaryo viloyati' },\n  { code: '80', name: 'Бухарская область', nameUz: 'Buxoro viloyati' },\n  { code: '85', name: 'Навоийская область', nameUz: 'Navoiy viloyati' },\n  { code: '90', name: 'Хорезмская область', nameUz: 'Xorazm viloyati' },\n  { code: '95', name: 'Республика Каракалпакстан', nameUz: 'Qoraqalpog\\'iston Respublikasi' },\n];\n\ninterface PlateNumberInputProps {\n  ownerType: VehicleOwnerType;\n  value: { region: string; letters1: string; digits: string; letters2: string };\n  onChange: (value: { region: string; letters1: string; digits: string; letters2: string }) => void;\n  language: string;\n}\n\n// UZ Flag component - responsive\nconst UZFlag = ({ className = \"w-8 h-5 sm:w-12 sm:h-8\" }: { className?: string }) => (\n  <svg viewBox=\"0 0 30 20\" className={className}>\n    <rect width=\"30\" height=\"6.67\" fill=\"#1EB53A\"/>\n    <rect y=\"6.67\" width=\"30\" height=\"6.67\" fill=\"#FFFFFF\"/>\n    <rect y=\"13.33\" width=\"30\" height=\"6.67\" fill=\"#0099B5\"/>\n    <rect y=\"6.17\" width=\"30\" height=\"1\" fill=\"#CE1126\"/>\n    <rect y=\"12.83\" width=\"30\" height=\"1\" fill=\"#CE1126\"/>\n    <circle cx=\"8\" cy=\"3.33\" r=\"2\" fill=\"#FFFFFF\"/>\n    <circle cx=\"9\" cy=\"3.33\" r=\"2\" fill=\"#0099B5\"/>\n    {[0,1,2,3,4,5,6,7,8,9,10,11].map((i) => (\n      <circle key={i} cx={14 + (i % 4) * 2.5} cy={1.5 + Math.floor(i / 4) * 2} r=\"0.6\" fill=\"#FFFFFF\"/>\n    ))}\n  </svg>\n);\n\n// Search Plate Input Component - universal search supporting both formats\ninterface SearchPlateInputProps {\n  value: { region: string; letters1: string; digits: string; letters2: string };\n  onChange: (value: { region: string; letters1: string; digits: string; letters2: string }) => void;\n  language: string;\n  onSearch?: () => void;\n}\n\nfunction SearchPlateInput({ value, onChange, language, onSearch }: SearchPlateInputProps) {\n  const letters1Ref = useRef<HTMLInputElement>(null);\n  const digitsRef = useRef<HTMLInputElement>(null);\n  const letters2Ref = useRef<HTMLInputElement>(null);\n  const [showRegionDropdown, setShowRegionDropdown] = useState(false);\n\n  const handleRegionSelect = (code: string) => {\n    onChange({ ...value, region: code });\n    setShowRegionDropdown(false);\n    setTimeout(() => {\n      letters1Ref.current?.focus();\n    }, 100);\n  };\n\n  const handleLetters1Change = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '').slice(0, 1);\n    if (/^\\d$/.test(val)) {\n      onChange({ ...value, letters1: '', digits: val });\n      digitsRef.current?.focus();\n    } else {\n      onChange({ ...value, letters1: val });\n      if (val.length === 1) {\n        digitsRef.current?.focus();\n      }\n    }\n  };\n\n  const handleDigitsChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.replace(/\\D/g, '').slice(0, 3);\n    onChange({ ...value, digits: val });\n    if (val.length === 3) {\n      letters2Ref.current?.focus();\n    }\n  };\n\n  const handleLetters2Change = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.toUpperCase().replace(/[^A-Z]/g, '').slice(0, 3);\n    onChange({ ...value, letters2: val });\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, field: 'letters1' | 'digits' | 'letters2') => {\n    if (e.key === 'Backspace' && (e.target as HTMLInputElement).value === '') {\n      if (field === 'letters2') digitsRef.current?.focus();\n      else if (field === 'digits') letters1Ref.current?.focus();\n    }\n    if (e.key === 'Enter' && onSearch) {\n      onSearch();\n    }\n  };\n\n  const selectedRegion = UZ_REGIONS.find(r => r.code === value.region);\n  const isLegalFormat = value.letters1 === '' && value.digits.length > 0;\n\n  return (\n    <div className=\"flex flex-col items-center w-full\">\n      <div className=\"relative bg-white border-[3px] border-black rounded-xl shadow-xl overflow-visible w-full max-w-[380px]\">\n        <div className=\"flex items-center h-14 sm:h-20 bg-white rounded-xl\">\n          <div className=\"relative flex items-center justify-center border-r-2 border-black h-full px-2 sm:px-3 bg-gray-50 rounded-l-xl\">\n            <button\n              type=\"button\"\n              onClick={() => setShowRegionDropdown(!showRegionDropdown)}\n              className=\"text-2xl sm:text-4xl font-bold text-center hover:text-primary-600 transition-colors cursor-pointer min-w-[36px] sm:min-w-[50px]\"\n            >\n              {value.region || <span className=\"text-gray-300\">01</span>}\n            </button>\n\n            {showRegionDropdown && (\n              <>\n                <div className=\"fixed inset-0 z-[89]\" onClick={() => setShowRegionDropdown(false)} />\n                <div className=\"absolute top-full left-0 mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-2xl z-50 max-h-72 overflow-y-auto min-w-[280px]\">\n                  {UZ_REGIONS.map((region) => (\n                    <button\n                      key={region.code}\n                      type=\"button\"\n                      onClick={() => handleRegionSelect(region.code)}\n                      className={`w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-4 transition-colors first:rounded-t-xl last:rounded-b-xl ${\n                        value.region === region.code ? 'bg-primary-100 text-primary-700' : ''\n                      }`}\n                    >\n                      <span className=\"text-2xl font-bold text-gray-700 w-10\">{region.code}</span>\n                      <span className=\"text-sm text-gray-600\">\n                        {language === 'ru' ? region.name : region.nameUz}\n                      </span>\n                    </button>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"flex-1 flex items-center justify-center px-1 sm:px-2 gap-0.5 sm:gap-1\">\n            <input\n              ref={letters1Ref}\n              type=\"text\"\n              value={value.letters1}\n              onChange={handleLetters1Change}\n              onKeyDown={(e) => handleKeyDown(e, 'letters1')}\n              className=\"w-6 sm:w-10 text-2xl sm:text-4xl font-bold text-center outline-none bg-transparent uppercase\"\n              placeholder=\"A\"\n              maxLength={1}\n            />\n            <input\n              ref={digitsRef}\n              type=\"text\"\n              inputMode=\"numeric\"\n              value={value.digits}\n              onChange={handleDigitsChange}\n              onKeyDown={(e) => handleKeyDown(e, 'digits')}\n              className=\"w-14 sm:w-20 text-2xl sm:text-4xl font-bold text-center outline-none bg-transparent tracking-wider\"\n              placeholder=\"123\"\n              maxLength={3}\n            />\n            <input\n              ref={letters2Ref}\n              type=\"text\"\n              value={value.letters2}\n              onChange={handleLetters2Change}\n              onKeyDown={(e) => handleKeyDown(e, 'letters2')}\n              className=\"w-12 sm:w-20 text-2xl sm:text-4xl font-bold text-center outline-none bg-transparent uppercase\"\n              placeholder={isLegalFormat ? 'ABC' : 'BC'}\n              maxLength={3}\n            />\n          </div>\n\n          <div className=\"flex flex-col items-center justify-center border-l-2 border-black h-full px-1.5 sm:px-3 bg-gray-50 rounded-r-xl\">\n            <UZFlag />\n            <span className=\"text-xs sm:text-sm font-bold mt-0.5\">UZ</span>\n          </div>\n        </div>\n      </div>\n\n      {selectedRegion && (\n        <p className=\"text-sm text-primary-600 mt-3 font-medium\">\n          {language === 'ru' ? selectedRegion.name : selectedRegion.nameUz}\n        </p>\n      )}\n\n      <p className=\"text-xs text-gray-400 mt-1\">\n        {language === 'ru' ? 'Введите любую часть номера для поиска' : 'Qidirish uchun raqamning istalgan qismini kiriting'}\n      </p>\n    </div>\n  );\n}\n\n// Beautiful plate number input component like avtoraqam.uzex.uz\nfunction PlateNumberInput({ ownerType, value, onChange, language }: PlateNumberInputProps) {\n  const letters1Ref = useRef<HTMLInputElement>(null);\n  const digitsRef = useRef<HTMLInputElement>(null);\n  const letters2Ref = useRef<HTMLInputElement>(null);\n  const [showRegionDropdown, setShowRegionDropdown] = useState(false);\n\n  const handleRegionSelect = (code: string) => {\n    onChange({ ...value, region: code });\n    setShowRegionDropdown(false);\n    setTimeout(() => {\n      if (ownerType === 'legal_entity' || ownerType === 'service') {\n        digitsRef.current?.focus();\n      } else {\n        letters1Ref.current?.focus();\n      }\n    }, 100);\n  };\n\n  const handleLetters1Change = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.toUpperCase().replace(/[^A-Z]/g, '').slice(0, 1);\n    onChange({ ...value, letters1: val });\n    if (val.length === 1) {\n      digitsRef.current?.focus();\n    }\n  };\n\n  const handleDigitsChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value.replace(/\\D/g, '').slice(0, 3);\n    onChange({ ...value, digits: val });\n    if (val.length === 3) {\n      letters2Ref.current?.focus();\n    }\n  };\n\n  const handleLetters2Change = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const maxLen = ownerType === 'legal_entity' || ownerType === 'service' ? 3 : 2;\n    const val = e.target.value.toUpperCase().replace(/[^A-Z]/g, '').slice(0, maxLen);\n    onChange({ ...value, letters2: val });\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, field: 'letters1' | 'digits' | 'letters2') => {\n    if (e.key === 'Backspace' && (e.target as HTMLInputElement).value === '') {\n      if (field === 'letters2') digitsRef.current?.focus();\n      else if (field === 'digits') {\n        if (ownerType !== 'legal_entity' && ownerType !== 'service') {\n          letters1Ref.current?.focus();\n        }\n      }\n    }\n  };\n\n  // Get selected region name\n  const selectedRegion = UZ_REGIONS.find(r => r.code === value.region);\n\n  return (\n    <div className=\"flex flex-col items-center w-full\">\n      {/* License plate like avtoraqam.uzex.uz */}\n      <div className=\"relative bg-white border-[3px] border-black rounded-xl shadow-xl overflow-visible w-full max-w-[420px]\">\n        <div className=\"flex items-center h-16 sm:h-24 bg-white rounded-xl\">\n          {/* Region section with dropdown */}\n          <div className=\"relative flex items-center justify-center border-r-2 border-black h-full px-2 sm:px-4 bg-gray-50 rounded-l-xl\">\n            <button\n              type=\"button\"\n              onClick={() => setShowRegionDropdown(!showRegionDropdown)}\n              className=\"text-3xl sm:text-5xl font-bold text-center hover:text-primary-600 transition-colors cursor-pointer min-w-[40px] sm:min-w-[60px]\"\n            >\n              {value.region || <span className=\"text-gray-300\">01</span>}\n            </button>\n\n            {/* Region dropdown */}\n            {showRegionDropdown && (\n              <>\n                <div className=\"fixed inset-0 z-[100]\" onClick={() => setShowRegionDropdown(false)} />\n                <div className=\"absolute top-full left-0 mt-2 bg-white border-2 border-gray-200 rounded-xl shadow-2xl z-[101] max-h-72 overflow-y-auto min-w-[280px]\">\n                  {UZ_REGIONS.map((region) => (\n                    <button\n                      key={region.code}\n                      type=\"button\"\n                      onClick={() => handleRegionSelect(region.code)}\n                      className={`w-full px-4 py-3 text-left hover:bg-primary-50 flex items-center gap-4 transition-colors first:rounded-t-xl last:rounded-b-xl ${\n                        value.region === region.code ? 'bg-primary-100 text-primary-700' : ''\n                      }`}\n                    >\n                      <span className=\"text-2xl font-bold text-gray-700 w-10\">{region.code}</span>\n                      <span className=\"text-sm text-gray-600\">\n                        {language === 'ru' ? region.name : region.nameUz}\n                      </span>\n                    </button>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Number section */}\n          <div className=\"flex-1 flex items-center justify-center px-1 sm:px-4\">\n            {ownerType !== 'legal_entity' && ownerType !== 'service' ? (\n              // Individual: A 123 EA\n              <div className=\"flex items-center gap-1 sm:gap-3\">\n                <input\n                  ref={letters1Ref}\n                  type=\"text\"\n                  value={value.letters1}\n                  onChange={handleLetters1Change}\n                  onKeyDown={(e) => handleKeyDown(e, 'letters1')}\n                  className=\"w-8 sm:w-14 text-3xl sm:text-5xl font-bold text-center outline-none bg-transparent uppercase\"\n                  placeholder=\"A\"\n                  maxLength={1}\n                />\n                <input\n                  ref={digitsRef}\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={value.digits}\n                  onChange={handleDigitsChange}\n                  onKeyDown={(e) => handleKeyDown(e, 'digits')}\n                  className=\"w-16 sm:w-28 text-3xl sm:text-5xl font-bold text-center outline-none bg-transparent tracking-wider\"\n                  placeholder=\"123\"\n                  maxLength={3}\n                />\n                <input\n                  ref={letters2Ref}\n                  type=\"text\"\n                  value={value.letters2}\n                  onChange={handleLetters2Change}\n                  onKeyDown={(e) => handleKeyDown(e, 'letters2')}\n                  className=\"w-12 sm:w-20 text-3xl sm:text-5xl font-bold text-center outline-none bg-transparent uppercase\"\n                  placeholder=\"EA\"\n                  maxLength={2}\n                />\n              </div>\n            ) : (\n              // Legal entity/Service: 123 EAA\n              <div className=\"flex items-center gap-1 sm:gap-3\">\n                <input\n                  ref={digitsRef}\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={value.digits}\n                  onChange={handleDigitsChange}\n                  onKeyDown={(e) => handleKeyDown(e, 'digits')}\n                  className=\"w-16 sm:w-28 text-3xl sm:text-5xl font-bold text-center outline-none bg-transparent tracking-wider\"\n                  placeholder=\"123\"\n                  maxLength={3}\n                />\n                <input\n                  ref={letters2Ref}\n                  type=\"text\"\n                  value={value.letters2}\n                  onChange={handleLetters2Change}\n                  onKeyDown={(e) => handleKeyDown(e, 'letters2')}\n                  className=\"w-16 sm:w-28 text-3xl sm:text-5xl font-bold text-center outline-none bg-transparent uppercase\"\n                  placeholder=\"EAA\"\n                  maxLength={3}\n                />\n              </div>\n            )}\n          </div>\n\n          {/* Flag section */}\n          <div className=\"flex flex-col items-center justify-center border-l-2 border-black h-full px-1.5 sm:px-3 bg-gray-50 rounded-r-xl\">\n            <UZFlag />\n            <span className=\"text-xs sm:text-base font-bold mt-0.5 sm:mt-1\">UZ</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Selected region hint */}\n      {selectedRegion && (\n        <p className=\"text-sm text-primary-600 mt-3 font-medium\">\n          {language === 'ru' ? selectedRegion.name : selectedRegion.nameUz}\n        </p>\n      )}\n\n      {/* Format hint */}\n      <p className=\"text-xs text-gray-400 mt-1\">\n        {language === 'ru' ? 'Нажмите на код региона для выбора' : 'Viloyat kodini tanlash uchun bosing'}\n      </p>\n    </div>\n  );\n}\n\n// Parse plate number to parts\nfunction parsePlateNumber(plate: string, ownerType: VehicleOwnerType): { region: string; letters1: string; digits: string; letters2: string } {\n  const cleaned = plate.toUpperCase().replace(/[^A-Z0-9]/g, '');\n\n  if (ownerType === 'legal_entity' || ownerType === 'service') {\n    // Format: 01123EAA\n    return {\n      region: cleaned.slice(0, 2),\n      letters1: '',\n      digits: cleaned.slice(2, 5),\n      letters2: cleaned.slice(5, 8),\n    };\n  } else {\n    // Format: 01A123EA\n    return {\n      region: cleaned.slice(0, 2),\n      letters1: cleaned.slice(2, 3),\n      digits: cleaned.slice(3, 6),\n      letters2: cleaned.slice(6, 8),\n    };\n  }\n}\n\n// Combine parts to plate number\nfunction combinePlateNumber(parts: { region: string; letters1: string; digits: string; letters2: string }, ownerType: VehicleOwnerType): string {\n  if (ownerType === 'legal_entity' || ownerType === 'service') {\n    return `${parts.region}${parts.digits}${parts.letters2}`.toUpperCase();\n  } else {\n    return `${parts.region}${parts.letters1}${parts.digits}${parts.letters2}`.toUpperCase();\n  }\n}\n\n// Validate plate number\nfunction validatePlateNumber(parts: { region: string; letters1: string; digits: string; letters2: string }, ownerType: VehicleOwnerType): boolean {\n  const region = parseInt(parts.region);\n  if (isNaN(region) || region < 1 || region > 99) return false;\n\n  if (ownerType === 'legal_entity' || ownerType === 'service') {\n    return parts.digits.length === 3 && parts.letters2.length === 3;\n  } else {\n    return parts.letters1.length === 1 && parts.digits.length === 3 && parts.letters2.length === 2;\n  }\n}\n\nexport function ResidentVehiclesPage() {\n  const { user } = useAuthStore();\n  const { addVehicle, updateVehicle, deleteVehicle, fetchVehicles, searchVehiclesByPlate } = useDataStore();\n  const { language } = useLanguageStore();\n\n  // Fetch vehicles from D1 database on mount (run once using ref to prevent duplicates)\n  // Only fetch when user is authenticated to prevent 401 errors\n  const hasFetched = useRef(false);\n  useEffect(() => {\n    if (!hasFetched.current && user) {\n      hasFetched.current = true;\n      fetchVehicles();\n    }\n  }, [fetchVehicles, user]);\n\n  const [activeTab, setActiveTab] = useState<'my_vehicles' | 'search'>('my_vehicles');\n  const [showModal, setShowModal] = useState(false);\n  const [editingVehicle, setEditingVehicle] = useState<Vehicle | null>(null);\n  const [deleteConfirm, setDeleteConfirm] = useState<string | null>(null);\n  const [plateError, setPlateError] = useState<string | null>(null);\n\n  // Search state\n  const [searchPlateParts, setSearchPlateParts] = useState({ region: '', letters1: '', digits: '', letters2: '' });\n  // State for manually selected search result (when user clicks on a vehicle)\n  const [manuallySelectedResult, setManuallySelectedResult] = useState<Vehicle | null>(null);\n  // API search results (for searching all vehicles in the system)\n  const [apiSearchResults, setApiSearchResults] = useState<Vehicle[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n\n  // Owner type for form\n  const [selectedOwnerType, setSelectedOwnerType] = useState<VehicleOwnerType>('individual');\n\n  // Plate number parts\n  const [plateParts, setPlateParts] = useState({ region: '', letters1: '', digits: '', letters2: '' });\n\n  const [formData, setFormData] = useState({\n    brand: '',\n    model: '',\n    color: '',\n    year: '',\n    type: 'car' as VehicleType,\n    companyName: '',\n    parkingSpot: '',\n    notes: '',\n  });\n\n  // Memoize vehicles to prevent infinite useEffect loop\n  // getVehiclesByOwner creates a new array on each call, causing reference changes\n  const vehiclesData = useDataStore(state => state.vehicles);\n  const vehicles = useMemo(() => {\n    if (!user) return [];\n    return vehiclesData.filter(v => v.ownerId === user.id);\n  }, [vehiclesData, user]);\n\n  const resetForm = () => {\n    setFormData({\n      brand: '',\n      model: '',\n      color: '',\n      year: '',\n      type: 'car',\n      companyName: '',\n      parkingSpot: '',\n      notes: '',\n    });\n    setPlateParts({ region: '', letters1: '', digits: '', letters2: '' });\n    setSelectedOwnerType('individual');\n    setEditingVehicle(null);\n    setPlateError(null);\n  };\n\n  const handleOpenModal = (vehicle?: Vehicle) => {\n    if (vehicle) {\n      setEditingVehicle(vehicle);\n      const ownerType = vehicle.ownerType || 'individual';\n      setSelectedOwnerType(ownerType);\n      setPlateParts(parsePlateNumber(vehicle.plateNumber, ownerType));\n      setFormData({\n        brand: vehicle.brand,\n        model: vehicle.model,\n        color: vehicle.color,\n        year: vehicle.year?.toString() || '',\n        type: vehicle.type,\n        companyName: vehicle.companyName || '',\n        parkingSpot: vehicle.parkingSpot || '',\n        notes: vehicle.notes || '',\n      });\n    } else {\n      resetForm();\n    }\n    setShowModal(true);\n  };\n\n  // Reset plate parts when owner type changes\n  useEffect(() => {\n    if (!editingVehicle) {\n      setPlateParts(prev => ({ region: prev.region, letters1: '', digits: '', letters2: '' }));\n    }\n  }, [selectedOwnerType, editingVehicle]);\n\n  // Filter vehicles based on search plate parts - memoized to prevent unnecessary re-renders\n  const searchPattern = useMemo(() => {\n    const { region, letters1, digits, letters2 } = searchPlateParts;\n    return `${region}${letters1}${digits}${letters2}`.toUpperCase();\n  }, [searchPlateParts]);\n\n  const hasSearchInput = useMemo(() => {\n    const { region, letters1, digits, letters2 } = searchPlateParts;\n    return !!(region || letters1 || digits || letters2);\n  }, [searchPlateParts]);\n\n  // Search via API when search pattern changes (debounced)\n  useEffect(() => {\n    if (!hasSearchInput || searchPattern.length < 2) {\n      setApiSearchResults([]);\n      return;\n    }\n\n    const timeoutId = setTimeout(async () => {\n      setIsSearching(true);\n      try {\n        // Use API to search all vehicles in the system\n        console.log('[Vehicle Search] Searching for:', searchPattern);\n        const results = await searchVehiclesByPlate(searchPattern);\n        console.log('[Vehicle Search] Results:', results);\n        setApiSearchResults(results);\n      } catch (err) {\n        console.error('[Vehicle Search] Error:', err);\n        setApiSearchResults([]);\n      } finally {\n        setIsSearching(false);\n      }\n    }, 300); // 300ms debounce\n\n    return () => clearTimeout(timeoutId);\n  }, [searchPattern, hasSearchInput, searchVehiclesByPlate]);\n\n  // Combined search result: either manually selected or auto-selected when only 1 match\n  const searchResult = useMemo(() => {\n    if (manuallySelectedResult) return manuallySelectedResult;\n    if (apiSearchResults.length === 1) return apiSearchResults[0];\n    return null;\n  }, [apiSearchResults, manuallySelectedResult]);\n\n  // Alias for filtered vehicles\n  const filteredVehicles = apiSearchResults;\n  const hasSearched = hasSearchInput;\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    // Validate plate number\n    if (!validatePlateNumber(plateParts, selectedOwnerType)) {\n      setPlateError(\n        language === 'ru'\n          ? 'Заполните все поля номера авто'\n          : 'Avto raqamining barcha maydonlarini to\\'ldiring'\n      );\n      return;\n    }\n\n    const plateNumber = combinePlateNumber(plateParts, selectedOwnerType);\n\n    const vehicleData = {\n      ownerId: user.id,\n      ownerName: user.name,\n      ownerPhone: user.phone,\n      apartment: (user as any).apartment || '',\n      address: (user as any).address || 'ул. Мустакиллик, 15',\n      plateNumber,\n      brand: formData.brand,\n      model: formData.model,\n      color: formData.color,\n      year: formData.year ? parseInt(formData.year) : undefined,\n      type: formData.type,\n      ownerType: selectedOwnerType,\n      companyName: selectedOwnerType !== 'individual' ? formData.companyName : undefined,\n      parkingSpot: formData.parkingSpot || undefined,\n      notes: formData.notes || undefined,\n    };\n\n    if (editingVehicle) {\n      updateVehicle(editingVehicle.id, vehicleData);\n    } else {\n      addVehicle(vehicleData);\n    }\n\n    setShowModal(false);\n    resetForm();\n  };\n\n  const handleDelete = (id: string) => {\n    deleteVehicle(id);\n    setDeleteConfirm(null);\n  };\n\n  const handleQuickSearch = (vehicle: Vehicle) => {\n    setManuallySelectedResult(vehicle);\n  };\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString(language === 'ru' ? 'ru-RU' : 'uz-UZ', {\n      day: '2-digit',\n      month: 'short',\n      year: 'numeric',\n    });\n  };\n\n  const formatPlateDisplay = (plate: string) => {\n    // Format for display: 01 A 123 EA or 01 123 EAA\n    const cleaned = plate.toUpperCase().replace(/[^A-Z0-9]/g, '');\n    if (cleaned.length === 8 && /^\\d{2}[A-Z]\\d{3}[A-Z]{2}$/.test(cleaned)) {\n      return `${cleaned.slice(0,2)} ${cleaned.slice(2,3)} ${cleaned.slice(3,6)} ${cleaned.slice(6,8)}`;\n    }\n    if (cleaned.length === 8 && /^\\d{5}[A-Z]{3}$/.test(cleaned)) {\n      return `${cleaned.slice(0,2)} ${cleaned.slice(2,5)} ${cleaned.slice(5,8)}`;\n    }\n    return plate;\n  };\n\n  const getOwnerTypeIcon = (type: VehicleOwnerType) => {\n    switch (type) {\n      case 'individual': return <User className=\"w-4 h-4\" />;\n      case 'legal_entity': return <Building2 className=\"w-4 h-4\" />;\n      case 'service': return <Car className=\"w-4 h-4\" />;\n    }\n  };\n\n  const tabs = [\n    {\n      id: 'my_vehicles' as const,\n      label: language === 'ru' ? 'Мои авто' : 'Avtomobillarim',\n      icon: Car,\n      count: vehicles.length\n    },\n    {\n      id: 'search' as const,\n      label: language === 'ru' ? 'Поиск' : 'Qidirish',\n      icon: Search\n    },\n  ];\n\n  const ownerTypes: VehicleOwnerType[] = ['individual', 'legal_entity'];\n\n  return (\n    <div className=\"space-y-4 md:space-y-6 pb-20 md:pb-0\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-xl md:text-2xl font-bold flex items-center gap-3\">\n          <Car className=\"w-7 h-7 text-blue-500\" />\n          {language === 'ru' ? 'Мои автомобили' : 'Mening avtomobillarim'}\n        </h1>\n        <button\n          onClick={() => handleOpenModal()}\n          className=\"btn-primary flex items-center gap-2\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          <span className=\"hidden sm:inline\">\n            {language === 'ru' ? 'Добавить' : 'Qo\\'shish'}\n          </span>\n        </button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"glass-card p-1.5 md:p-1 overflow-x-auto scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0\">\n        <div className=\"flex gap-1 md:inline-flex min-w-max\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => {\n                setActiveTab(tab.id);\n                if (tab.id === 'my_vehicles') {\n                  setSearchPlateParts({ region: '', letters1: '', digits: '', letters2: '' });\n                  setManuallySelectedResult(null);\n                }\n              }}\n              className={`px-4 py-3 md:py-2 rounded-xl font-medium transition-all flex items-center gap-2 whitespace-nowrap touch-manipulation ${\n                activeTab === tab.id\n                  ? 'bg-primary-500 text-gray-900 shadow-md'\n                  : 'hover:bg-white/30 active:bg-white/50 text-gray-600'\n              }`}\n            >\n              <tab.icon className=\"w-5 h-5 md:w-4 md:h-4\" />\n              <span className=\"text-sm md:text-base\">{tab.label}</span>\n              {tab.count !== undefined && tab.count > 0 && (\n                <span className={`px-2 py-0.5 rounded-full text-xs text-white font-medium bg-blue-500`}>\n                  {tab.count}\n                </span>\n              )}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* My Vehicles Tab */}\n      {activeTab === 'my_vehicles' && (\n        <>\n          {/* Info Card */}\n          <div className=\"glass-card p-4 bg-blue-50 border-blue-200\">\n            <div className=\"flex items-start gap-3\">\n              <Car className=\"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5\" />\n              <p className=\"text-sm text-blue-700\">\n                {language === 'ru'\n                  ? 'Зарегистрируйте свои автомобили для быстрой идентификации на территории комплекса. Это поможет охране и управляющей компании.'\n                  : 'Avtomobillaringizni majmua hududida tez aniqlash uchun ro\\'yxatdan o\\'tkazing. Bu qo\\'riqlash va boshqaruv kompaniyasiga yordam beradi.'}\n              </p>\n            </div>\n          </div>\n\n          {/* Vehicles List */}\n          {vehicles.length === 0 ? (\n            <div className=\"glass-card p-12 text-center\">\n              <Car className=\"w-16 h-16 mx-auto text-gray-300 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                {language === 'ru' ? 'Нет зарегистрированных авто' : 'Ro\\'yxatdan o\\'tgan avtomobillar yo\\'q'}\n              </h3>\n              <p className=\"text-gray-400 mb-4\">\n                {language === 'ru'\n                  ? 'Добавьте свой автомобиль, нажав кнопку выше'\n                  : 'Yuqoridagi tugmani bosib avtomobilingizni qo\\'shing'}\n              </p>\n              <button\n                onClick={() => handleOpenModal()}\n                className=\"btn-primary inline-flex items-center gap-2\"\n              >\n                <Plus className=\"w-5 h-5\" />\n                {language === 'ru' ? 'Добавить первый авто' : 'Birinchi avtoni qo\\'shish'}\n              </button>\n            </div>\n          ) : (\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              {vehicles.map((vehicle) => (\n                <div key={vehicle.id} className=\"glass-card p-5\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center\">\n                        <Car className=\"w-6 h-6 text-blue-500\" />\n                      </div>\n                      <div>\n                        <h3 className=\"font-bold text-lg text-gray-900 tracking-wider\">\n                          {formatPlateDisplay(vehicle.plateNumber)}\n                        </h3>\n                        <p className=\"text-sm text-gray-500\">\n                          {vehicle.brand} {vehicle.model}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex gap-1\">\n                      <button\n                        onClick={() => handleOpenModal(vehicle)}\n                        className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                      >\n                        <Edit2 className=\"w-4 h-4 text-gray-500\" />\n                      </button>\n                      <button\n                        onClick={() => setDeleteConfirm(vehicle.id)}\n                        className=\"p-2 hover:bg-red-50 rounded-lg transition-colors\"\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2 text-sm\">\n                    {vehicle.ownerType && (\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <span className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${\n                          vehicle.ownerType === 'individual' ? 'bg-blue-100 text-blue-700' :\n                          vehicle.ownerType === 'legal_entity' ? 'bg-purple-100 text-purple-700' :\n                          'bg-orange-100 text-orange-700'\n                        }`}>\n                          {getOwnerTypeIcon(vehicle.ownerType)}\n                          {language === 'ru'\n                            ? VEHICLE_OWNER_TYPE_LABELS[vehicle.ownerType].label\n                            : VEHICLE_OWNER_TYPE_LABELS[vehicle.ownerType].labelUz}\n                        </span>\n                      </div>\n                    )}\n                    {vehicle.companyName && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">{language === 'ru' ? 'Компания' : 'Kompaniya'}:</span>\n                        <span className=\"text-gray-900 font-medium\">{vehicle.companyName}</span>\n                      </div>\n                    )}\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-500\">{language === 'ru' ? 'Тип' : 'Turi'}:</span>\n                      <span className=\"text-gray-900\">\n                        {language === 'ru'\n                          ? VEHICLE_TYPE_LABELS[vehicle.type].label\n                          : VEHICLE_TYPE_LABELS[vehicle.type].labelUz}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-500\">{language === 'ru' ? 'Цвет' : 'Rangi'}:</span>\n                      <span className=\"text-gray-900\">{vehicle.color}</span>\n                    </div>\n                    {vehicle.year && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">{language === 'ru' ? 'Год' : 'Yili'}:</span>\n                        <span className=\"text-gray-900\">{vehicle.year}</span>\n                      </div>\n                    )}\n                    {vehicle.parkingSpot && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-500\">{language === 'ru' ? 'Парковка' : 'Avtoturargoh'}:</span>\n                        <span className=\"text-gray-900\">{vehicle.parkingSpot}</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </>\n      )}\n\n      {/* Search Tab */}\n      {activeTab === 'search' && (\n        <div className=\"space-y-4\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-lg font-bold flex items-center gap-2\">\n              <Search className=\"w-5 h-5 text-blue-500\" />\n              {language === 'ru' ? 'Поиск автомобиля' : 'Avtomobil qidirish'}\n            </h2>\n            <span className=\"text-sm text-gray-500\">\n              {language === 'ru' ? 'Всего:' : 'Jami:'} {vehicles.length}\n            </span>\n          </div>\n\n          {/* Search Form with Beautiful Plate Input */}\n          <div className=\"glass-card p-6 relative z-10 overflow-visible\">\n            <div className=\"flex flex-col items-center relative\">\n              <SearchPlateInput\n                value={searchPlateParts}\n                onChange={setSearchPlateParts}\n                language={language}\n                onSearch={() => {\n                  if (filteredVehicles.length === 1) {\n                    setManuallySelectedResult(filteredVehicles[0]);\n                  }\n                }}\n              />\n\n              {/* Clear search button */}\n              {(searchPlateParts.region || searchPlateParts.letters1 || searchPlateParts.digits || searchPlateParts.letters2) && (\n                <button\n                  onClick={() => {\n                    setSearchPlateParts({ region: '', letters1: '', digits: '', letters2: '' });\n                    setManuallySelectedResult(null);\n                  }}\n                  className=\"mt-4 px-4 py-2 text-sm text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2\"\n                >\n                  <X className=\"w-4 h-4\" />\n                  {language === 'ru' ? 'Очистить поиск' : 'Qidiruvni tozalash'}\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Filtered Results List */}\n          {hasSearched && filteredVehicles.length > 1 && !searchResult && (\n            <div className=\"glass-card p-4\">\n              <h3 className=\"font-medium text-gray-700 mb-3 flex items-center gap-2\">\n                <Search className=\"w-5 h-5 text-primary-500\" />\n                {language === 'ru' ? 'Найденные автомобили' : 'Topilgan avtomobillar'}\n                <span className=\"px-2 py-0.5 rounded-full bg-primary-100 text-primary-600 text-sm\">\n                  {filteredVehicles.length}\n                </span>\n              </h3>\n              <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n                {filteredVehicles.map((vehicle) => (\n                  <button\n                    key={vehicle.id}\n                    type=\"button\"\n                    className=\"w-full flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-primary-50 cursor-pointer transition-colors border-2 border-transparent hover:border-primary-300 active:scale-[0.99] text-left\"\n                    onClick={() => setManuallySelectedResult(vehicle)}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center\">\n                        <Car className=\"w-5 h-5 text-blue-500\" />\n                      </div>\n                      <div>\n                        <p className=\"font-bold text-gray-900 tracking-wider\">{formatPlateDisplay(vehicle.plateNumber)}</p>\n                        <p className=\"text-sm text-gray-500\">\n                          {vehicle.brand} {vehicle.model} • {vehicle.color}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-primary-500\">\n                      <span className=\"text-sm font-medium hidden sm:inline\">\n                        {language === 'ru' ? 'Подробнее' : 'Batafsil'}\n                      </span>\n                      <Search className=\"w-4 h-4\" />\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Search Result */}\n          {searchResult && (\n            <div className=\"glass-card p-6 border-2 border-green-200 bg-green-50/50\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <div className=\"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center\">\n                  <Car className=\"w-4 h-4 text-green-600\" />\n                </div>\n                <h2 className=\"text-lg font-bold text-green-700\">\n                  {language === 'ru' ? 'Автомобиль найден!' : 'Avtomobil topildi!'}\n                </h2>\n              </div>\n\n              <div className=\"bg-white rounded-xl p-4 mb-4\">\n                <div className=\"flex items-center gap-4 mb-4\">\n                  <div className=\"w-16 h-16 rounded-xl bg-blue-100 flex items-center justify-center\">\n                    <Car className=\"w-8 h-8 text-blue-500\" />\n                  </div>\n                  <div>\n                    <h3 className=\"text-2xl font-bold text-gray-900 tracking-wider\">\n                      {formatPlateDisplay(searchResult.plateNumber)}\n                    </h3>\n                    <p className=\"text-gray-500\">\n                      {searchResult.brand} {searchResult.model} • {searchResult.color}\n                      {searchResult.year && ` • ${searchResult.year}`}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"space-y-3\">\n                    {/* Owner info */}\n                    {searchResult.ownerName && (\n                      <div className=\"flex items-center gap-3\">\n                        <User className=\"w-5 h-5 text-gray-400\" />\n                        <div>\n                          <p className=\"text-xs text-gray-500\">{language === 'ru' ? 'Владелец' : 'Egasi'}</p>\n                          <p className=\"font-medium\">{searchResult.ownerName}</p>\n                        </div>\n                      </div>\n                    )}\n                    {/* Phone */}\n                    <div className=\"flex items-center gap-3\">\n                      <Phone className=\"w-5 h-5 text-gray-400\" />\n                      <div>\n                        <p className=\"text-xs text-gray-500\">{language === 'ru' ? 'Телефон' : 'Telefon'}</p>\n                        {searchResult.ownerPhone ? (\n                          <a href={`tel:${searchResult.ownerPhone}`} className=\"font-medium text-primary-600 hover:underline\">\n                            {searchResult.ownerPhone}\n                          </a>\n                        ) : (\n                          <p className=\"font-medium text-gray-400\">{language === 'ru' ? 'Не указан' : 'Ko\\'rsatilmagan'}</p>\n                        )}\n                      </div>\n                    </div>\n                    {/* Apartment */}\n                    {searchResult.apartment && (\n                      <div className=\"flex items-center gap-3\">\n                        <Building2 className=\"w-5 h-5 text-gray-400\" />\n                        <div>\n                          <p className=\"text-xs text-gray-500\">{language === 'ru' ? 'Квартира' : 'Kvartira'}</p>\n                          <p className=\"font-medium\">{language === 'ru' ? 'Кв.' : ''} {searchResult.apartment}</p>\n                        </div>\n                      </div>\n                    )}\n                    {/* Address */}\n                    {searchResult.address && searchResult.address !== 'Служебный автомобиль' && (\n                      <div className=\"flex items-center gap-3\">\n                        <Home className=\"w-5 h-5 text-gray-400\" />\n                        <div>\n                          <p className=\"text-xs text-gray-500\">{language === 'ru' ? 'Адрес' : 'Manzil'}</p>\n                          <p className=\"font-medium\">{searchResult.address}</p>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <Car className=\"w-5 h-5 text-gray-400\" />\n                      <div>\n                        <p className=\"text-xs text-gray-500\">{language === 'ru' ? 'Тип транспорта' : 'Transport turi'}</p>\n                        <p className=\"font-medium\">\n                          {language === 'ru'\n                            ? VEHICLE_TYPE_LABELS[searchResult.type].label\n                            : VEHICLE_TYPE_LABELS[searchResult.type].labelUz}\n                        </p>\n                      </div>\n                    </div>\n                    {searchResult.parkingSpot && (\n                      <div className=\"flex items-center gap-3\">\n                        <MapPin className=\"w-5 h-5 text-gray-400\" />\n                        <div>\n                          <p className=\"text-xs text-gray-500\">{language === 'ru' ? 'Парковочное место' : 'Avtoturargoh joyi'}</p>\n                          <p className=\"font-medium\">{searchResult.parkingSpot}</p>\n                        </div>\n                      </div>\n                    )}\n                    <div className=\"flex items-center gap-3\">\n                      <Calendar className=\"w-5 h-5 text-gray-400\" />\n                      <div>\n                        <p className=\"text-xs text-gray-500\">{language === 'ru' ? 'Дата регистрации' : 'Ro\\'yxatga olingan sana'}</p>\n                        <p className=\"font-medium\">{formatDate(searchResult.createdAt)}</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Only show edit button if user owns this vehicle */}\n              {user && searchResult.ownerId === user.id && (\n                <button\n                  onClick={() => handleOpenModal(searchResult)}\n                  className=\"w-full py-3 px-4 rounded-xl font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <Edit2 className=\"w-4 h-4\" />\n                  {language === 'ru' ? 'Редактировать' : 'Tahrirlash'}\n                </button>\n              )}\n            </div>\n          )}\n\n          {/* Loading State */}\n          {isSearching && (\n            <div className=\"glass-card p-8 text-center\">\n              <div className=\"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-3\" />\n              <p className=\"text-gray-500\">\n                {language === 'ru' ? 'Поиск...' : 'Qidirilmoqda...'}\n              </p>\n            </div>\n          )}\n\n          {/* Not Found State */}\n          {!isSearching && hasSearched && filteredVehicles.length === 0 && (searchPlateParts.region || searchPlateParts.digits) && (\n            <div className=\"glass-card p-8 text-center border-2 border-amber-200 bg-amber-50/50\">\n              <AlertCircle className=\"w-12 h-12 mx-auto text-amber-400 mb-3\" />\n              <h3 className=\"text-lg font-semibold text-amber-700 mb-2\">\n                {language === 'ru' ? 'Автомобиль не найден' : 'Avtomobil topilmadi'}\n              </h3>\n              <p className=\"text-amber-600 text-sm\">\n                {language === 'ru'\n                  ? 'По введённым данным автомобиль не найден в системе'\n                  : 'Kiritilgan ma\\'lumotlar bo\\'yicha avtomobil topilmadi'}\n              </p>\n            </div>\n          )}\n\n          {/* Quick list - show when no search */}\n          {vehicles.length > 0 && !hasSearched && (\n            <div className=\"glass-card p-4\">\n              <h3 className=\"font-medium text-gray-700 mb-3\">\n                {language === 'ru' ? 'Ваши автомобили' : 'Sizning avtomobillaringiz'}\n              </h3>\n              <div className=\"space-y-2\">\n                {vehicles.map((vehicle) => (\n                  <button\n                    key={vehicle.id}\n                    type=\"button\"\n                    className=\"w-full flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-primary-50 cursor-pointer transition-colors border-2 border-transparent hover:border-primary-300 active:scale-[0.99] text-left\"\n                    onClick={() => handleQuickSearch(vehicle)}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center\">\n                        <Car className=\"w-5 h-5 text-blue-500\" />\n                      </div>\n                      <div>\n                        <p className=\"font-bold text-gray-900 tracking-wider\">{formatPlateDisplay(vehicle.plateNumber)}</p>\n                        <p className=\"text-sm text-gray-500\">\n                          {vehicle.brand} {vehicle.model}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-primary-500\">\n                      <span className=\"text-sm font-medium hidden sm:inline\">\n                        {language === 'ru' ? 'Подробнее' : 'Batafsil'}\n                      </span>\n                      <Search className=\"w-4 h-4\" />\n                    </div>\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Empty State */}\n          {vehicles.length === 0 && !hasSearched && (\n            <div className=\"glass-card p-12 text-center\">\n              <Car className=\"w-16 h-16 mx-auto text-gray-300 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-600 mb-2\">\n                {language === 'ru' ? 'Нет автомобилей для поиска' : 'Qidirish uchun avtomobillar yo\\'q'}\n              </h3>\n              <p className=\"text-gray-400 mb-4\">\n                {language === 'ru'\n                  ? 'Сначала добавьте свои автомобили'\n                  : 'Avval avtomobillaringizni qo\\'shing'}\n              </p>\n              <button\n                onClick={() => {\n                  setActiveTab('my_vehicles');\n                  handleOpenModal();\n                }}\n                className=\"btn-primary inline-flex items-center gap-2\"\n              >\n                <Plus className=\"w-5 h-5\" />\n                {language === 'ru' ? 'Добавить авто' : 'Avto qo\\'shish'}\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Add/Edit Modal - Mobile full-screen, centered on desktop */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 md:flex md:items-center md:justify-center\">\n          <div className=\"h-full md:h-auto w-full md:max-w-2xl md:mx-4 bg-white md:rounded-2xl overflow-hidden md:max-h-[85vh] flex flex-col\">\n            <div className=\"flex items-center justify-between p-4 border-b border-gray-100 bg-white\">\n              <h2 className=\"text-lg font-bold\">\n                {editingVehicle\n                  ? (language === 'ru' ? 'Редактировать авто' : 'Avtoni tahrirlash')\n                  : (language === 'ru' ? 'Добавить авто' : 'Avto qo\\'shish')}\n              </h2>\n              <button\n                onClick={() => { setShowModal(false); resetForm(); }}\n                className=\"p-3 hover:bg-gray-100 active:bg-gray-200 rounded-xl transition-colors touch-manipulation\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {/* Owner Type + Plate Number - side by side on desktop */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n                {/* Owner Type Selection */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    {language === 'ru' ? 'Тип владельца' : 'Egasi turi'}\n                  </label>\n                  <div className=\"flex gap-2\">\n                    {ownerTypes.map((type) => (\n                      <button\n                        key={type}\n                        type=\"button\"\n                        onClick={() => setSelectedOwnerType(type)}\n                        className={`flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl border-2 transition-all ${\n                          selectedOwnerType === type\n                            ? 'border-primary-500 bg-primary-50 text-primary-700'\n                            : 'border-gray-200 hover:border-gray-300'\n                        }`}\n                      >\n                        <span className=\"text-base\">{VEHICLE_OWNER_TYPE_LABELS[type].icon}</span>\n                        <span className=\"font-medium text-sm\">\n                          {language === 'ru' ? VEHICLE_OWNER_TYPE_LABELS[type].label : VEHICLE_OWNER_TYPE_LABELS[type].labelUz}\n                        </span>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Company Name (for legal entity) - shows in same row */}\n                {selectedOwnerType !== 'individual' && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      {language === 'ru' ? 'Название компании' : 'Kompaniya nomi'}\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.companyName}\n                      onChange={(e) => setFormData({ ...formData, companyName: e.target.value })}\n                      placeholder={language === 'ru' ? 'ООО \"Компания\"' : '\"Kompaniya\" MChJ'}\n                      className=\"w-full px-4 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none\"\n                    />\n                  </div>\n                )}\n              </div>\n\n              {/* Plate Number Input - Compact */}\n              <div className=\"bg-gray-50 rounded-xl p-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2 text-center\">\n                  {language === 'ru' ? 'Номер автомобиля' : 'Avtomobil raqami'}\n                </label>\n                <PlateNumberInput\n                  ownerType={selectedOwnerType}\n                  value={plateParts}\n                  onChange={(newParts) => {\n                    setPlateParts(newParts);\n                    setPlateError(null);\n                  }}\n                  language={language}\n                />\n                {plateError && (\n                  <div className=\"flex items-center justify-center gap-1 mt-2 text-red-500 text-sm\">\n                    <AlertCircle className=\"w-4 h-4\" />\n                    {plateError}\n                  </div>\n                )}\n              </div>\n\n              {/* Vehicle Details - 2 columns */}\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                {/* Type */}\n                <div className=\"col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? 'Тип транспорта' : 'Transport turi'}\n                  </label>\n                  <select\n                    value={formData.type}\n                    onChange={(e) => setFormData({ ...formData, type: e.target.value as VehicleType })}\n                    className=\"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none text-sm\"\n                    required\n                  >\n                    {Object.entries(VEHICLE_TYPE_LABELS).map(([key, labels]) => (\n                      <option key={key} value={key}>\n                        {language === 'ru' ? labels.label : labels.labelUz}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                {/* Brand */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? 'Марка' : 'Markasi'}\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.brand}\n                    onChange={(e) => setFormData({ ...formData, brand: e.target.value })}\n                    placeholder=\"Chevrolet\"\n                    className=\"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none text-sm\"\n                    required\n                  />\n                </div>\n\n                {/* Model */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? 'Модель' : 'Modeli'}\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.model}\n                    onChange={(e) => setFormData({ ...formData, model: e.target.value })}\n                    placeholder=\"Malibu\"\n                    className=\"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none text-sm\"\n                    required\n                  />\n                </div>\n\n                {/* Color */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? 'Цвет' : 'Rangi'}\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.color}\n                    onChange={(e) => setFormData({ ...formData, color: e.target.value })}\n                    placeholder={language === 'ru' ? 'Белый' : 'Oq'}\n                    className=\"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none text-sm\"\n                    required\n                  />\n                </div>\n\n                {/* Year */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? 'Год' : 'Yili'}\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={formData.year}\n                    onChange={(e) => setFormData({ ...formData, year: e.target.value })}\n                    placeholder=\"2020\"\n                    min=\"1990\"\n                    max={new Date().getFullYear()}\n                    className=\"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none text-sm\"\n                  />\n                </div>\n\n                {/* Parking Spot */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? 'Парковка' : 'Avtoturargoh'}\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.parkingSpot}\n                    onChange={(e) => setFormData({ ...formData, parkingSpot: e.target.value })}\n                    placeholder=\"A-15\"\n                    className=\"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none text-sm\"\n                  />\n                </div>\n\n                {/* Notes - full width */}\n                <div className=\"col-span-2 md:col-span-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    {language === 'ru' ? 'Примечания' : 'Izohlar'}\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.notes}\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n                    placeholder={language === 'ru' ? 'Дополнительная информация...' : 'Qo\\'shimcha ma\\'lumot...'}\n                    className=\"w-full px-3 py-2.5 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-200 focus:border-primary-400 outline-none text-sm\"\n                  />\n                </div>\n              </div>\n            </form>\n\n            <div className=\"p-4 border-t border-gray-100 bg-white safe-area-bottom\">\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => { setShowModal(false); resetForm(); }}\n                  className=\"flex-1 py-4 px-4 rounded-xl font-medium bg-gray-100 hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation\"\n                >\n                  {language === 'ru' ? 'Отмена' : 'Bekor qilish'}\n                </button>\n                <button\n                  type=\"submit\"\n                  onClick={handleSubmit}\n                  className=\"flex-1 py-4 px-4 rounded-xl font-semibold text-gray-900 bg-gradient-to-r from-primary-400 to-primary-500 hover:from-primary-500 hover:to-primary-600 active:from-primary-600 active:to-primary-700 transition-all touch-manipulation\"\n                >\n                  {editingVehicle\n                    ? (language === 'ru' ? 'Сохранить' : 'Saqlash')\n                    : (language === 'ru' ? 'Добавить' : 'Qo\\'shish')}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete Confirmation Modal */}\n      {deleteConfirm && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-white rounded-2xl p-6 max-w-sm w-full\">\n            <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 mx-auto mb-4\">\n              <AlertTriangle className=\"w-6 h-6 text-red-500\" />\n            </div>\n            <h3 className=\"text-lg font-bold text-center mb-2\">\n              {language === 'ru' ? 'Удалить автомобиль?' : 'Avtomobilni o\\'chirish?'}\n            </h3>\n            <p className=\"text-gray-500 text-center text-sm mb-6\">\n              {language === 'ru'\n                ? 'Это действие нельзя отменить'\n                : 'Bu amalni bekor qilib bo\\'lmaydi'}\n            </p>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setDeleteConfirm(null)}\n                className=\"flex-1 py-3 px-4 rounded-xl font-medium bg-gray-100 hover:bg-gray-200 transition-colors\"\n              >\n                {language === 'ru' ? 'Отмена' : 'Bekor qilish'}\n              </button>\n              <button\n                onClick={() => handleDelete(deleteConfirm)}\n                className=\"flex-1 py-3 px-4 rounded-xl font-medium text-white bg-red-500 hover:bg-red-600 transition-colors\"\n              >\n                {language === 'ru' ? 'Удалить' : 'O\\'chirish'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["UZ_REGIONS","UZFlag","className","jsxs","jsx","i","SearchPlateInput","value","onChange","language","onSearch","letters1Ref","useRef","digitsRef","letters2Ref","showRegionDropdown","setShowRegionDropdown","useState","handleRegionSelect","code","handleLetters1Change","e","val","handleDigitsChange","handleLetters2Change","handleKeyDown","field","selectedRegion","isLegalFormat","Fragment","region","PlateNumberInput","ownerType","maxLen","r","parsePlateNumber","plate","cleaned","combinePlateNumber","parts","validatePlateNumber","ResidentVehiclesPage","user","useAuthStore","addVehicle","updateVehicle","deleteVehicle","fetchVehicles","searchVehiclesByPlate","useDataStore","useLanguageStore","hasFetched","useEffect","activeTab","setActiveTab","showModal","setShowModal","editingVehicle","setEditingVehicle","deleteConfirm","setDeleteConfirm","plateError","setPlateError","searchPlateParts","setSearchPlateParts","manuallySelectedResult","setManuallySelectedResult","apiSearchResults","setApiSearchResults","isSearching","setIsSearching","selectedOwnerType","setSelectedOwnerType","plateParts","setPlateParts","formData","setFormData","vehiclesData","state","vehicles","useMemo","v","resetForm","handleOpenModal","vehicle","prev","searchPattern","letters1","digits","letters2","hasSearchInput","timeoutId","results","searchResult","filteredVehicles","hasSearched","handleSubmit","plateNumber","vehicleData","handleDelete","id","handleQuickSearch","formatDate","dateStr","formatPlateDisplay","getOwnerTypeIcon","type","User","Building2","Car","tabs","Search","ownerTypes","Plus","tab","Edit2","Trash2","VEHICLE_OWNER_TYPE_LABELS","VEHICLE_TYPE_LABELS","X","Phone","Home","MapPin","Calendar","AlertCircle","newParts","key","labels","AlertTriangle"],"mappings":"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"}