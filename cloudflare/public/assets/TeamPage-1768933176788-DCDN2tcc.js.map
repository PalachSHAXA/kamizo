{"version":3,"file":"TeamPage-1768933176788-DCDN2tcc.js","sources":["../../src/pages/admin/TeamPage.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport {\r\n  UserCog, Wrench, Phone, Star, X, Eye, EyeOff, Plus,\r\n  Copy, Check, Edit3, Save, Clock, Award, Loader2, RefreshCw,\r\n  Shield, ChevronDown, ChevronUp, Search, Filter,\r\n  Droplets, Zap, ArrowUpDown, Bell, Brush, ShieldCheck,\r\n  Hammer, Flame, Wind, Trash2, Key, Truck\r\n} from 'lucide-react';\r\nimport { teamApi } from '../../services/api';\r\nimport { SPECIALIZATION_LABELS } from '../../types';\r\nimport type { ExecutorSpecialization } from '../../types';\r\n\r\ninterface StaffMember {\r\n  id: string;\r\n  login: string;\r\n  password?: string;\r\n  name: string;\r\n  phone: string;\r\n  role: 'manager' | 'department_head' | 'executor';\r\n  specialization?: ExecutorSpecialization;\r\n  status?: string;\r\n  created_at: string;\r\n  completed_count?: number;\r\n  active_count?: number;\r\n  avg_rating?: number;\r\n}\r\n\r\nconst ROLE_LABELS: Record<string, string> = {\r\n  manager: 'Менеджер',\r\n  department_head: 'Глава отдела',\r\n  executor: 'Исполнитель',\r\n};\r\n\r\nconst ROLE_COLORS: Record<string, string> = {\r\n  manager: 'bg-purple-100 text-purple-700',\r\n  department_head: 'bg-blue-100 text-blue-700',\r\n  executor: 'bg-green-100 text-green-700',\r\n};\r\n\r\n// Иконки для специализаций\r\nconst SPECIALIZATION_ICONS: Record<ExecutorSpecialization, React.ReactNode> = {\r\n  plumber: <Droplets className=\"w-4 h-4\" />,\r\n  electrician: <Zap className=\"w-4 h-4\" />,\r\n  elevator: <ArrowUpDown className=\"w-4 h-4\" />,\r\n  intercom: <Bell className=\"w-4 h-4\" />,\r\n  cleaning: <Brush className=\"w-4 h-4\" />,\r\n  security: <ShieldCheck className=\"w-4 h-4\" />,\r\n  carpenter: <Hammer className=\"w-4 h-4\" />,\r\n  boiler: <Flame className=\"w-4 h-4\" />,\r\n  ac: <Wind className=\"w-4 h-4\" />,\r\n  courier: <Truck className=\"w-4 h-4\" />,\r\n  other: <Wrench className=\"w-4 h-4\" />,\r\n};\r\n\r\n// Цвета для специализаций\r\nconst SPECIALIZATION_COLORS: Record<ExecutorSpecialization, string> = {\r\n  plumber: 'bg-blue-100 text-blue-700',\r\n  electrician: 'bg-yellow-100 text-yellow-700',\r\n  elevator: 'bg-gray-100 text-gray-700',\r\n  intercom: 'bg-purple-100 text-purple-700',\r\n  cleaning: 'bg-pink-100 text-pink-700',\r\n  security: 'bg-red-100 text-red-700',\r\n  carpenter: 'bg-amber-100 text-amber-700',\r\n  boiler: 'bg-orange-100 text-orange-700',\r\n  ac: 'bg-cyan-100 text-cyan-700',\r\n  courier: 'bg-green-100 text-green-700',\r\n  other: 'bg-gray-100 text-gray-700',\r\n};\r\n\r\nexport function TeamPage() {\r\n  const [managers, setManagers] = useState<StaffMember[]>([]);\r\n  const [departmentHeads, setDepartmentHeads] = useState<StaffMember[]>([]);\r\n  const [executors, setExecutors] = useState<StaffMember[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // UI State\r\n  const [selectedMember, setSelectedMember] = useState<StaffMember | null>(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [copiedField, setCopiedField] = useState<string | null>(null);\r\n  const [showCredentialsModal, setShowCredentialsModal] = useState<{ login: string; password: string } | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [specializationFilter, setSpecializationFilter] = useState<ExecutorSpecialization | 'all'>('all');\r\n  const [expandedSections, setExpandedSections] = useState({\r\n    managers: true,\r\n    departmentHeads: true,\r\n    executors: true,\r\n  });\r\n\r\n  // Edit form\r\n  const [editForm, setEditForm] = useState({\r\n    name: '',\r\n    phone: '',\r\n    login: '',\r\n    password: '',\r\n    specialization: '' as ExecutorSpecialization | '',\r\n  });\r\n  const [isLoadingDetails, setIsLoadingDetails] = useState(false);\r\n\r\n  // Add new member modal\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [addForm, setAddForm] = useState({\r\n    name: '',\r\n    phone: '',\r\n    login: '',\r\n    password: '',\r\n    role: 'executor' as 'manager' | 'department_head' | 'executor',\r\n    specialization: '' as ExecutorSpecialization | '',\r\n  });\r\n  const [addLoading, setAddLoading] = useState(false);\r\n  const [addError, setAddError] = useState<string | null>(null);\r\n\r\n  // Fetch team data\r\n  const fetchTeam = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const data = await teamApi.getAll();\r\n      setManagers(data.managers || []);\r\n      setDepartmentHeads(data.departmentHeads || []);\r\n      setExecutors(data.executors || []);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Ошибка загрузки данных');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTeam();\r\n  }, []);\r\n\r\n  const handleOpenDetails = async (member: StaffMember) => {\r\n    // Show modal immediately with cached data\r\n    setSelectedMember(member);\r\n    setEditForm({\r\n      name: member.name,\r\n      phone: member.phone,\r\n      login: member.login,\r\n      password: '',\r\n      specialization: member.specialization || '',\r\n    });\r\n    setIsEditing(false);\r\n    setShowPassword(false);\r\n\r\n    // Then fetch fresh data from API (including password)\r\n    setIsLoadingDetails(true);\r\n    try {\r\n      const response = await teamApi.getById(member.id);\r\n      if (response.user) {\r\n        const freshData = {\r\n          ...member,\r\n          ...response.user,\r\n        };\r\n        setSelectedMember(freshData);\r\n        setEditForm({\r\n          name: freshData.name,\r\n          phone: freshData.phone,\r\n          login: freshData.login,\r\n          password: '',\r\n          specialization: freshData.specialization || '',\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch staff details:', err);\r\n    } finally {\r\n      setIsLoadingDetails(false);\r\n    }\r\n  };\r\n\r\n  const handleCloseDetails = () => {\r\n    setSelectedMember(null);\r\n    setIsEditing(false);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const handleCopy = (text: string, field: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    setCopiedField(field);\r\n    setTimeout(() => setCopiedField(null), 2000);\r\n  };\r\n\r\n  const handleSaveChanges = async () => {\r\n    if (!selectedMember) return;\r\n\r\n    try {\r\n      const updates: any = {};\r\n      if (editForm.name !== selectedMember.name) updates.name = editForm.name;\r\n      if (editForm.phone !== selectedMember.phone) updates.phone = editForm.phone;\r\n      if (editForm.login !== selectedMember.login) updates.login = editForm.login;\r\n      if (editForm.password) updates.password = editForm.password;\r\n      if (editForm.specialization !== selectedMember.specialization) {\r\n        updates.specialization = editForm.specialization;\r\n      }\r\n\r\n      if (Object.keys(updates).length > 0) {\r\n        const response = await teamApi.update(selectedMember.id, updates);\r\n\r\n        // Refresh data from server\r\n        await fetchTeam();\r\n\r\n        // Update selected member with response data (includes password from server)\r\n        if (response.user) {\r\n          setSelectedMember({\r\n            ...selectedMember,\r\n            ...response.user,\r\n          });\r\n        }\r\n      }\r\n\r\n      setIsEditing(false);\r\n      setEditForm(prev => ({ ...prev, password: '' })); // Clear password field\r\n    } catch (err: any) {\r\n      alert('Ошибка сохранения: ' + err.message);\r\n    }\r\n  };\r\n\r\n  // Generate random password\r\n  const generatePassword = () => {\r\n    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    let password = '';\r\n    for (let i = 0; i < 8; i++) {\r\n      password += chars.charAt(Math.floor(Math.random() * chars.length));\r\n    }\r\n    return password;\r\n  };\r\n\r\n  // Handle add new member\r\n  const handleAddMember = async () => {\r\n    setAddError(null);\r\n\r\n    // Validation\r\n    if (!addForm.name.trim()) {\r\n      setAddError('Введите ФИО');\r\n      return;\r\n    }\r\n    if (!addForm.login.trim()) {\r\n      setAddError('Введите логин');\r\n      return;\r\n    }\r\n    if (!addForm.password.trim()) {\r\n      setAddError('Введите пароль');\r\n      return;\r\n    }\r\n    if ((addForm.role === 'executor' || addForm.role === 'department_head') && !addForm.specialization) {\r\n      setAddError('Выберите специализацию');\r\n      return;\r\n    }\r\n\r\n    setAddLoading(true);\r\n    try {\r\n      const result = await teamApi.create({\r\n        login: addForm.login,\r\n        password: addForm.password,\r\n        name: addForm.name,\r\n        phone: addForm.phone,\r\n        role: addForm.role,\r\n        specialization: addForm.specialization || undefined,\r\n      });\r\n\r\n      // Show credentials modal (password comes from server response or use submitted)\r\n      setShowCredentialsModal({\r\n        login: addForm.login,\r\n        password: result.user?.password || addForm.password,\r\n      });\r\n\r\n      // Reset form and close modal\r\n      setAddForm({\r\n        name: '',\r\n        phone: '',\r\n        login: '',\r\n        password: '',\r\n        role: 'executor',\r\n        specialization: '',\r\n      });\r\n      setShowAddModal(false);\r\n\r\n      // Refresh data\r\n      await fetchTeam();\r\n    } catch (err: any) {\r\n      setAddError(err.message || 'Ошибка создания сотрудника');\r\n    } finally {\r\n      setAddLoading(false);\r\n    }\r\n  };\r\n\r\n  const openAddModal = (role: 'manager' | 'department_head' | 'executor' = 'executor') => {\r\n    setAddForm({\r\n      name: '',\r\n      phone: '',\r\n      login: '',\r\n      password: generatePassword(),\r\n      role,\r\n      specialization: '',\r\n    });\r\n    setAddError(null);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  // Handle delete member\r\n  const handleDeleteMember = async (member: StaffMember) => {\r\n    if (!confirm(`Удалить сотрудника \"${member.name}\"? Это действие необратимо.`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await teamApi.delete(member.id);\r\n      // Close modal if this member was selected\r\n      if (selectedMember?.id === member.id) {\r\n        setSelectedMember(null);\r\n      }\r\n      // Refresh data\r\n      await fetchTeam();\r\n    } catch (err: any) {\r\n      alert('Ошибка удаления: ' + err.message);\r\n    }\r\n  };\r\n\r\n  // Handle reset all passwords for staff without password_plain\r\n  const handleResetAllPasswords = async () => {\r\n    // Count staff without passwords\r\n    const staffWithoutPassword = [\r\n      ...managers.filter(m => !m.password),\r\n      ...departmentHeads.filter(m => !m.password),\r\n      ...executors.filter(m => !m.password),\r\n    ];\r\n\r\n    if (staffWithoutPassword.length === 0) {\r\n      alert('Все сотрудники уже имеют пароли');\r\n      return;\r\n    }\r\n\r\n    if (!confirm(`Сбросить пароли для ${staffWithoutPassword.length} сотрудников без паролей?\\n\\nЭто сгенерирует новые пароли для всех сотрудников, у которых не отображается пароль.`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const result = await teamApi.resetAllPasswords();\r\n\r\n      if (result.updated > 0) {\r\n        // Show list of updated users with their new passwords\r\n        const message = result.staff.map(s => `${s.name}: ${s.login} / ${s.password}`).join('\\n');\r\n        alert(`Обновлено ${result.updated} сотрудников:\\n\\n${message}`);\r\n      } else {\r\n        alert(result.message);\r\n      }\r\n\r\n      // Refresh data\r\n      await fetchTeam();\r\n    } catch (err: any) {\r\n      alert('Ошибка сброса паролей: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleSection = (section: keyof typeof expandedSections) => {\r\n    setExpandedSections(prev => ({ ...prev, [section]: !prev[section] }));\r\n  };\r\n\r\n  // Filter by search query and specialization\r\n  const filterMembers = (members: StaffMember[]) => {\r\n    let filtered = members;\r\n\r\n    // Filter by specialization\r\n    if (specializationFilter !== 'all') {\r\n      filtered = filtered.filter(m => m.specialization === specializationFilter);\r\n    }\r\n\r\n    // Filter by search query\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(m =>\r\n        m.name.toLowerCase().includes(query) ||\r\n        m.phone.includes(query) ||\r\n        m.login.toLowerCase().includes(query) ||\r\n        (m.specialization && SPECIALIZATION_LABELS[m.specialization]?.toLowerCase().includes(query))\r\n      );\r\n    }\r\n\r\n    return filtered;\r\n  };\r\n\r\n  // Get unique specializations from all staff\r\n  const allSpecializations = [...new Set([\r\n    ...departmentHeads.map(m => m.specialization).filter(Boolean),\r\n    ...executors.map(m => m.specialization).filter(Boolean),\r\n  ])] as ExecutorSpecialization[];\r\n\r\n  const filteredManagers = filterMembers(managers);\r\n  const filteredDepartmentHeads = filterMembers(departmentHeads);\r\n  const filteredExecutors = filterMembers(executors);\r\n\r\n  const getStatusBadge = (status?: string) => {\r\n    switch (status) {\r\n      case 'available': return <span className=\"badge badge-done text-xs\">Доступен</span>;\r\n      case 'busy': return <span className=\"badge badge-progress text-xs\">Занят</span>;\r\n      case 'offline': return <span className=\"badge bg-gray-100 text-gray-600 text-xs\">Не в сети</span>;\r\n      default: return null;\r\n    }\r\n  };\r\n\r\n  const renderStaffCard = (member: StaffMember) => (\r\n    <div\r\n      key={member.id}\r\n      className=\"glass-card p-4 hover:shadow-lg transition-shadow cursor-pointer relative group\"\r\n      onClick={() => handleOpenDetails(member)}\r\n    >\r\n      {/* Delete button */}\r\n      <button\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          handleDeleteMember(member);\r\n        }}\r\n        className=\"absolute top-2 right-2 p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-all\"\r\n        title=\"Удалить сотрудника\"\r\n      >\r\n        <Trash2 className=\"w-4 h-4\" />\r\n      </button>\r\n\r\n      <div className=\"flex items-start justify-between mb-3 pr-8\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className={`w-12 h-12 rounded-full flex items-center justify-center text-lg font-medium ${\r\n            member.specialization\r\n              ? SPECIALIZATION_COLORS[member.specialization]\r\n              : 'bg-primary-100 text-primary-700'\r\n          }`}>\r\n            {member.specialization\r\n              ? SPECIALIZATION_ICONS[member.specialization]\r\n              : member.name.split(' ').map(n => n[0]).join('').slice(0, 2)\r\n            }\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-semibold\">{member.name}</h3>\r\n            {member.specialization && (\r\n              <div className=\"flex items-center gap-1 text-sm text-gray-500\">\r\n                {SPECIALIZATION_LABELS[member.specialization] || member.specialization}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col items-end gap-1\">\r\n          <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${ROLE_COLORS[member.role]}`}>\r\n            {ROLE_LABELS[member.role]}\r\n          </span>\r\n          {getStatusBadge(member.status)}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2 text-sm text-gray-600\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Phone className=\"w-4 h-4\" />\r\n          {member.phone}\r\n        </div>\r\n        {(member.role === 'executor' || member.role === 'department_head') && (\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <Star className=\"w-4 h-4 text-amber-400\" />\r\n              {member.avg_rating || 0}\r\n            </div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <Check className=\"w-4 h-4 text-green-500\" />\r\n              {member.completed_count || 0} выполнено\r\n            </div>\r\n            {member.active_count ? (\r\n              <div className=\"flex items-center gap-1\">\r\n                <Clock className=\"w-4 h-4 text-blue-500\" />\r\n                {member.active_count} активных\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSection = (\r\n    title: string,\r\n    icon: React.ReactNode,\r\n    members: StaffMember[],\r\n    sectionKey: keyof typeof expandedSections\r\n  ) => (\r\n    <div className=\"glass-card overflow-hidden\">\r\n      <button\r\n        className=\"w-full p-4 flex items-center justify-between bg-gray-50 hover:bg-gray-100 transition-colors\"\r\n        onClick={() => toggleSection(sectionKey)}\r\n      >\r\n        <div className=\"flex items-center gap-3\">\r\n          {icon}\r\n          <h2 className=\"text-lg font-semibold\">{title}</h2>\r\n          <span className=\"px-2 py-0.5 rounded-full bg-gray-200 text-gray-700 text-sm\">\r\n            {members.length}\r\n          </span>\r\n        </div>\r\n        {expandedSections[sectionKey] ? (\r\n          <ChevronUp className=\"w-5 h-5 text-gray-500\" />\r\n        ) : (\r\n          <ChevronDown className=\"w-5 h-5 text-gray-500\" />\r\n        )}\r\n      </button>\r\n\r\n      {expandedSections[sectionKey] && (\r\n        <div className=\"p-4\">\r\n          {members.length === 0 ? (\r\n            <div className=\"text-center py-8 text-gray-500\">\r\n              Нет сотрудников\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {members.map(renderStaffCard)}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary-500\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"glass-card p-8 text-center\">\r\n        <div className=\"text-red-500 mb-4\">{error}</div>\r\n        <button onClick={fetchTeam} className=\"btn-primary\">\r\n          Повторить\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between flex-wrap gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Персонал</h1>\r\n          <p className=\"text-gray-500 text-sm mt-1\">\r\n            Всего: {managers.length + departmentHeads.length + executors.length} сотрудников\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3 flex-wrap\">\r\n          {/* Search */}\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Поиск...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"pl-10 pr-4 py-2 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          {/* Specialization Filter */}\r\n          <div className=\"relative\">\r\n            <Filter className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n            <select\r\n              value={specializationFilter}\r\n              onChange={(e) => setSpecializationFilter(e.target.value as ExecutorSpecialization | 'all')}\r\n              className=\"pl-10 pr-8 py-2 rounded-xl border border-gray-200 focus:ring-2 focus:ring-primary-500 focus:border-transparent appearance-none bg-white\"\r\n            >\r\n              <option value=\"all\">Все специализации</option>\r\n              {allSpecializations.map(spec => (\r\n                <option key={spec} value={spec}>{SPECIALIZATION_LABELS[spec]}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <button\r\n            onClick={fetchTeam}\r\n            className=\"btn-secondary p-2\"\r\n            title=\"Обновить\"\r\n          >\r\n            <RefreshCw className=\"w-5 h-5\" />\r\n          </button>\r\n          {/* Show reset passwords button only if there are staff without passwords */}\r\n          {[...managers, ...departmentHeads, ...executors].some(m => !m.password) && (\r\n            <button\r\n              onClick={handleResetAllPasswords}\r\n              className=\"btn-secondary flex items-center gap-2 text-orange-600 hover:bg-orange-50\"\r\n              title=\"Сбросить пароли для сотрудников без паролей\"\r\n            >\r\n              <Key className=\"w-5 h-5\" />\r\n              <span className=\"hidden sm:inline\">Сбросить пароли</span>\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => openAddModal('executor')}\r\n            className=\"btn-primary flex items-center gap-2\"\r\n          >\r\n            <Plus className=\"w-5 h-5\" />\r\n            <span className=\"hidden sm:inline\">Добавить сотрудника</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"glass-card p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center\">\r\n              <Shield className=\"w-6 h-6 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold\">{managers.length}</div>\r\n              <div className=\"text-sm text-gray-500\">Менеджеров</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center\">\r\n              <UserCog className=\"w-6 h-6 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold\">{departmentHeads.length}</div>\r\n              <div className=\"text-sm text-gray-500\">Глав отделов</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"glass-card p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center\">\r\n              <Wrench className=\"w-6 h-6 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"text-2xl font-bold\">{executors.length}</div>\r\n              <div className=\"text-sm text-gray-500\">Исполнителей</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sections */}\r\n      <div className=\"space-y-4\">\r\n        {renderSection(\r\n          'Менеджеры',\r\n          <Shield className=\"w-5 h-5 text-purple-500\" />,\r\n          filteredManagers,\r\n          'managers'\r\n        )}\r\n        {renderSection(\r\n          'Главы отделов',\r\n          <UserCog className=\"w-5 h-5 text-blue-500\" />,\r\n          filteredDepartmentHeads,\r\n          'departmentHeads'\r\n        )}\r\n        {renderSection(\r\n          'Исполнители',\r\n          <Wrench className=\"w-5 h-5 text-green-500\" />,\r\n          filteredExecutors,\r\n          'executors'\r\n        )}\r\n      </div>\r\n\r\n      {/* Add Member Modal */}\r\n      {showAddModal && (\r\n        <div className=\"modal-backdrop\" onClick={() => setShowAddModal(false)}>\r\n          <div className=\"modal-content p-6 w-full max-w-lg mx-4\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <h2 className=\"text-xl font-bold\">Добавить сотрудника</h2>\r\n              <button onClick={() => setShowAddModal(false)} className=\"p-2 hover:bg-gray-100 rounded-lg\">\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {addError && (\r\n              <div className=\"bg-red-50 text-red-600 p-3 rounded-xl mb-4 text-sm\">\r\n                {addError}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Роль *</label>\r\n                <select\r\n                  value={addForm.role}\r\n                  onChange={(e) => setAddForm({ ...addForm, role: e.target.value as 'manager' | 'department_head' | 'executor' })}\r\n                  className=\"input-field\"\r\n                >\r\n                  <option value=\"executor\">Исполнитель</option>\r\n                  <option value=\"department_head\">Глава отдела</option>\r\n                  <option value=\"manager\">Менеджер</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">ФИО *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={addForm.name}\r\n                  onChange={(e) => setAddForm({ ...addForm, name: e.target.value })}\r\n                  className=\"input-field\"\r\n                  placeholder=\"Иванов Иван Иванович\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Телефон</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={addForm.phone}\r\n                  onChange={(e) => setAddForm({ ...addForm, phone: e.target.value })}\r\n                  className=\"input-field\"\r\n                  placeholder=\"+998 XX XXX XX XX\"\r\n                />\r\n              </div>\r\n\r\n              {(addForm.role === 'executor' || addForm.role === 'department_head') && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Специализация *</label>\r\n                  <select\r\n                    value={addForm.specialization}\r\n                    onChange={(e) => setAddForm({ ...addForm, specialization: e.target.value as ExecutorSpecialization })}\r\n                    className=\"input-field\"\r\n                  >\r\n                    <option value=\"\">Выберите специализацию</option>\r\n                    <option value=\"plumber\">Сантехник</option>\r\n                    <option value=\"electrician\">Электрик</option>\r\n                    <option value=\"elevator\">Лифтёр</option>\r\n                    <option value=\"intercom\">Домофон</option>\r\n                    <option value=\"cleaning\">Уборщица</option>\r\n                    <option value=\"security\">Охранник</option>\r\n                    <option value=\"carpenter\">Столяр</option>\r\n                    <option value=\"boiler\">Котельщик</option>\r\n                    <option value=\"ac\">Кондиционерщик</option>\r\n                    <option value=\"courier\">Курьер</option>\r\n                    <option value=\"other\">Другое</option>\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"border-t pt-4 mt-4\">\r\n                <div className=\"text-sm font-medium text-gray-700 mb-3\">Данные для входа</div>\r\n\r\n                <div className=\"mb-3\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Логин *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={addForm.login}\r\n                    onChange={(e) => setAddForm({ ...addForm, login: e.target.value })}\r\n                    className=\"input-field\"\r\n                    placeholder=\"ivanov\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Пароль *</label>\r\n                  <div className=\"flex gap-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={addForm.password}\r\n                      onChange={(e) => setAddForm({ ...addForm, password: e.target.value })}\r\n                      className=\"input-field flex-1\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setAddForm({ ...addForm, password: generatePassword() })}\r\n                      className=\"btn-secondary px-3\"\r\n                      title=\"Сгенерировать пароль\"\r\n                    >\r\n                      <RefreshCw className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleCopy(addForm.password, 'addPassword')}\r\n                      className=\"btn-secondary px-3\"\r\n                      title=\"Копировать пароль\"\r\n                    >\r\n                      {copiedField === 'addPassword' ? <Check className=\"w-4 h-4 text-green-500\" /> : <Copy className=\"w-4 h-4\" />}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <button\r\n                onClick={() => setShowAddModal(false)}\r\n                className=\"btn-secondary flex-1\"\r\n                disabled={addLoading}\r\n              >\r\n                Отмена\r\n              </button>\r\n              <button\r\n                onClick={handleAddMember}\r\n                disabled={addLoading}\r\n                className=\"btn-primary flex-1 flex items-center justify-center gap-2\"\r\n              >\r\n                {addLoading ? (\r\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                ) : (\r\n                  <Plus className=\"w-4 h-4\" />\r\n                )}\r\n                Добавить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Details Modal */}\r\n      {selectedMember && (\r\n        <div className=\"modal-backdrop\" onClick={handleCloseDetails}>\r\n          <div className=\"modal-content p-6 w-full max-w-lg mx-4\" onClick={(e) => e.stopPropagation()}>\r\n            {/* Header */}\r\n            <div className=\"flex items-start justify-between mb-6\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center text-2xl font-medium text-primary-700\">\r\n                  {selectedMember.name.split(' ').map(n => n[0]).join('').slice(0, 2)}\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold\">{selectedMember.name}</h2>\r\n                  <div className=\"flex items-center gap-2 mt-1\">\r\n                    <span className={`px-2 py-0.5 rounded-full text-xs font-medium ${ROLE_COLORS[selectedMember.role]}`}>\r\n                      {ROLE_LABELS[selectedMember.role]}\r\n                    </span>\r\n                    {selectedMember.specialization && (\r\n                      <span className=\"text-sm text-gray-500\">\r\n                        {SPECIALIZATION_LABELS[selectedMember.specialization]}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {getStatusBadge(selectedMember.status)}\r\n                </div>\r\n              </div>\r\n              <button onClick={handleCloseDetails} className=\"p-2 hover:bg-gray-100 rounded-lg\">\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Stats for executors */}\r\n            {selectedMember.role === 'executor' && (\r\n              <div className=\"grid grid-cols-3 gap-3 mb-6\">\r\n                <div className=\"bg-amber-50 rounded-xl p-3 text-center\">\r\n                  <div className=\"flex items-center justify-center gap-1 text-amber-600 mb-1\">\r\n                    <Star className=\"w-4 h-4\" />\r\n                    <span className=\"font-bold text-lg\">{selectedMember.avg_rating || 0}</span>\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500\">Рейтинг</div>\r\n                </div>\r\n                <div className=\"bg-green-50 rounded-xl p-3 text-center\">\r\n                  <div className=\"flex items-center justify-center gap-1 text-green-600 mb-1\">\r\n                    <Award className=\"w-4 h-4\" />\r\n                    <span className=\"font-bold text-lg\">{selectedMember.completed_count || 0}</span>\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500\">Выполнено</div>\r\n                </div>\r\n                <div className=\"bg-blue-50 rounded-xl p-3 text-center\">\r\n                  <div className=\"flex items-center justify-center gap-1 text-blue-600 mb-1\">\r\n                    <Clock className=\"w-4 h-4\" />\r\n                    <span className=\"font-bold text-lg\">{selectedMember.active_count || 0}</span>\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500\">Активных</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Info / Edit Form */}\r\n            {isEditing ? (\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">ФИО</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editForm.name}\r\n                    onChange={(e) => setEditForm({ ...editForm, name: e.target.value })}\r\n                    className=\"input-field\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Телефон</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editForm.phone}\r\n                    onChange={(e) => setEditForm({ ...editForm, phone: e.target.value })}\r\n                    className=\"input-field\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Логин</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editForm.login}\r\n                    onChange={(e) => setEditForm({ ...editForm, login: e.target.value })}\r\n                    className=\"input-field\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Новый пароль</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editForm.password}\r\n                    onChange={(e) => setEditForm({ ...editForm, password: e.target.value })}\r\n                    className=\"input-field\"\r\n                    placeholder=\"Оставьте пустым, чтобы не менять\"\r\n                  />\r\n                </div>\r\n                {(selectedMember.role === 'executor' || selectedMember.role === 'department_head') && (\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Специализация</label>\r\n                    <select\r\n                      value={editForm.specialization}\r\n                      onChange={(e) => setEditForm({ ...editForm, specialization: e.target.value as ExecutorSpecialization })}\r\n                      className=\"input-field\"\r\n                    >\r\n                      <option value=\"\">Не указана</option>\r\n                      <option value=\"plumber\">Сантехник</option>\r\n                      <option value=\"electrician\">Электрик</option>\r\n                      <option value=\"elevator\">Лифтёр</option>\r\n                      <option value=\"intercom\">Домофон</option>\r\n                      <option value=\"cleaning\">Уборщица</option>\r\n                      <option value=\"gardener\">Садовник</option>\r\n                      <option value=\"security\">Охранник</option>\r\n                      <option value=\"carpenter\">Столяр</option>\r\n                      <option value=\"boiler\">Котельщик</option>\r\n                      <option value=\"ac\">Кондиционерщик</option>\r\n                      <option value=\"other\">Другое</option>\r\n                    </select>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {/* Contact Info */}\r\n                <div className=\"bg-gray-50 rounded-xl p-4 space-y-3\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2 text-gray-600\">\r\n                      <Phone className=\"w-4 h-4\" />\r\n                      <span className=\"text-sm\">Телефон</span>\r\n                    </div>\r\n                    <span className=\"font-medium\">{selectedMember.phone}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Credentials */}\r\n                <div className=\"bg-blue-50 rounded-xl p-4 space-y-3\">\r\n                  <div className=\"text-sm font-medium text-blue-800 mb-2\">Данные для входа</div>\r\n\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">Логин</span>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <code className=\"bg-white px-2 py-1 rounded text-sm font-mono\">{selectedMember.login}</code>\r\n                      <button\r\n                        onClick={() => handleCopy(selectedMember.login, 'login')}\r\n                        className=\"p-1 hover:bg-blue-100 rounded\"\r\n                        title=\"Копировать\"\r\n                      >\r\n                        {copiedField === 'login' ? <Check className=\"w-4 h-4 text-green-500\" /> : <Copy className=\"w-4 h-4 text-gray-400\" />}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">Пароль</span>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      {isLoadingDetails ? (\r\n                        <span className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n                          <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                          Загрузка...\r\n                        </span>\r\n                      ) : selectedMember.password ? (\r\n                        <>\r\n                          <code className=\"bg-white px-2 py-1 rounded text-sm font-mono\">\r\n                            {showPassword ? selectedMember.password : '••••••••'}\r\n                          </code>\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              e.stopPropagation();\r\n                              setShowPassword(!showPassword);\r\n                            }}\r\n                            className=\"p-2 hover:bg-blue-100 active:bg-blue-200 rounded touch-manipulation z-10\"\r\n                            title={showPassword ? 'Скрыть' : 'Показать'}\r\n                          >\r\n                            {showPassword ? <EyeOff className=\"w-4 h-4 text-gray-400\" /> : <Eye className=\"w-4 h-4 text-gray-400\" />}\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleCopy(selectedMember.password || '', 'password')}\r\n                            className=\"p-1 hover:bg-blue-100 rounded\"\r\n                            title=\"Копировать\"\r\n                          >\r\n                            {copiedField === 'password' ? <Check className=\"w-4 h-4 text-green-500\" /> : <Copy className=\"w-4 h-4 text-gray-400\" />}\r\n                          </button>\r\n                        </>\r\n                      ) : (\r\n                        <span className=\"text-sm text-gray-400 italic\">Задайте через \"Редактировать\"</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Created date */}\r\n                <div className=\"text-sm text-gray-500 text-center\">\r\n                  Добавлен: {new Date(selectedMember.created_at).toLocaleDateString('ru-RU')}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex gap-3 mt-6\">\r\n              {isEditing ? (\r\n                <>\r\n                  <button onClick={() => setIsEditing(false)} className=\"btn-secondary flex-1\">\r\n                    Отмена\r\n                  </button>\r\n                  <button onClick={handleSaveChanges} className=\"btn-primary flex-1 flex items-center justify-center gap-2\">\r\n                    <Save className=\"w-4 h-4\" />\r\n                    Сохранить\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <button onClick={() => setIsEditing(true)} className=\"btn-primary w-full flex items-center justify-center gap-2\">\r\n                  <Edit3 className=\"w-4 h-4\" />\r\n                  Редактировать\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Credentials Modal - shows after creating new user */}\r\n      {showCredentialsModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 animate-fade-in\">\r\n            <div className=\"text-center mb-6\">\r\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <Check className=\"w-8 h-8 text-green-600\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-bold text-gray-900\">Сотрудник создан!</h3>\r\n              <p className=\"text-gray-500 mt-2\">Сохраните учетные данные для входа</p>\r\n            </div>\r\n\r\n            <div className=\"space-y-4 bg-gray-50 rounded-xl p-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm text-gray-600\">Логин</span>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <code className=\"bg-white px-3 py-1.5 rounded-lg text-sm font-mono font-medium\">\r\n                    {showCredentialsModal.login}\r\n                  </code>\r\n                  <button\r\n                    onClick={() => {\r\n                      navigator.clipboard.writeText(showCredentialsModal.login);\r\n                      setCopiedField('cred-login');\r\n                      setTimeout(() => setCopiedField(null), 2000);\r\n                    }}\r\n                    className=\"p-1.5 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                  >\r\n                    {copiedField === 'cred-login' ? <Check className=\"w-4 h-4 text-green-500\" /> : <Copy className=\"w-4 h-4 text-gray-400\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm text-gray-600\">Пароль</span>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <code className=\"bg-white px-3 py-1.5 rounded-lg text-sm font-mono font-medium\">\r\n                    {showCredentialsModal.password}\r\n                  </code>\r\n                  <button\r\n                    onClick={() => {\r\n                      navigator.clipboard.writeText(showCredentialsModal.password);\r\n                      setCopiedField('cred-password');\r\n                      setTimeout(() => setCopiedField(null), 2000);\r\n                    }}\r\n                    className=\"p-1.5 hover:bg-gray-200 rounded-lg transition-colors\"\r\n                  >\r\n                    {copiedField === 'cred-password' ? <Check className=\"w-4 h-4 text-green-500\" /> : <Copy className=\"w-4 h-4 text-gray-400\" />}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 p-3 bg-yellow-50 rounded-xl border border-yellow-200\">\r\n              <p className=\"text-sm text-yellow-800\">\r\n                ⚠️ Сохраните эти данные! Пароль показывается только один раз.\r\n              </p>\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => setShowCredentialsModal(null)}\r\n              className=\"btn-primary w-full mt-6\"\r\n            >\r\n              Готово\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ROLE_LABELS","ROLE_COLORS","SPECIALIZATION_ICONS","jsx","Droplets","Zap","ArrowUpDown","Bell","Brush","ShieldCheck","Hammer","Flame","Wind","Truck","Wrench","SPECIALIZATION_COLORS","TeamPage","managers","setManagers","useState","departmentHeads","setDepartmentHeads","executors","setExecutors","loading","setLoading","error","setError","selectedMember","setSelectedMember","isEditing","setIsEditing","showPassword","setShowPassword","copiedField","setCopiedField","showCredentialsModal","setShowCredentialsModal","searchQuery","setSearchQuery","specializationFilter","setSpecializationFilter","expandedSections","setExpandedSections","editForm","setEditForm","isLoadingDetails","setIsLoadingDetails","showAddModal","setShowAddModal","addForm","setAddForm","addLoading","setAddLoading","addError","setAddError","fetchTeam","data","teamApi","err","useEffect","handleOpenDetails","member","response","freshData","handleCloseDetails","handleCopy","text","field","handleSaveChanges","updates","prev","generatePassword","chars","password","i","handleAddMember","result","openAddModal","role","handleDeleteMember","handleResetAllPasswords","staffWithoutPassword","m","message","s","toggleSection","section","filterMembers","members","filtered","query","SPECIALIZATION_LABELS","allSpecializations","filteredManagers","filteredDepartmentHeads","filteredExecutors","getStatusBadge","status","renderStaffCard","jsxs","e","Trash2","n","Phone","Star","Check","Clock","renderSection","title","icon","sectionKey","ChevronUp","ChevronDown","Loader2","Search","Filter","spec","RefreshCw","Key","Plus","Shield","UserCog","X","Copy","Award","Fragment","EyeOff","Eye","Save","Edit3"],"mappings":"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"}